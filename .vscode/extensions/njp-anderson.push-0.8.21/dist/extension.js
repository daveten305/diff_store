module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=76)}([function(e,t){e.exports=require("vscode")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("fs")},function(e,t,r){const n=r(0),i=r(25),s=r(18),{PUSH_MESSAGE_PREFIX:o}=r(5),a={en_gb:r(86),it:r(87),ja:r(88)};class c{constructor(){this._default_locale="en_gb",this._locale="en_gb",this.strings={base:a.en_gb,localised:{}},this.setLocale(),n.workspace.onDidChangeConfiguration(()=>this.setLocale())}setLocale(e){e=e||s.get("locale");try{return this.strings.localised=a[e],void(this._locale=e)}catch(t){this.strings.localised={...this.strings.base},this._locale=this._default_locale,n.window.showErrorMessage(o+this.t("no_locale",e))}}moment(e){return"en_gb"!==this._locale&&i.locale(this._locale.replace(/_/,"-")),i(e)}t(e){let t=this.getLocalisedString(e);return c.tests.has_placeholders.test(t)&&[...arguments].slice(1).forEach((e,r)=>{t=t.replace(RegExp("\\$\\{"+(r+1)+"\\}","g"),e),t=t.replace(RegExp("p\\{"+(r+1)+"\\:([^:]*)\\:([^\\}]*)\\}","g"),"number"==typeof e&&1!==e?"$2":"$1")}),t}o(e,t){let r;for(r in e)e[r]=this.t.apply(this,t&&t[r]?[e[r]].concat(t[r]||[]):[e[r]]);return e}getLocalisedString(e){return this.strings.localised[e]?this.strings.localised[e]:this.strings.base[e]?this.strings.base[e]:`!!${e}!!`}}c.tests={has_placeholders:/(\$|p)\{\d+\}/},e.exports=new c},function(e,t,r){const n=r(0),i=r(3),s=r(1),o=r(85),a=n.extensions.getExtension("njp-anderson.push").extensionPath;e.exports={ROOT:a,DEBUG:function(){let e;return!!i.existsSync(s.join(a,".debug"))&&(e=o.parse(i.readFileSync(s.join(a,".debug"),"utf-8")),e.trace_allow&&(e.trace_allow=new RegExp(e.trace_allow)),e)}(),CONFIG_FORMATS:{SSFTP:/sftp-config\.json/i},DEFAULT_SERVICE_CONFIG:["{",'\t"env": "default",','\t"default": {','\t\t"service": "[ServiceName]",','\t\t"options": {',"\t\t\t// {{PLACACEHOLDER_EMPTY_CONFIG}}","\t\t}","\t}","}"].join("\n"),STATUS_PRIORITIES:{ENV:1,UPLOAD_QUEUE:2,WATCH:3,UPLOAD_STATUS:4},ENV_DEFAULT_STATUS_COLOR:"statusBar.foreground",TRANSFER_TYPES:{PUT:0,GET:1},CACHE_SOURCES:{remote:"remote",local:"local"},QUEUE_LOG_TYPES:{success:0,fail:1,skip:2},TMP_FILE_PREFIX:"vscode-push-tmp-",PUSH_MESSAGE_PREFIX:"Push: "}},function(e,t,r){const n=r(0),i=r(44),s=r(3),o=r(18),a=r(8),c=r(4),u=r(9),{TMP_FILE_PREFIX:h,PUSH_MESSAGE_PREFIX:l,DEBUG:f}=r(5),p={_timeouts:{},_filenameRegexCache:{},_sb:null,traceCounter:0,showMessage(e){p.displayErrorOrString("showInformationMessage",e)},showLocalisedMessage(){p.showMessage(c.t.apply(c,[...arguments]))},showError(e){p.displayErrorOrString("showErrorMessage",e)},showWarning(e){p.displayErrorOrString("showWarningMessage",e)},showLocalisedWarning(){p.showWarning(c.t.apply(c,[...arguments]))},showStatusMessage(e,t=0,r=null){return this.hideStatusMessage(),r||(r=new n.ThemeColor(o.get("statusMessageColor"))),this._sb=n.window.createStatusBarItem(n.StatusBarAlignment.left,1),this._sb.text=e,this._sb.color=r,this._sb.show(),0!==t&&(this._timeouts.sb&&clearTimeout(this._timeouts.sb),this._timeouts.sb=setTimeout(()=>{this.hideStatusMessage(),this._timeouts.sb=null},1e3*t)),this._sb},hideStatusMessage(){this._sb&&this._sb.dispose()},displayErrorOrString(e,t){t instanceof Error?n.window[e](l+t.message):n.window[e](l+t)},showFileCollisionPicker(e,t,r=0,i){let s=[p.collisionOpts.skip,p.collisionOpts.rename,p.collisionOpts.stop,p.collisionOpts.overwrite];return i=i||c.t("filename_exists",e),r>1&&(s=s.concat([p.collisionOptsAll.skip,p.collisionOptsAll.rename,p.collisionOptsAll.overwrite])),new Promise(e=>{n.window.showQuickPick(s,{placeHolder:i,onDidSelectItem:t}).then(t=>{e({option:t,type:"normal"})})})},showMismatchCollisionPicker(e,t){let r=[p.collisionOpts.skip,p.collisionOpts.rename,p.collisionOpts.stop],i=c.t("filename_exists_mismatch",e);return new Promise(e=>{n.window.showQuickPick(r,{placeHolder:i,onDidSelectItem:t}).then(t=>{e({option:t,type:"mismatch_type"})})})},trimSeparators:function(e,t="/"){const r=new RegExp("^"+t+"+|\\"+t+"+$","g");return e.trim(r,"")},addTrailingSeperator:(e,t="/")=>e.endsWith(t)?e:e+t,addLeadingSeperator:(e,t="/")=>e.startsWith(t)?e:e+e,writeFileFromStream(e,t,r="",n=!0){return new Promise((i,o)=>{let a,u,h=t;function l(t){a=t,e.destroy(),u.end()}n&&(h=this.getTmpFile(!1)),u=s.createWriteStream(h),u.on("error",e=>{l(e),o(c.t("stream_write",h,e&&e.message))}),u.on("finish",()=>{let e;if(!a){if(!n)return i();e=s.createReadStream(h),this.writeFileFromStream(e,t,r,!1).then(i,o)}}),e.on("error",e=>{l(e),o(c.t("stream_read",""!=r?r:null,e&&e.message))}),e.pipe(u)})},getTmpFile(e=!0,t=null){const r=i.fileSync({prefix:h,postfix:"string"==typeof t?t:".tmp"});return e?n.Uri.file(r.name):r.name},trace(e){let t=[...arguments];if(f){if(f.trace_allow&&!f.trace_allow.test(e))return;this.traceCounter>1e5&&(this.traceCounter=0,console.log("# (Counter reset)")),t=t.slice(1),!0===t[t.length-1]&&(console.log("##########################"),t=t.slice(0,t.length-1)),console.log(`#${++this.traceCounter} `+c.moment().format("HH:mm:ss.SS")+` [${e}] ${t.join(", ")}`)}},regexEscape:e=>(e+"").replace(/([\\.+*?[^\]$(){}=!<>|:])/g,"\\$1"),filePathRegex(e){return this._filenameRegexCache[e]?this._filenameRegexCache[e]:this._filenameRegexCache[e]=new RegExp(this.regexEscape(e),"i")},filePathReplace(e,t,r){return e.replace(this.filePathRegex(t),r)},openDoc(e){let t;function r(e){return n.window.showTextDocument(e,{preview:!0,preserveFocus:!1})}return e instanceof n.Uri||(e=n.Uri.file(e)),t=n.workspace.openTextDocument(e),t instanceof Promise?t.then(r).catch(e=>{throw u.appendError(e),e}):r(t)},getRootPathPrompt:e=>new Promise(t=>{"string"!=typeof e?e.length>1?n.window.showQuickPick(e.map(e=>e.uri),{placeHolder:c.t("select_workspace_root")}).then(t):t(e[0].uri):t(e)})};p.collisionOpts={skip:c.o({label:"skip",detail:"skip_transferring_default"}),stop:c.o({label:"stop",detail:"stop_transfer_empty_queue"}),overwrite:c.o({label:"overwrite",detail:"replace_target_with_source"}),rename:c.o({label:"rename",detail:"keep_both_files_by_rename"})},p.collisionOptsAll={skip:Object.assign(c.o({label:"skip_all",detail:"skip_transferring_all_existing"}),{baseOption:p.collisionOpts.skip}),overwrite:Object.assign(c.o({label:"overwrite_all",detail:"replace_all_existing"}),{baseOption:p.collisionOpts.overwrite}),rename:Object.assign(c.o({label:"rename_all",detail:"keep_all_existing_by_renaming_all"}),{baseOption:p.collisionOpts.rename})},p.errors={stop:new a(c.t("transfer_cancelled"))},e.exports=p},function(e,t,r){const n=r(0),i=r(3),s=r(1),o=r(98),a=r(27),c=r(31),u=r(50),h=r(51),l=r(6);class f{fileExists(e){return i.existsSync(this.getNormalPath(e,"file"))}getCache(){return this.pathCache||(this.pathCache=new h),this.pathCache}pathInUri(e,t){return!(!e||!t)&&this.getNormalPath(e).startsWith(this.getNormalPath(t))}pathInWorkspaceFolder(e){return-1!==this.getWorkspaceFolders().findIndex(t=>this.pathInUri(e,t.uri))}getWorkspaceFolders(){return n.workspace&&n.workspace.workspaceFolders&&n.workspace.workspaceFolders.length?n.workspace.workspaceFolders:[]}isWorkspaceFolderRoot(e,t=[]){return e=this.getNormalPath(e),-1!==t.findIndex(t=>t.uri.fsPath===e)}getCurrentWorkspaceRootPath(e,t=!1){let r=n.workspace.getWorkspaceFolder(e);return t?this.getNormalPath(r.uri):r.uri}getNormalPath(e,t){return"string"==typeof e||null==e?e:(void 0===t||e.scheme===t)&&(e.fsPath||e.path)}getPathWithoutWorkspace(e,t){let r=t.asRelativePath(e);return r instanceof n.Uri?this.getNormalPath(e):r}getPathFromStreamOrUri(e){if(e instanceof n.Uri)return this.getNormalPath(e);if(e instanceof u)return e.read.path;if("string"==typeof e)return e;throw new Error("Paths#getPathFromStreamOrUri - src source could not be determined.")}stripTrailingSlash(e,t=s.sep){return e.endsWith(t)?e.slice(0,-1):e}addTrailingSlash(e,t=s.sep){return this.stripTrailingSlash(e,t)+t}join(){let e=[...arguments].map(e=>e instanceof n.Uri?this.getNormalPath(e):e);return n.Uri.file(s.join.apply(s,e))}isDirectory(e){if(e=this.getNormalPath(e,"file"))try{return i.statSync(e).isDirectory()}catch(e){return!1}return!1}getGlobOptions(e={}){return Object.assign({dot:!0,nodir:!0,follow:!1},e)}listDirectory(e,t){return e=this.stripTrailingSlash(e),(t=t||this.getCache()).dirIsCached(e)?Promise.resolve(t.getDir(e)):new Promise((r,n)=>{i.readdir(e,(s,o)=>{if(s)return n(s);o.forEach(r=>{let n=e+f.sep+r,s=i.statSync(n);t.addFilePath(n,s.mtime.getTime()/1e3,s.isDirectory()?"d":"f")}),r(t.getDir(e))})})}getDirectoryContentsAsFiles(e,t=[],r=!1){return e instanceof n.Uri&&(e=`${this.getNormalPath(e)}${s.sep}**`),Array.isArray(e)&&(e=s.join.apply(s,e)),new Promise((n,i)=>{new a.Glob(this.ensureGlobPath(e),this.getGlobOptions({ignore:t,follow:r}),(e,t)=>{let r;if(e&&i(e),t.length)for(r=t.length-1;r>-1;r-=1)t[r]=s.resolve(t[r]);n(t)})})}filterUrisByGlobs(e,t=[]){return new Promise((r,i)=>{let s;Array.isArray(t)&&t.length||r(e);try{s=c.not(Array.from(e,e=>e.fsPath),t),r({uris:Array.from(s,e=>n.Uri.file(e)),ignored:e.length-s.length})}catch(e){i(e)}})}filterUriByGlobs(e,t=[]){return new Promise((r,i)=>{Array.isArray(t)&&t.length||r(e),new a.Glob(`${this.ensureGlobPath(e)}`,this.getGlobOptions({ignore:t}),(e,t)=>{e&&i(e),t.length?r(n.Uri.file(s.resolve(t[0]))):r(!1)})})}findFileInAncestors(e,t,r=!0){let i,s=0,o="",c=this.getWorkspaceFolders(),u={matchBase:!0,follow:!1,nosort:!0};for(t=this.getDirName(t,!0),l.trace("Paths#findFileInAncestors",`Looking for file in: ${t}`);!(i=a.sync(this.ensureGlobPath(t,e),u)).length;){if(r&&this.isWorkspaceFolderRoot(t,c)||50===s||t.fsPath===o.fsPath)return null;o=t,t=this.getDirName(t),s+=1,l.trace("Paths#findFileInAncestors",`Looking for file in: ${t}`)}return n.Uri.file(i[0])}getFileSrc(e){let t,r;if(e&&e instanceof n.Uri)return e;if(n.window.activeTextEditor){if(r=n.window.activeTextEditor&&n.window.activeTextEditor.document.uri,this.isValidScheme(r))return r;if(r=n.window.visibleTextEditors.find(e=>e.document&&this.isValidScheme(e.document.uri)),r)return r.document.uri}else if((t=this.getWorkspaceFolders()).length)return t[0].uri;return null}isValidScheme(e){return"file"===e.scheme||""===e.scheme||!e.scheme}isValidPath(e){return!((e=s.parse(this.getNormalPath(e))).dir.length<1||""===e.root||f.re.badPathChars.test(e.dir))}getBaseName(e){return s.basename(this.getNormalPath(e))}getExtName(e){return s.extname(this.getNormalPath(e))}getDirName(e,t=!1){return t&&this.isDirectory(e)?e:n.Uri.file(s.dirname(this.getNormalPath(e)))}ensureDirExists(e){return new Promise((t,r)=>{this.getFileStats(this.getNormalPath(e)).then(n=>{n?t():o(this.getNormalPath(e),(function(e){e?r(e):t()}))})})}writeFile(e,t){return new Promise((r,n)=>{i.writeFile(this.getNormalPath(t),e,{encoding:"utf8"},e=>{e?n(e):r(t)})})}readFile(e){return new Promise((t,r)=>{i.readFile(this.getNormalPath(e),(e,n)=>{e?r(e):t(n)})})}getFileStats(e){return new Promise(t=>{i.stat(e,(r,n)=>{let i;i=!r&&n?{name:s.basename(e),modified:n.mtime.getTime()/1e3,type:n.isDirectory()?"d":"f"}:null,t(i)})})}ensureGlobPath(){return[...arguments].reduce((e,t)=>e+(e?"/":"")+this.getNormalPath(t).replace(/\\/g,"/"),"")}writeAndOpen(e,t){return this.writeFile(e,t).then(e=>{l.openDoc(e)}).catch(e=>{channel.appendError(e)})}}f.sep=s.sep,f.re={badPathChars:/\.\.\//},e.exports=f},function(e,t){class r extends Error{constructor(e=""){super(),this.name="PushError",this.message=e}}e.exports=r},function(e,t,r){const n=r(0),i=r(4),s=r(8),{TRANSFER_TYPES:o}=r(5);class a{constructor(e){this.channel=n.window.createOutputChannel(e)}appendLine(){return this.channel.appendLine.apply(this.channel,arguments)}appendTransferResult(e){let t=this.getTransferIcon(e.type),r="";return e.options.srcLabel?r=e.options.srcLabel:e.src instanceof n.Uri&&(r=e.src.path),e.error?this.appendError(`${t}! ${r} `+`(${e.error.message})`):!0===e.status||!1===e.status?this.appendLine(`${e.status?t+t:"~~"} `+r):void 0}getTransferIcon(e){return a.transferTypesMap[e]||""}appendError(e){let t;return t=e instanceof s?e.message:e,this.channel.show(),this.channel.appendLine(`⚠️ ${t}`)}appendLocalisedError(e){let t,r=[...arguments].slice(1);return t=e instanceof s?i.t.apply(i,[e.message].concat(r)):i.t.apply(i,[e].concat(r)),this.channel.show(),this.channel.appendLine(`⚠️ ${t}`)}appendInfo(e){return this.channel.appendLine(`ℹ️ ${e}`)}appendLocalisedInfo(e){return this.channel.appendLine(`ℹ️ ${i.t.apply(i,[e].concat([...arguments].slice(1)))}`)}show(){return this.channel.show.apply(this.channel,arguments)}hide(){return this.channel.hide.apply(this.channel,arguments)}clear(){return this.channel.clear.apply(this.channel,arguments)}}a.transferTypesMap={[o.PUT]:">",[o.GET]:"<"},e.exports=new a("Push")},function(e,t){e.exports=require("stream")},function(e,t,r){var n=r(53).Ber,i=r(15).readUInt32BE,s=r(15).writeUInt32BE,o=1/0;function a(e,t,r,n,s,a){r&&!Buffer.isBuffer(r)&&"string"!=typeof r&&("number"==typeof s&&(a=s),s=n,n=r,r=void 0),t||(t=0);var c,u,h=e.length,l=h-t;return t<0||t>=h||l<4?(n&&n._cleanup(s),!1):(c=i(e,t))>(a||o)||l<4+c?(n&&n._cleanup(s),!1):(u=(t+=4)+c,e._pos=u,r?Buffer.isBuffer(r)?(e.copy(r,0,t,u),r):e.toString(r,t,u):e.slice(t,u))}e.exports={iv_inc:function(e){var t=12,r=0;do{if(--t,255!==(r=e[t]))return void(e[t]=++r);e[t]=0}while(t>4)},readInt:function(e,t,r,n){var s=e.length;if(t<0||t>=s||s-t<4)return r&&r._cleanup(n),!1;return i(e,t)},readString:a,parseKey:r(54).parseKey,sigSSHToASN1:function(e,t,r,i){var s;switch(t){case"ssh-dss":if(e.length>40)return e;(s=new n.Writer).startSequence();var o=e.slice(0,20),c=e.slice(20);if(128&o[0]){var u=Buffer.allocUnsafe(21);u[0]=0,o.copy(u,1),o=u}else 0!==o[0]||128&o[1]||(o=o.slice(1));if(128&c[0]){var h=Buffer.allocUnsafe(21);h[0]=0,c.copy(h,1),c=h}else 0!==c[0]||128&c[1]||(c=c.slice(1));return s.writeBuffer(o,n.Integer),s.writeBuffer(c,n.Integer),s.endSequence(),s.buffer;case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":return!1!==(o=a(e,0,r,i))&&(!1!==(c=a(e,e._pos,r,i))&&((s=new n.Writer).startSequence(),s.writeBuffer(o,n.Integer),s.writeBuffer(c,n.Integer),s.endSequence(),s.buffer));default:return e}},DSASigBERToBare:function(e){if(e.length<=40)return e;var t=new n.Reader(e);t.readSequence();var r=t.readString(n.Integer,!0),i=t.readString(n.Integer,!0),s=0,o=0;if(r.length<20){var a=Buffer.allocUnsafe(20);r.copy(a,1),(r=a)[0]=0}if(i.length<20){var c=Buffer.allocUnsafe(20);i.copy(c,1),(i=c)[0]=0}r.length>20&&0===r[0]&&(s=1);i.length>20&&0===i[0]&&(o=1);var u=Buffer.allocUnsafe(r.length-s+(i.length-o));return r.copy(u,0,s),i.copy(u,r.length-s,o),u},ECDSASigASN1ToSSH:function(e){if(0===e[0])return e;var t=new n.Reader(e);t.readSequence();var r=t.readString(n.Integer,!0),i=t.readString(n.Integer,!0);if(null===r||null===i)return!1;var o=Buffer.allocUnsafe(4+r.length+4+i.length);return s(o,r.length,0),r.copy(o,4),s(o,i.length,4+r.length),i.copy(o,8+r.length),o}}},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("events")},function(e,t,r){try{var n=r(2);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(94)}},function(e,t){e.exports={readUInt32BE:function(e,t){return 16777216*e[t++]+65536*e[t++]+256*e[t++]+e[t]},writeUInt32BE:function(e,t,r){return e[r++]=t>>>24,e[r++]=t>>>16,e[r++]=t>>>8,e[r++]=t,r},writeUInt32LE:function(e,t,r){return e[r++]=t,e[r++]=t>>>8,e[r++]=t>>>16,e[r++]=t>>>24,r}}},function(e,t,r){"use strict";const n={};function i(e,t,r){r||(r=Error);class i extends r{constructor(e,r,n){super(function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(e,r,n))}}i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function s(e,t){if(Array.isArray(e)){const r=e.length;return e=e.map(e=>String(e)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,r){let n;var i,o;let a;if("string"==typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a=`The ${e} ${n} ${s(t,"type")}`;else{a=`The "${e}" ${function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument"} ${n} ${s(t,"type")}`}return a+=`. Received type ${typeof r}`,a}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},function(e,t,r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var i=r(57),s=r(61);r(14)(u,i);for(var o=n(s.prototype),a=0;a<o.length;a++){var c=o[a];u.prototype[c]||(u.prototype[c]=s.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||process.nextTick(l,this)}function l(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},function(e,t,r){const n=r(0),i=r(84);e.exports={get:function(e){let t,r=Object.assign({},n.workspace.getConfiguration("njpPush",n.window.activeTextEditor&&n.window.activeTextEditor.document.uri));return e&&"ignoreGlobs"!==e||!Array.isArray(r.ignoreGlobs)||(t=`**/${r.settingsFileGlob}`,r.ignoreGlobs.push(t),r.ignoreGlobs=i.uniqArray(r.ignoreGlobs)),e?r[e]||null:r}}},function(e,t){e.exports=require("assert")},function(e,t){e.exports={readUInt32BE:function(e,t){return 16777216*e[t++]+65536*e[t++]+256*e[t++]+e[t]},writeUInt32BE:function(e,t,r){return e[r++]=t>>>24,e[r++]=t>>>16,e[r++]=t>>>8,e[r++]=t,r},writeUInt32LE:function(e,t,r){return e[r++]=t,e[r++]=t>>>8,e[r++]=t>>>16,e[r++]=t>>>24,r}}},function(e,t){e.exports=require("buffer")},function(e,t,r){"use strict";const n=r(1),i="win32"===process.platform,{REGEX_BACKSLASH:s,REGEX_REMOVE_BACKSLASH:o,REGEX_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_GLOBAL:c}=r(23);t.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),t.hasRegexChars=e=>a.test(e),t.isRegexChar=e=>1===e.length&&t.hasRegexChars(e),t.escapeRegex=e=>e.replace(c,"\\$1"),t.toPosixSlashes=e=>e.replace(s,"/"),t.removeBackslashes=e=>e.replace(o,e=>"\\"===e?"":e),t.supportsLookbehinds=()=>{const e=process.version.slice(1).split(".").map(Number);return 3===e.length&&e[0]>=9||8===e[0]&&e[1]>=10},t.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0===i||"\\"===n.sep,t.escapeLast=(e,r,n)=>{const i=e.lastIndexOf(r,n);return-1===i?e:"\\"===e[i-1]?t.escapeLast(e,r,i-1):e.slice(0,i)+"\\"+e.slice(i)},t.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r},t.wrapOutput=(e,t={},r={})=>{let n=`${r.contains?"":"^"}(?:${e})${r.contains?"":"$"}`;return!0===t.negated&&(n=`(?:^(?!${n}).*$)`),n}},function(e,t,r){"use strict";const n=r(1),i={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:"\\.{1,2}(?:\\/|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|\\/)\\.{1,2}(?:\\/|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:\\/|$))",QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:"(?:^|\\/)"},s={...i,SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"};e.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:n.sep,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?s:i}},function(e,t,r){const n=r(0),i=r(18);e.exports=class{constructor(){this.setConfig=this.setConfig.bind(this),n.workspace.onDidChangeConfiguration(()=>this.setConfig()),this.setConfig()}setConfig(e){let t;this.config&&(t=Object.assign({},this.config)),this.config=e||i.get(),t&&this.onDidChangeConfiguration(this.config,t)}onDidChangeConfiguration(){}}},function(e,t,r){(function(e){e.exports=function(){"use strict";var t,n;function i(){return t.apply(null,arguments)}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){return void 0===e}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var r,n=[];for(r=0;r<e.length;++r)n.push(t(e[r],r));return n}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){for(var r in t)l(t,r)&&(e[r]=t[r]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,r,n){return Lt(e,t,r,n,!0).utc()}function d(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function g(e){if(null==e._isValid){var t=d(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function m(e){var t=p(NaN);return null!=e?f(d(t),e):d(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),r=t.length>>>0,n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var _=i.momentProperties=[];function y(e,t){var r,n,i;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=d(t)),a(t._locale)||(e._locale=t._locale),_.length>0)for(r=0;r<_.length;r++)a(i=t[n=_[r]])||(e[n]=i);return e}var v=!1;function E(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,i.updateOffset(this),v=!1)}function w(e){return e instanceof E||null!=e&&null!=e._isAMomentObject}function b(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function S(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=b(t)),r}function T(e,t,r){var n,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(n=0;n<i;n++)(r&&e[n]!==t[n]||!r&&S(e[n])!==S(t[n]))&&o++;return o+s}function A(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,t){var r=!0;return f((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),r){for(var n,s=[],o=0;o<arguments.length;o++){if(n="","object"==typeof arguments[o]){for(var a in n+="\n["+o+"] ",arguments[0])n+=a+": "+arguments[0][a]+", ";n=n.slice(0,-2)}else n=arguments[o];s.push(n)}A(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)}),t)}var C,R={};function O(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),R[e]||(A(t),R[e]=!0)}function x(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function P(e,t){var r,n=f({},e);for(r in t)l(t,r)&&(o(e[r])&&o(t[r])?(n[r]={},f(n[r],e[r]),f(n[r],t[r])):null!=t[r]?n[r]=t[r]:delete n[r]);for(r in e)l(e,r)&&!l(t,r)&&o(e[r])&&(n[r]=f({},n[r]));return n}function N(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,C=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)l(e,t)&&r.push(t);return r};var L={};function D(e,t){var r=e.toLowerCase();L[r]=L[r+"s"]=L[t]=e}function U(e){return"string"==typeof e?L[e]||L[e.toLowerCase()]:void 0}function I(e){var t,r,n={};for(r in e)l(e,r)&&(t=U(r))&&(n[t]=e[r]);return n}var B={};function M(e,t){B[e]=t}function H(e,t,r){var n=""+Math.abs(e),i=t-n.length;return(e>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,G=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,$={},W={};function j(e,t,r,n){var i=n;"string"==typeof n&&(i=function(){return this[n]()}),e&&(W[e]=i),t&&(W[t[0]]=function(){return H(i.apply(this,arguments),t[1],t[2])}),r&&(W[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function q(e,t){return e.isValid()?(t=Y(t,e.localeData()),$[t]=$[t]||function(e){var t,r,n,i=e.match(F);for(t=0,r=i.length;t<r;t++)W[i[t]]?i[t]=W[i[t]]:i[t]=(n=i[t]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(t){var n,s="";for(n=0;n<r;n++)s+=x(i[n])?i[n].call(t,e):i[n];return s}}(t),$[t](e)):e.localeData().invalidDate()}function Y(e,t){var r=5;function n(e){return t.longDateFormat(e)||e}for(G.lastIndex=0;r>=0&&G.test(e);)e=e.replace(G,n),G.lastIndex=0,r-=1;return e}var K=/\d/,Q=/\d\d/,V=/\d{3}/,X=/\d{4}/,z=/[+-]?\d{6}/,Z=/\d\d?/,J=/\d\d\d\d?/,ee=/\d\d\d\d\d\d?/,te=/\d{1,3}/,re=/\d{1,4}/,ne=/[+-]?\d{1,6}/,ie=/\d+/,se=/[+-]?\d+/,oe=/Z|[+-]\d\d:?\d\d/gi,ae=/Z|[+-]\d\d(?::?\d\d)?/gi,ce=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ue={};function he(e,t,r){ue[e]=x(t)?t:function(e,n){return e&&r?r:t}}function le(e,t){return l(ue,e)?ue[e](t._strict,t._locale):new RegExp(fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,r,n,i){return t||r||n||i}))))}function fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var pe={};function de(e,t){var r,n=t;for("string"==typeof e&&(e=[e]),c(t)&&(n=function(e,r){r[t]=S(e)}),r=0;r<e.length;r++)pe[e[r]]=n}function ge(e,t){de(e,(function(e,r,n,i){n._w=n._w||{},t(e,n._w,n,i)}))}function me(e,t,r){null!=t&&l(pe,e)&&pe[e](t,r._a,r,e)}var _e=0,ye=1,ve=2,Ee=3,we=4,be=5,Se=6,Te=7,Ae=8;function ke(e){return Ce(e)?366:365}function Ce(e){return e%4==0&&e%100!=0||e%400==0}j("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),j(0,["YY",2],0,(function(){return this.year()%100})),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),D("year","y"),M("year",1),he("Y",se),he("YY",Z,Q),he("YYYY",re,X),he("YYYYY",ne,z),he("YYYYYY",ne,z),de(["YYYYY","YYYYYY"],_e),de("YYYY",(function(e,t){t[_e]=2===e.length?i.parseTwoDigitYear(e):S(e)})),de("YY",(function(e,t){t[_e]=i.parseTwoDigitYear(e)})),de("Y",(function(e,t){t[_e]=parseInt(e,10)})),i.parseTwoDigitYear=function(e){return S(e)+(S(e)>68?1900:2e3)};var Re,Oe=xe("FullYear",!0);function xe(e,t){return function(r){return null!=r?(Ne(this,e,r),i.updateOffset(this,t),this):Pe(this,e)}}function Pe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Ne(e,t,r){e.isValid()&&!isNaN(r)&&("FullYear"===t&&Ce(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),Le(r,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](r))}function Le(e,t){if(isNaN(e)||isNaN(t))return NaN;var r,n=(t%(r=12)+r)%r;return e+=(t-n)/12,1===n?Ce(e)?29:28:31-n%7%2}Re=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},j("M",["MM",2],"Mo",(function(){return this.month()+1})),j("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),j("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),D("month","M"),M("month",8),he("M",Z),he("MM",Z,Q),he("MMM",(function(e,t){return t.monthsShortRegex(e)})),he("MMMM",(function(e,t){return t.monthsRegex(e)})),de(["M","MM"],(function(e,t){t[ye]=S(e)-1})),de(["MMM","MMMM"],(function(e,t,r,n){var i=r._locale.monthsParse(e,n,r._strict);null!=i?t[ye]=i:d(r).invalidMonth=e}));var De=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ue="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ie="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Be(e,t,r){var n,i,s,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=p([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return r?"MMM"===t?-1!==(i=Re.call(this._shortMonthsParse,o))?i:null:-1!==(i=Re.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=Re.call(this._shortMonthsParse,o))?i:-1!==(i=Re.call(this._longMonthsParse,o))?i:null:-1!==(i=Re.call(this._longMonthsParse,o))?i:-1!==(i=Re.call(this._shortMonthsParse,o))?i:null}function Me(e,t){var r;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=S(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return r=Math.min(e.date(),Le(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function He(e){return null!=e?(Me(this,e),i.updateOffset(this,!0),this):Pe(this,"Month")}var Fe=ce,Ge=ce;function $e(){function e(e,t){return t.length-e.length}var t,r,n=[],i=[],s=[];for(t=0;t<12;t++)r=p([2e3,t]),n.push(this.monthsShort(r,"")),i.push(this.months(r,"")),s.push(this.months(r,"")),s.push(this.monthsShort(r,""));for(n.sort(e),i.sort(e),s.sort(e),t=0;t<12;t++)n[t]=fe(n[t]),i[t]=fe(i[t]);for(t=0;t<24;t++)s[t]=fe(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function We(e,t,r,n,i,s,o){var a;return e<100&&e>=0?(a=new Date(e+400,t,r,n,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,r,n,i,s,o),a}function je(e){var t;if(e<100&&e>=0){var r=Array.prototype.slice.call(arguments);r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function qe(e,t,r){var n=7+t-r;return-(7+je(e,0,n).getUTCDay()-t)%7+n-1}function Ye(e,t,r,n,i){var s,o,a=1+7*(t-1)+(7+r-n)%7+qe(e,n,i);return a<=0?o=ke(s=e-1)+a:a>ke(e)?(s=e+1,o=a-ke(e)):(s=e,o=a),{year:s,dayOfYear:o}}function Ke(e,t,r){var n,i,s=qe(e.year(),t,r),o=Math.floor((e.dayOfYear()-s-1)/7)+1;return o<1?n=o+Qe(i=e.year()-1,t,r):o>Qe(e.year(),t,r)?(n=o-Qe(e.year(),t,r),i=e.year()+1):(i=e.year(),n=o),{week:n,year:i}}function Qe(e,t,r){var n=qe(e,t,r),i=qe(e+1,t,r);return(ke(e)-n+i)/7}function Ve(e,t){return e.slice(t,7).concat(e.slice(0,t))}j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),D("week","w"),D("isoWeek","W"),M("week",5),M("isoWeek",5),he("w",Z),he("ww",Z,Q),he("W",Z),he("WW",Z,Q),ge(["w","ww","W","WW"],(function(e,t,r,n){t[n.substr(0,1)]=S(e)})),j("d",0,"do","day"),j("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),j("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),j("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),D("day","d"),D("weekday","e"),D("isoWeekday","E"),M("day",11),M("weekday",11),M("isoWeekday",11),he("d",Z),he("e",Z),he("E",Z),he("dd",(function(e,t){return t.weekdaysMinRegex(e)})),he("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),he("dddd",(function(e,t){return t.weekdaysRegex(e)})),ge(["dd","ddd","dddd"],(function(e,t,r,n){var i=r._locale.weekdaysParse(e,n,r._strict);null!=i?t.d=i:d(r).invalidWeekday=e})),ge(["d","e","E"],(function(e,t,r,n){t[n]=S(e)}));var Xe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ze="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ze="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Je(e,t,r){var n,i,s,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=p([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return r?"dddd"===t?-1!==(i=Re.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Re.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Re.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=Re.call(this._weekdaysParse,o))?i:-1!==(i=Re.call(this._shortWeekdaysParse,o))?i:-1!==(i=Re.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Re.call(this._shortWeekdaysParse,o))?i:-1!==(i=Re.call(this._weekdaysParse,o))?i:-1!==(i=Re.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Re.call(this._minWeekdaysParse,o))?i:-1!==(i=Re.call(this._weekdaysParse,o))?i:-1!==(i=Re.call(this._shortWeekdaysParse,o))?i:null}var et=ce,tt=ce,rt=ce;function nt(){function e(e,t){return t.length-e.length}var t,r,n,i,s,o=[],a=[],c=[],u=[];for(t=0;t<7;t++)r=p([2e3,1]).day(t),n=this.weekdaysMin(r,""),i=this.weekdaysShort(r,""),s=this.weekdays(r,""),o.push(n),a.push(i),c.push(s),u.push(n),u.push(i),u.push(s);for(o.sort(e),a.sort(e),c.sort(e),u.sort(e),t=0;t<7;t++)a[t]=fe(a[t]),c[t]=fe(c[t]),u[t]=fe(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function it(){return this.hours()%12||12}function st(e,t){j(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function ot(e,t){return t._meridiemParse}j("H",["HH",2],0,"hour"),j("h",["hh",2],0,it),j("k",["kk",2],0,(function(){return this.hours()||24})),j("hmm",0,0,(function(){return""+it.apply(this)+H(this.minutes(),2)})),j("hmmss",0,0,(function(){return""+it.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)})),j("Hmm",0,0,(function(){return""+this.hours()+H(this.minutes(),2)})),j("Hmmss",0,0,(function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)})),st("a",!0),st("A",!1),D("hour","h"),M("hour",13),he("a",ot),he("A",ot),he("H",Z),he("h",Z),he("k",Z),he("HH",Z,Q),he("hh",Z,Q),he("kk",Z,Q),he("hmm",J),he("hmmss",ee),he("Hmm",J),he("Hmmss",ee),de(["H","HH"],Ee),de(["k","kk"],(function(e,t,r){var n=S(e);t[Ee]=24===n?0:n})),de(["a","A"],(function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e})),de(["h","hh"],(function(e,t,r){t[Ee]=S(e),d(r).bigHour=!0})),de("hmm",(function(e,t,r){var n=e.length-2;t[Ee]=S(e.substr(0,n)),t[we]=S(e.substr(n)),d(r).bigHour=!0})),de("hmmss",(function(e,t,r){var n=e.length-4,i=e.length-2;t[Ee]=S(e.substr(0,n)),t[we]=S(e.substr(n,2)),t[be]=S(e.substr(i)),d(r).bigHour=!0})),de("Hmm",(function(e,t,r){var n=e.length-2;t[Ee]=S(e.substr(0,n)),t[we]=S(e.substr(n))})),de("Hmmss",(function(e,t,r){var n=e.length-4,i=e.length-2;t[Ee]=S(e.substr(0,n)),t[we]=S(e.substr(n,2)),t[be]=S(e.substr(i))}));var at,ct=xe("Hours",!0),ut={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ue,monthsShort:Ie,week:{dow:0,doy:6},weekdays:Xe,weekdaysMin:Ze,weekdaysShort:ze,meridiemParse:/[ap]\.?m?\.?/i},ht={},lt={};function ft(e){return e?e.toLowerCase().replace("_","-"):e}function pt(t){var n=null;if(!ht[t]&&void 0!==e&&e&&e.exports)try{n=at._abbr,r(83)("./"+t),dt(n)}catch(e){}return ht[t]}function dt(e,t){var r;return e&&((r=a(t)?mt(e):gt(e,t))?at=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),at._abbr}function gt(e,t){if(null!==t){var r,n=ut;if(t.abbr=e,null!=ht[e])O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ht[e]._config;else if(null!=t.parentLocale)if(null!=ht[t.parentLocale])n=ht[t.parentLocale]._config;else{if(null==(r=pt(t.parentLocale)))return lt[t.parentLocale]||(lt[t.parentLocale]=[]),lt[t.parentLocale].push({name:e,config:t}),null;n=r._config}return ht[e]=new N(P(n,t)),lt[e]&&lt[e].forEach((function(e){gt(e.name,e.config)})),dt(e),ht[e]}return delete ht[e],null}function mt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return at;if(!s(e)){if(t=pt(e))return t;e=[e]}return function(e){for(var t,r,n,i,s=0;s<e.length;){for(t=(i=ft(e[s]).split("-")).length,r=(r=ft(e[s+1]))?r.split("-"):null;t>0;){if(n=pt(i.slice(0,t).join("-")))return n;if(r&&r.length>=t&&T(i,r,!0)>=t-1)break;t--}s++}return at}(e)}function _t(e){var t,r=e._a;return r&&-2===d(e).overflow&&(t=r[ye]<0||r[ye]>11?ye:r[ve]<1||r[ve]>Le(r[_e],r[ye])?ve:r[Ee]<0||r[Ee]>24||24===r[Ee]&&(0!==r[we]||0!==r[be]||0!==r[Se])?Ee:r[we]<0||r[we]>59?we:r[be]<0||r[be]>59?be:r[Se]<0||r[Se]>999?Se:-1,d(e)._overflowDayOfYear&&(t<_e||t>ve)&&(t=ve),d(e)._overflowWeeks&&-1===t&&(t=Te),d(e)._overflowWeekday&&-1===t&&(t=Ae),d(e).overflow=t),e}function yt(e,t,r){return null!=e?e:null!=t?t:r}function vt(e){var t,r,n,s,o,a=[];if(!e._d){for(n=function(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[ve]&&null==e._a[ye]&&function(e){var t,r,n,i,s,o,a,c;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)s=1,o=4,r=yt(t.GG,e._a[_e],Ke(Dt(),1,4).year),n=yt(t.W,1),((i=yt(t.E,1))<1||i>7)&&(c=!0);else{s=e._locale._week.dow,o=e._locale._week.doy;var u=Ke(Dt(),s,o);r=yt(t.gg,e._a[_e],u.year),n=yt(t.w,u.week),null!=t.d?((i=t.d)<0||i>6)&&(c=!0):null!=t.e?(i=t.e+s,(t.e<0||t.e>6)&&(c=!0)):i=s}n<1||n>Qe(r,s,o)?d(e)._overflowWeeks=!0:null!=c?d(e)._overflowWeekday=!0:(a=Ye(r,n,i,s,o),e._a[_e]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(o=yt(e._a[_e],n[_e]),(e._dayOfYear>ke(o)||0===e._dayOfYear)&&(d(e)._overflowDayOfYear=!0),r=je(o,0,e._dayOfYear),e._a[ye]=r.getUTCMonth(),e._a[ve]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=n[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ee]&&0===e._a[we]&&0===e._a[be]&&0===e._a[Se]&&(e._nextDay=!0,e._a[Ee]=0),e._d=(e._useUTC?je:We).apply(null,a),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ee]=24),e._w&&void 0!==e._w.d&&e._w.d!==s&&(d(e).weekdayMismatch=!0)}}var Et=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bt=/Z|[+-]\d\d(?::?\d\d)?/,St=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Tt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],At=/^\/?Date\((\-?\d+)/i;function kt(e){var t,r,n,i,s,o,a=e._i,c=Et.exec(a)||wt.exec(a);if(c){for(d(e).iso=!0,t=0,r=St.length;t<r;t++)if(St[t][1].exec(c[1])){i=St[t][0],n=!1!==St[t][2];break}if(null==i)return void(e._isValid=!1);if(c[3]){for(t=0,r=Tt.length;t<r;t++)if(Tt[t][1].exec(c[3])){s=(c[2]||" ")+Tt[t][0];break}if(null==s)return void(e._isValid=!1)}if(!n&&null!=s)return void(e._isValid=!1);if(c[4]){if(!bt.exec(c[4]))return void(e._isValid=!1);o="Z"}e._f=i+(s||"")+(o||""),Pt(e)}else e._isValid=!1}var Ct=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Rt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var Ot={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function xt(e){var t,r,n,i,s,o,a,c=Ct.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){var u=(t=c[4],r=c[3],n=c[2],i=c[5],s=c[6],o=c[7],a=[Rt(t),Ie.indexOf(r),parseInt(n,10),parseInt(i,10),parseInt(s,10)],o&&a.push(parseInt(o,10)),a);if(!function(e,t,r){return!e||ze.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(d(r).weekdayMismatch=!0,r._isValid=!1,!1)}(c[1],u,e))return;e._a=u,e._tzm=function(e,t,r){if(e)return Ot[e];if(t)return 0;var n=parseInt(r,10),i=n%100;return(n-i)/100*60+i}(c[8],c[9],c[10]),e._d=je.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),d(e).rfc2822=!0}else e._isValid=!1}function Pt(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],d(e).empty=!0;var t,r,n,s,o,a=""+e._i,c=a.length,u=0;for(n=Y(e._f,e._locale).match(F)||[],t=0;t<n.length;t++)s=n[t],(r=(a.match(le(s,e))||[])[0])&&((o=a.substr(0,a.indexOf(r))).length>0&&d(e).unusedInput.push(o),a=a.slice(a.indexOf(r)+r.length),u+=r.length),W[s]?(r?d(e).empty=!1:d(e).unusedTokens.push(s),me(s,r,e)):e._strict&&!r&&d(e).unusedTokens.push(s);d(e).charsLeftOver=c-u,a.length>0&&d(e).unusedInput.push(a),e._a[Ee]<=12&&!0===d(e).bigHour&&e._a[Ee]>0&&(d(e).bigHour=void 0),d(e).parsedDateParts=e._a.slice(0),d(e).meridiem=e._meridiem,e._a[Ee]=function(e,t,r){var n;return null==r?t:null!=e.meridiemHour?e.meridiemHour(t,r):null!=e.isPM?((n=e.isPM(r))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}(e._locale,e._a[Ee],e._meridiem),vt(e),_t(e)}else xt(e);else kt(e)}function Nt(e){var t=e._i,r=e._f;return e._locale=e._locale||mt(e._l),null===t||void 0===r&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new E(_t(t)):(u(t)?e._d=t:s(r)?function(e){var t,r,n,i,s;if(0===e._f.length)return d(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)s=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Pt(t),g(t)&&(s+=d(t).charsLeftOver,s+=10*d(t).unusedTokens.length,d(t).score=s,(null==n||s<n)&&(n=s,r=t));f(e,r||t)}(e):r?Pt(e):function(e){var t=e._i;a(t)?e._d=new Date(i.now()):u(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=At.exec(e._i);null===t?(kt(e),!1===e._isValid&&(delete e._isValid,xt(e),!1===e._isValid&&(delete e._isValid,i.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):s(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),vt(e)):o(t)?function(e){if(!e._d){var t=I(e._i);e._a=h([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),vt(e)}}(e):c(t)?e._d=new Date(t):i.createFromInputFallback(e)}(e),g(e)||(e._d=null),e))}function Lt(e,t,r,n,i){var a,c={};return!0!==r&&!1!==r||(n=r,r=void 0),(o(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||s(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=i,c._l=r,c._i=e,c._f=t,c._strict=n,(a=new E(_t(Nt(c))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function Dt(e,t,r,n){return Lt(e,t,r,n,!1)}i.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var Ut=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Dt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()})),It=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Dt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}));function Bt(e,t){var r,n;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return Dt();for(r=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](r)||(r=t[n]);return r}var Mt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ht(e){var t=I(e),r=t.year||0,n=t.quarter||0,i=t.month||0,s=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,c=t.minute||0,u=t.second||0,h=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Re.call(Mt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var r=!1,n=0;n<Mt.length;++n)if(e[Mt[n]]){if(r)return!1;parseFloat(e[Mt[n]])!==S(e[Mt[n]])&&(r=!0)}return!0}(t),this._milliseconds=+h+1e3*u+6e4*c+1e3*a*60*60,this._days=+o+7*s,this._months=+i+3*n+12*r,this._data={},this._locale=mt(),this._bubble()}function Ft(e){return e instanceof Ht}function Gt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function $t(e,t){j(e,0,0,(function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+H(~~(e/60),2)+t+H(~~e%60,2)}))}$t("Z",":"),$t("ZZ",""),he("Z",ae),he("ZZ",ae),de(["Z","ZZ"],(function(e,t,r){r._useUTC=!0,r._tzm=jt(ae,e)}));var Wt=/([\+\-]|\d\d)/gi;function jt(e,t){var r=(t||"").match(e);if(null===r)return null;var n=((r[r.length-1]||[])+"").match(Wt)||["-",0,0],i=60*n[1]+S(n[2]);return 0===i?0:"+"===n[0]?i:-i}function qt(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(w(e)||u(e)?e.valueOf():Dt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),i.updateOffset(r,!1),r):Dt(e).local()}function Yt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Kt(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Qt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Vt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Xt(e,t){var r,n,i,s,o,a,u=e,h=null;return Ft(e)?u={ms:e._milliseconds,d:e._days,M:e._months}:c(e)?(u={},t?u[t]=e:u.milliseconds=e):(h=Qt.exec(e))?(r="-"===h[1]?-1:1,u={y:0,d:S(h[ve])*r,h:S(h[Ee])*r,m:S(h[we])*r,s:S(h[be])*r,ms:S(Gt(1e3*h[Se]))*r}):(h=Vt.exec(e))?(r="-"===h[1]?-1:1,u={y:zt(h[2],r),M:zt(h[3],r),w:zt(h[4],r),d:zt(h[5],r),h:zt(h[6],r),m:zt(h[7],r),s:zt(h[8],r)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(s=Dt(u.from),o=Dt(u.to),i=s.isValid()&&o.isValid()?(o=qt(o,s),s.isBefore(o)?a=Zt(s,o):((a=Zt(o,s)).milliseconds=-a.milliseconds,a.months=-a.months),a):{milliseconds:0,months:0},(u={}).ms=i.milliseconds,u.M=i.months),n=new Ht(u),Ft(e)&&l(e,"_locale")&&(n._locale=e._locale),n}function zt(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function Zt(e,t){var r={};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function Jt(e,t){return function(r,n){var i;return null===n||isNaN(+n)||(O(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=r,r=n,n=i),er(this,Xt(r="string"==typeof r?+r:r,n),e),this}}function er(e,t,r,n){var s=t._milliseconds,o=Gt(t._days),a=Gt(t._months);e.isValid()&&(n=null==n||n,a&&Me(e,Pe(e,"Month")+a*r),o&&Ne(e,"Date",Pe(e,"Date")+o*r),s&&e._d.setTime(e._d.valueOf()+s*r),n&&i.updateOffset(e,o||a))}Xt.fn=Ht.prototype,Xt.invalid=function(){return Xt(NaN)};var tr=Jt(1,"add"),rr=Jt(-1,"subtract");function nr(e,t){var r=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(r,"months");return-(r+(t-n<0?(t-n)/(n-e.clone().add(r-1,"months")):(t-n)/(e.clone().add(r+1,"months")-n)))||0}function ir(e){var t;return void 0===e?this._locale._abbr:(null!=(t=mt(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var sr=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function or(){return this._locale}var ar=1e3,cr=60*ar,ur=60*cr,hr=3506328*ur;function lr(e,t){return(e%t+t)%t}function fr(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-hr:new Date(e,t,r).valueOf()}function pr(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-hr:Date.UTC(e,t,r)}function dr(e,t){j(0,[e,e.length],0,t)}function gr(e,t,r,n,i){var s;return null==e?Ke(this,n,i).year:(t>(s=Qe(e,n,i))&&(t=s),mr.call(this,e,t,r,n,i))}function mr(e,t,r,n,i){var s=Ye(e,t,r,n,i),o=je(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}j(0,["gg",2],0,(function(){return this.weekYear()%100})),j(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),dr("gggg","weekYear"),dr("ggggg","weekYear"),dr("GGGG","isoWeekYear"),dr("GGGGG","isoWeekYear"),D("weekYear","gg"),D("isoWeekYear","GG"),M("weekYear",1),M("isoWeekYear",1),he("G",se),he("g",se),he("GG",Z,Q),he("gg",Z,Q),he("GGGG",re,X),he("gggg",re,X),he("GGGGG",ne,z),he("ggggg",ne,z),ge(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,r,n){t[n.substr(0,2)]=S(e)})),ge(["gg","GG"],(function(e,t,r,n){t[n]=i.parseTwoDigitYear(e)})),j("Q",0,"Qo","quarter"),D("quarter","Q"),M("quarter",7),he("Q",K),de("Q",(function(e,t){t[ye]=3*(S(e)-1)})),j("D",["DD",2],"Do","date"),D("date","D"),M("date",9),he("D",Z),he("DD",Z,Q),he("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),de(["D","DD"],ve),de("Do",(function(e,t){t[ve]=S(e.match(Z)[0])}));var _r=xe("Date",!0);j("DDD",["DDDD",3],"DDDo","dayOfYear"),D("dayOfYear","DDD"),M("dayOfYear",4),he("DDD",te),he("DDDD",V),de(["DDD","DDDD"],(function(e,t,r){r._dayOfYear=S(e)})),j("m",["mm",2],0,"minute"),D("minute","m"),M("minute",14),he("m",Z),he("mm",Z,Q),de(["m","mm"],we);var yr=xe("Minutes",!1);j("s",["ss",2],0,"second"),D("second","s"),M("second",15),he("s",Z),he("ss",Z,Q),de(["s","ss"],be);var vr,Er=xe("Seconds",!1);for(j("S",0,0,(function(){return~~(this.millisecond()/100)})),j(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),j(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),j(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),j(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),j(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),j(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),D("millisecond","ms"),M("millisecond",16),he("S",te,K),he("SS",te,Q),he("SSS",te,V),vr="SSSS";vr.length<=9;vr+="S")he(vr,ie);function wr(e,t){t[Se]=S(1e3*("0."+e))}for(vr="S";vr.length<=9;vr+="S")de(vr,wr);var br=xe("Milliseconds",!1);j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");var Sr=E.prototype;function Tr(e){return e}Sr.add=tr,Sr.calendar=function(e,t){var r=e||Dt(),n=qt(r,this).startOf("day"),s=i.calendarFormat(this,n)||"sameElse",o=t&&(x(t[s])?t[s].call(this,r):t[s]);return this.format(o||this.localeData().calendar(s,this,Dt(r)))},Sr.clone=function(){return new E(this)},Sr.diff=function(e,t,r){var n,i,s;if(!this.isValid())return NaN;if(!(n=qt(e,this)).isValid())return NaN;switch(i=6e4*(n.utcOffset()-this.utcOffset()),t=U(t)){case"year":s=nr(this,n)/12;break;case"month":s=nr(this,n);break;case"quarter":s=nr(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-i)/864e5;break;case"week":s=(this-n-i)/6048e5;break;default:s=this-n}return r?s:b(s)},Sr.endOf=function(e){var t;if(void 0===(e=U(e))||"millisecond"===e||!this.isValid())return this;var r=this._isUTC?pr:fr;switch(e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ur-lr(t+(this._isUTC?0:this.utcOffset()*cr),ur)-1;break;case"minute":t=this._d.valueOf(),t+=cr-lr(t,cr)-1;break;case"second":t=this._d.valueOf(),t+=ar-lr(t,ar)-1}return this._d.setTime(t),i.updateOffset(this,!0),this},Sr.format=function(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=q(this,e);return this.localeData().postformat(t)},Sr.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Dt(e).isValid())?Xt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Sr.fromNow=function(e){return this.from(Dt(),e)},Sr.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Dt(e).isValid())?Xt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Sr.toNow=function(e){return this.to(Dt(),e)},Sr.get=function(e){return x(this[e=U(e)])?this[e]():this},Sr.invalidAt=function(){return d(this).overflow},Sr.isAfter=function(e,t){var r=w(e)?e:Dt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=U(t)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())},Sr.isBefore=function(e,t){var r=w(e)?e:Dt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=U(t)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())},Sr.isBetween=function(e,t,r,n){var i=w(e)?e:Dt(e),s=w(t)?t:Dt(t);return!!(this.isValid()&&i.isValid()&&s.isValid())&&("("===(n=n||"()")[0]?this.isAfter(i,r):!this.isBefore(i,r))&&(")"===n[1]?this.isBefore(s,r):!this.isAfter(s,r))},Sr.isSame=function(e,t){var r,n=w(e)?e:Dt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=U(t)||"millisecond")?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))},Sr.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Sr.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Sr.isValid=function(){return g(this)},Sr.lang=sr,Sr.locale=ir,Sr.localeData=or,Sr.max=It,Sr.min=Ut,Sr.parsingFlags=function(){return f({},d(this))},Sr.set=function(e,t){if("object"==typeof e)for(var r=function(e){var t=[];for(var r in e)t.push({unit:r,priority:B[r]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=I(e)),n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit]);else if(x(this[e=U(e)]))return this[e](t);return this},Sr.startOf=function(e){var t;if(void 0===(e=U(e))||"millisecond"===e||!this.isValid())return this;var r=this._isUTC?pr:fr;switch(e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=lr(t+(this._isUTC?0:this.utcOffset()*cr),ur);break;case"minute":t=this._d.valueOf(),t-=lr(t,cr);break;case"second":t=this._d.valueOf(),t-=lr(t,ar)}return this._d.setTime(t),i.updateOffset(this,!0),this},Sr.subtract=rr,Sr.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Sr.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Sr.toDate=function(){return new Date(this.valueOf())},Sr.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?q(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):x(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",q(r,"Z")):q(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Sr.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(r+n+"-MM-DD[T]HH:mm:ss.SSS"+i)},Sr.toJSON=function(){return this.isValid()?this.toISOString():null},Sr.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Sr.unix=function(){return Math.floor(this.valueOf()/1e3)},Sr.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Sr.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Sr.year=Oe,Sr.isLeapYear=function(){return Ce(this.year())},Sr.weekYear=function(e){return gr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Sr.isoWeekYear=function(e){return gr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Sr.quarter=Sr.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Sr.month=He,Sr.daysInMonth=function(){return Le(this.year(),this.month())},Sr.week=Sr.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Sr.isoWeek=Sr.isoWeeks=function(e){var t=Ke(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Sr.weeksInYear=function(){var e=this.localeData()._week;return Qe(this.year(),e.dow,e.doy)},Sr.isoWeeksInYear=function(){return Qe(this.year(),1,4)},Sr.date=_r,Sr.day=Sr.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},Sr.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Sr.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},Sr.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Sr.hour=Sr.hours=ct,Sr.minute=Sr.minutes=yr,Sr.second=Sr.seconds=Er,Sr.millisecond=Sr.milliseconds=br,Sr.utcOffset=function(e,t,r){var n,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=jt(ae,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(n=Yt(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),s!==e&&(!t||this._changeInProgress?er(this,Xt(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Yt(this)},Sr.utc=function(e){return this.utcOffset(0,e)},Sr.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Yt(this),"m")),this},Sr.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=jt(oe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Sr.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Dt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Sr.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Sr.isLocal=function(){return!!this.isValid()&&!this._isUTC},Sr.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Sr.isUtc=Kt,Sr.isUTC=Kt,Sr.zoneAbbr=function(){return this._isUTC?"UTC":""},Sr.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Sr.dates=k("dates accessor is deprecated. Use date instead.",_r),Sr.months=k("months accessor is deprecated. Use month instead",He),Sr.years=k("years accessor is deprecated. Use year instead",Oe),Sr.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),Sr.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),(e=Nt(e))._a){var t=e._isUTC?p(e._a):Dt(e._a);this._isDSTShifted=this.isValid()&&T(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var Ar=N.prototype;function kr(e,t,r,n){var i=mt(),s=p().set(n,t);return i[r](s,e)}function Cr(e,t,r){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return kr(e,t,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=kr(e,n,r,"month");return i}function Rr(e,t,r,n){"boolean"==typeof e?(c(t)&&(r=t,t=void 0),t=t||""):(r=t=e,e=!1,c(t)&&(r=t,t=void 0),t=t||"");var i,s=mt(),o=e?s._week.dow:0;if(null!=r)return kr(t,(r+o)%7,n,"day");var a=[];for(i=0;i<7;i++)a[i]=kr(t,(i+o)%7,n,"day");return a}Ar.calendar=function(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return x(n)?n.call(t,r):n},Ar.longDateFormat=function(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},Ar.invalidDate=function(){return this._invalidDate},Ar.ordinal=function(e){return this._ordinal.replace("%d",e)},Ar.preparse=Tr,Ar.postformat=Tr,Ar.relativeTime=function(e,t,r,n){var i=this._relativeTime[r];return x(i)?i(e,t,r,n):i.replace(/%d/i,e)},Ar.pastFuture=function(e,t){var r=this._relativeTime[e>0?"future":"past"];return x(r)?r(t):r.replace(/%s/i,t)},Ar.set=function(e){var t,r;for(r in e)x(t=e[r])?this[r]=t:this["_"+r]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Ar.months=function(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||De).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months.standalone},Ar.monthsShort=function(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[De.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Ar.monthsParse=function(e,t,r){var n,i,s;if(this._monthsParseExact)return Be.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=p([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(r&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}},Ar.monthsRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||$e.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Ge),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Ar.monthsShortRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||$e.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=Fe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Ar.week=function(e){return Ke(e,this._week.dow,this._week.doy).week},Ar.firstDayOfYear=function(){return this._week.doy},Ar.firstDayOfWeek=function(){return this._week.dow},Ar.weekdays=function(e,t){var r=s(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ve(r,this._week.dow):e?r[e.day()]:r},Ar.weekdaysMin=function(e){return!0===e?Ve(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Ar.weekdaysShort=function(e){return!0===e?Ve(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Ar.weekdaysParse=function(e,t,r){var n,i,s;if(this._weekdaysParseExact)return Je.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=p([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(r&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(r&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}},Ar.weekdaysRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=et),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Ar.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=tt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Ar.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=rt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Ar.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Ar.meridiem=function(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"},dt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===S(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=k("moment.lang is deprecated. Use moment.locale instead.",dt),i.langData=k("moment.langData is deprecated. Use moment.localeData instead.",mt);var Or=Math.abs;function xr(e,t,r,n){var i=Xt(t,r);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function Pr(e){return e<0?Math.floor(e):Math.ceil(e)}function Nr(e){return 4800*e/146097}function Lr(e){return 146097*e/4800}function Dr(e){return function(){return this.as(e)}}var Ur=Dr("ms"),Ir=Dr("s"),Br=Dr("m"),Mr=Dr("h"),Hr=Dr("d"),Fr=Dr("w"),Gr=Dr("M"),$r=Dr("Q"),Wr=Dr("y");function jr(e){return function(){return this.isValid()?this._data[e]:NaN}}var qr=jr("milliseconds"),Yr=jr("seconds"),Kr=jr("minutes"),Qr=jr("hours"),Vr=jr("days"),Xr=jr("months"),zr=jr("years"),Zr=Math.round,Jr={ss:44,s:45,m:45,h:22,d:26,M:11};function en(e,t,r,n,i){return i.relativeTime(t||1,!!r,e,n)}var tn=Math.abs;function rn(e){return(e>0)-(e<0)||+e}function nn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,r=tn(this._milliseconds)/1e3,n=tn(this._days),i=tn(this._months);e=b(r/60),t=b(e/60),r%=60,e%=60;var s=b(i/12),o=i%=12,a=n,c=t,u=e,h=r?r.toFixed(3).replace(/\.?0+$/,""):"",l=this.asSeconds();if(!l)return"P0D";var f=l<0?"-":"",p=rn(this._months)!==rn(l)?"-":"",d=rn(this._days)!==rn(l)?"-":"",g=rn(this._milliseconds)!==rn(l)?"-":"";return f+"P"+(s?p+s+"Y":"")+(o?p+o+"M":"")+(a?d+a+"D":"")+(c||u||h?"T":"")+(c?g+c+"H":"")+(u?g+u+"M":"")+(h?g+h+"S":"")}var sn=Ht.prototype;return sn.isValid=function(){return this._isValid},sn.abs=function(){var e=this._data;return this._milliseconds=Or(this._milliseconds),this._days=Or(this._days),this._months=Or(this._months),e.milliseconds=Or(e.milliseconds),e.seconds=Or(e.seconds),e.minutes=Or(e.minutes),e.hours=Or(e.hours),e.months=Or(e.months),e.years=Or(e.years),this},sn.add=function(e,t){return xr(this,e,t,1)},sn.subtract=function(e,t){return xr(this,e,t,-1)},sn.as=function(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if("month"===(e=U(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,r=this._months+Nr(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(Lr(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},sn.asMilliseconds=Ur,sn.asSeconds=Ir,sn.asMinutes=Br,sn.asHours=Mr,sn.asDays=Hr,sn.asWeeks=Fr,sn.asMonths=Gr,sn.asQuarters=$r,sn.asYears=Wr,sn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12):NaN},sn._bubble=function(){var e,t,r,n,i,s=this._milliseconds,o=this._days,a=this._months,c=this._data;return s>=0&&o>=0&&a>=0||s<=0&&o<=0&&a<=0||(s+=864e5*Pr(Lr(a)+o),o=0,a=0),c.milliseconds=s%1e3,e=b(s/1e3),c.seconds=e%60,t=b(e/60),c.minutes=t%60,r=b(t/60),c.hours=r%24,o+=b(r/24),i=b(Nr(o)),a+=i,o-=Pr(Lr(i)),n=b(a/12),a%=12,c.days=o,c.months=a,c.years=n,this},sn.clone=function(){return Xt(this)},sn.get=function(e){return e=U(e),this.isValid()?this[e+"s"]():NaN},sn.milliseconds=qr,sn.seconds=Yr,sn.minutes=Kr,sn.hours=Qr,sn.days=Vr,sn.weeks=function(){return b(this.days()/7)},sn.months=Xr,sn.years=zr,sn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),r=function(e,t,r){var n=Xt(e).abs(),i=Zr(n.as("s")),s=Zr(n.as("m")),o=Zr(n.as("h")),a=Zr(n.as("d")),c=Zr(n.as("M")),u=Zr(n.as("y")),h=i<=Jr.ss&&["s",i]||i<Jr.s&&["ss",i]||s<=1&&["m"]||s<Jr.m&&["mm",s]||o<=1&&["h"]||o<Jr.h&&["hh",o]||a<=1&&["d"]||a<Jr.d&&["dd",a]||c<=1&&["M"]||c<Jr.M&&["MM",c]||u<=1&&["y"]||["yy",u];return h[2]=t,h[3]=+e>0,h[4]=r,en.apply(null,h)}(this,!e,t);return e&&(r=t.pastFuture(+this,r)),t.postformat(r)},sn.toISOString=nn,sn.toString=nn,sn.toJSON=nn,sn.locale=ir,sn.localeData=or,sn.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",nn),sn.lang=sr,j("X",0,0,"unix"),j("x",0,0,"valueOf"),he("x",se),he("X",/[+-]?\d+(\.\d{1,3})?/),de("X",(function(e,t,r){r._d=new Date(1e3*parseFloat(e,10))})),de("x",(function(e,t,r){r._d=new Date(S(e))})),i.version="2.24.0",t=Dt,i.fn=Sr,i.min=function(){return Bt("isBefore",[].slice.call(arguments,0))},i.max=function(){return Bt("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=p,i.unix=function(e){return Dt(1e3*e)},i.months=function(e,t){return Cr(e,t,"months")},i.isDate=u,i.locale=dt,i.invalid=m,i.duration=Xt,i.isMoment=w,i.weekdays=function(e,t,r){return Rr(e,t,r,"weekdays")},i.parseZone=function(){return Dt.apply(null,arguments).parseZone()},i.localeData=mt,i.isDuration=Ft,i.monthsShort=function(e,t){return Cr(e,t,"monthsShort")},i.weekdaysMin=function(e,t,r){return Rr(e,t,r,"weekdaysMin")},i.defineLocale=gt,i.updateLocale=function(e,t){if(null!=t){var r,n,i=ut;null!=(n=pt(e))&&(i=n._config),t=P(i,t),(r=new N(t)).parentLocale=ht[e],ht[e]=r,dt(e)}else null!=ht[e]&&(null!=ht[e].parentLocale?ht[e]=ht[e].parentLocale:null!=ht[e]&&delete ht[e]);return ht[e]},i.locales=function(){return C(ht)},i.weekdaysShort=function(e,t,r){return Rr(e,t,r,"weekdaysShort")},i.normalizeUnits=U,i.relativeTimeRounding=function(e){return void 0===e?Zr:"function"==typeof e&&(Zr=e,!0)},i.relativeTimeThreshold=function(e,t){return void 0!==Jr[e]&&(void 0===t?Jr[e]:(Jr[e]=t,"s"===e&&(Jr.ss=t-1),!0))},i.calendarFormat=function(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},i.prototype=Sr,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()}).call(this,r(82)(e))},function(e,t){e.exports=require("os")},function(e,t,r){e.exports=v;var n=r(3),i=r(45),s=r(28),o=(s.Minimatch,r(14)),a=r(13).EventEmitter,c=r(1),u=r(19),h=r(29),l=r(95),f=r(46),p=(f.alphasort,f.alphasorti,f.setopts),d=f.ownProp,g=r(96),m=(r(2),f.childrenIgnored),_=f.isIgnored,y=r(48);function v(e,t,r){if("function"==typeof t&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return l(e,t)}return new w(e,t,r)}v.sync=l;var E=v.GlobSync=l.GlobSync;function w(e,t,r){if("function"==typeof t&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new E(e,t)}if(!(this instanceof w))return new w(e,t,r);p(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),"function"==typeof r&&(r=y(r),this.on("error",r),this.on("end",(function(e){r(null,e)})));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===n)return a();for(var s=!0,o=0;o<n;o++)this._process(this.minimatch.set[o],o,!1,a);function a(){--i._processing,i._processing<=0&&(s?process.nextTick((function(){i._finish()})):i._finish())}s=!1}v.glob=v,v.hasMagic=function(e,t){var r=function(e,t){if(null===t||"object"!=typeof t)return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}({},t);r.noprocess=!0;var n=new w(e,r).minimatch.set;if(!e)return!1;if(n.length>1)return!0;for(var i=0;i<n[0].length;i++)if("string"!=typeof n[0][i])return!0;return!1},v.Glob=w,o(w,a),w.prototype._finish=function(){if(u(this instanceof w),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();f.finish(this),this.emit("end",this.found)}},w.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n)}function n(){0==--e&&t._finish()}},w.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),s=this,o=n.length;if(0===o)return t();var a=this.matches[e]=Object.create(null);n.forEach((function(r,n){r=s._makeAbs(r),i.realpath(r,s.realpathCache,(function(n,i){n?"stat"===n.syscall?a[r]=!0:s.emit("error",n):a[i]=!0,0==--o&&(s.matches[e]=a,t())}))}))},w.prototype._mark=function(e){return f.mark(this,e)},w.prototype._makeAbs=function(e){return f.makeAbs(this,e)},w.prototype.abort=function(){this.aborted=!0,this.emit("abort")},w.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},w.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<n.length;t++){var i=n[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},w.prototype._process=function(e,t,r,n){if(u(this instanceof w),u("function"==typeof n),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,r,n]);else{for(var i,o=0;"string"==typeof e[o];)o++;switch(o){case e.length:return void this._processSimple(e.join("/"),t,n);case 0:i=null;break;default:i=e.slice(0,o).join("/")}var a,c=e.slice(o);null===i?a=".":h(i)||h(e.join("/"))?(i&&h(i)||(i="/"+i),a=i):a=i;var l=this._makeAbs(a);if(m(this,a))return n();c[0]===s.GLOBSTAR?this._processGlobStar(i,a,l,c,t,r,n):this._processReaddir(i,a,l,c,t,r,n)}},w.prototype._processReaddir=function(e,t,r,n,i,s,o){var a=this;this._readdir(r,s,(function(c,u){return a._processReaddir2(e,t,r,n,i,s,u,o)}))},w.prototype._processReaddir2=function(e,t,r,n,i,s,o,a){if(!o)return a();for(var u=n[0],h=!!this.minimatch.negate,l=u._glob,f=this.dot||"."===l.charAt(0),p=[],d=0;d<o.length;d++){if("."!==(m=o[d]).charAt(0)||f)(h&&!e?!m.match(u):m.match(u))&&p.push(m)}var g=p.length;if(0===g)return a();if(1===n.length&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(d=0;d<g;d++){var m=p[d];e&&(m="/"!==e?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=c.join(this.root,m)),this._emitMatch(i,m)}return a()}n.shift();for(d=0;d<g;d++){m=p[d];e&&(m="/"!==e?e+"/"+m:e+m),this._process([m].concat(n),i,s,a)}a()},w.prototype._emitMatch=function(e,t){if(!this.aborted&&!_(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var r=h(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[e][t]=!0;var i=this.statCache[r];i&&this.emit("stat",t,i),this.emit("match",t)}}},w.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var r=this,i=g("lstat\0"+e,(function(n,i){if(n&&"ENOENT"===n.code)return t();var s=i&&i.isSymbolicLink();r.symlinks[e]=s,s||!i||i.isDirectory()?r._readdir(e,!1,t):(r.cache[e]="FILE",t())}));i&&n.lstat(e,i)}},w.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=g("readdir\0"+e+"\0"+t,r))){if(t&&!d(this.symlinks,e))return this._readdirInGlobStar(e,r);if(d(this.cache,e)){var i=this.cache[e];if(!i||"FILE"===i)return r();if(Array.isArray(i))return r(null,i)}n.readdir(e,function(e,t,r){return function(n,i){n?e._readdirError(t,n,r):e._readdirEntries(t,i,r)}}(this,e,r))}},w.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var i=t[n];i="/"===e?e+i:e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,r(null,t)}},w.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return r()}},w.prototype._processGlobStar=function(e,t,r,n,i,s,o){var a=this;this._readdir(r,s,(function(c,u){a._processGlobStar2(e,t,r,n,i,s,u,o)}))},w.prototype._processGlobStar2=function(e,t,r,n,i,s,o,a){if(!o)return a();var c=n.slice(1),u=e?[e]:[],h=u.concat(c);this._process(h,i,!1,a);var l=this.symlinks[r],f=o.length;if(l&&s)return a();for(var p=0;p<f;p++){if("."!==o[p].charAt(0)||this.dot){var d=u.concat(o[p],c);this._process(d,i,!0,a);var g=u.concat(o[p],n);this._process(g,i,!0,a)}}a()},w.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,(function(i,s){n._processSimple2(e,t,i,s,r)}))},w.prototype._processSimple2=function(e,t,r,n,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return i();if(e&&h(e)&&!this.nomount){var s=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),s&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()},w.prototype._stat=function(e,t){var r=this._makeAbs(e),i="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&d(this.cache,r)){var s=this.cache[r];if(Array.isArray(s)&&(s="DIR"),!i||"DIR"===s)return t(null,s);if(i&&"FILE"===s)return t()}var o=this.statCache[r];if(void 0!==o){if(!1===o)return t(null,o);var a=o.isDirectory()?"DIR":"FILE";return i&&"FILE"===a?t():t(null,a,o)}var c=this,u=g("stat\0"+r,(function(i,s){if(s&&s.isSymbolicLink())return n.stat(r,(function(n,i){n?c._stat2(e,r,null,s,t):c._stat2(e,r,n,i,t)}));c._stat2(e,r,i,s,t)}));u&&n.lstat(r,u)},w.prototype._stat2=function(e,t,r,n,i){if(r&&("ENOENT"===r.code||"ENOTDIR"===r.code))return this.statCache[t]=!1,i();var s="/"===e.slice(-1);if(this.statCache[t]=n,"/"===t.slice(-1)&&n&&!n.isDirectory())return i(null,!1,n);var o=!0;return n&&(o=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||o,s&&"FILE"===o?i():i(null,o,n)}},function(e,t,r){e.exports=d,d.Minimatch=g;var n={sep:"/"};try{n=r(1)}catch(e){}var i=d.GLOBSTAR=g.GLOBSTAR={},s=r(91),o={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c=a+"*?",u="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",h="(?:(?!(?:\\/|^)\\.).)*?",l="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{});var f=/\/+/;function p(e,t){e=e||{},t=t||{};var r={};return Object.keys(t).forEach((function(e){r[e]=t[e]})),Object.keys(e).forEach((function(t){r[t]=e[t]})),r}function d(e,t,r){if("string"!=typeof t)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new g(t,r).match(e))}function g(e,t){if(!(this instanceof g))return new g(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==n.sep&&(e=e.split(n.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function m(e,t){if(t||(t=this instanceof g?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:s(e)}d.filter=function(e,t){return t=t||{},function(r,n,i){return d(r,e,t)}},d.defaults=function(e){if(!e||!Object.keys(e).length)return d;var t=d,r=function(r,n,i){return t.minimatch(r,n,p(e,i))};return r.Minimatch=function(r,n){return new t.Minimatch(r,p(e,n))},r},g.defaults=function(e){return e&&Object.keys(e).length?d.defaults(e).Minimatch:g},g.prototype.debug=function(){},g.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,r),r=this.globParts=r.map((function(e){return e.split(f)})),this.debug(this.pattern,r),r=r.map((function(e,t,r){return e.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,r),this.set=r},g.prototype.parseNegate=function(){var e=this.pattern,t=!1,r=this.options,n=0;if(r.nonegate)return;for(var i=0,s=e.length;i<s&&"!"===e.charAt(i);i++)t=!t,n++;n&&(this.pattern=e.substr(n));this.negate=t},d.braceExpand=function(e,t){return m(e,t)},g.prototype.braceExpand=m,g.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===e)return i;if(""===e)return"";var n,s="",u=!!r.nocase,h=!1,f=[],p=[],d=!1,g=-1,m=-1,y="."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=this;function E(){if(n){switch(n){case"*":s+=c,u=!0;break;case"?":s+=a,u=!0;break;default:s+="\\"+n}v.debug("clearStateChar %j %j",n,s),n=!1}}for(var w,b=0,S=e.length;b<S&&(w=e.charAt(b));b++)if(this.debug("%s\t%s %s %j",e,b,s,w),h&&l[w])s+="\\"+w,h=!1;else switch(w){case"/":return!1;case"\\":E(),h=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,b,s,w),d){this.debug("  in class"),"!"===w&&b===m+1&&(w="^"),s+=w;continue}v.debug("call clearStateChar %j",n),E(),n=w,r.noext&&E();continue;case"(":if(d){s+="(";continue}if(!n){s+="\\(";continue}f.push({type:n,start:b-1,reStart:s.length,open:o[n].open,close:o[n].close}),s+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,s),n=!1;continue;case")":if(d||!f.length){s+="\\)";continue}E(),u=!0;var T=f.pop();s+=T.close,"!"===T.type&&p.push(T),T.reEnd=s.length;continue;case"|":if(d||!f.length||h){s+="\\|",h=!1;continue}E(),s+="|";continue;case"[":if(E(),d){s+="\\"+w;continue}d=!0,m=b,g=s.length,s+=w;continue;case"]":if(b===m+1||!d){s+="\\"+w,h=!1;continue}if(d){var A=e.substring(m+1,b);try{RegExp("["+A+"]")}catch(e){var k=this.parse(A,_);s=s.substr(0,g)+"\\["+k[0]+"\\]",u=u||k[1],d=!1;continue}}u=!0,d=!1,s+=w;continue;default:E(),h?h=!1:!l[w]||"^"===w&&d||(s+="\\"),s+=w}d&&(A=e.substr(m+1),k=this.parse(A,_),s=s.substr(0,g)+"\\["+k[0],u=u||k[1]);for(T=f.pop();T;T=f.pop()){var C=s.slice(T.reStart+T.open.length);this.debug("setting tail",s,T),C=C.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,r){return r||(r="\\"),t+t+r+"|"})),this.debug("tail=%j\n   %s",C,C,T,s);var R="*"===T.type?c:"?"===T.type?a:"\\"+T.type;u=!0,s=s.slice(0,T.reStart)+R+"\\("+C}E(),h&&(s+="\\\\");var O=!1;switch(s.charAt(0)){case".":case"[":case"(":O=!0}for(var x=p.length-1;x>-1;x--){var P=p[x],N=s.slice(0,P.reStart),L=s.slice(P.reStart,P.reEnd-8),D=s.slice(P.reEnd-8,P.reEnd),U=s.slice(P.reEnd);D+=U;var I=N.split("(").length-1,B=U;for(b=0;b<I;b++)B=B.replace(/\)[+*?]?/,"");var M="";""===(U=B)&&t!==_&&(M="$"),s=N+L+U+M+D}""!==s&&u&&(s="(?=.)"+s);O&&(s=y+s);if(t===_)return[s,u];if(!u)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var H=r.nocase?"i":"";try{var F=new RegExp("^"+s+"$",H)}catch(e){return new RegExp("$.")}return F._glob=e,F._src=s,F};var _={};d.makeRe=function(e,t){return new g(e,t||{}).makeRe()},g.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?c:t.dot?u:h,n=t.nocase?"i":"",s=e.map((function(e){return e.map((function(e){return e===i?r:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,n)}catch(e){this.regexp=!1}return this.regexp},d.match=function(e,t,r){var n=new g(t,r=r||{});return e=e.filter((function(e){return n.match(e)})),n.options.nonull&&!e.length&&e.push(t),e},g.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var r=this.options;"/"!==n.sep&&(e=e.split(n.sep).join("/"));e=e.split(f),this.debug(this.pattern,"split",e);var i,s,o=this.set;for(this.debug(this.pattern,"set",o),s=e.length-1;s>=0&&!(i=e[s]);s--);for(s=0;s<o.length;s++){var a=o[s],c=e;if(r.matchBase&&1===a.length&&(c=[i]),this.matchOne(c,a,t))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},g.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,o=0,a=e.length,c=t.length;s<a&&o<c;s++,o++){this.debug("matchOne loop");var u,h=t[o],l=e[s];if(this.debug(t,h,l),!1===h)return!1;if(h===i){this.debug("GLOBSTAR",[t,h,l]);var f=s,p=o+1;if(p===c){for(this.debug("** at the end");s<a;s++)if("."===e[s]||".."===e[s]||!n.dot&&"."===e[s].charAt(0))return!1;return!0}for(;f<a;){var d=e[f];if(this.debug("\nglobstar while",e,f,t,p,d),this.matchOne(e.slice(f),t.slice(p),r))return this.debug("globstar found match!",f,a,d),!0;if("."===d||".."===d||!n.dot&&"."===d.charAt(0)){this.debug("dot detected!",e,f,t,p);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!r||(this.debug("\n>>> no match, partial?",e,f,t,p),f!==a))}if("string"==typeof h?(u=n.nocase?l.toLowerCase()===h.toLowerCase():l===h,this.debug("string match",h,l,u)):(u=l.match(h),this.debug("pattern match",h,l,u)),!u)return!1}if(s===a&&o===c)return!0;if(s===a)return r;if(o===c)return s===a-1&&""===e[s];throw new Error("wtf?")}},function(e,t,r){"use strict";function n(e){return"/"===e.charAt(0)}function i(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),r=t[1]||"",n=Boolean(r&&":"!==r.charAt(1));return Boolean(t[2]||n)}e.exports="win32"===process.platform?i:n,e.exports.posix=n,e.exports.win32=i},function(e,t,r){const n=r(0),i=r(44),s=r(6),o=r(7),a=r(9),c=r(51),u=r(8),h=r(4);class l{constructor(e,t,r){this.setOptions(e),this.type="",this.queueLength=0,this.allowExternalServiceFiles=!1,this.progress=null,this.serviceDefaults=t,this.serviceRequired=r,this.config={},this.persistCollisionOptions={},this.channel=a,this.paths=new o,this.pathCache={local:new c("local"),remote:new c("remote")}}destructor(){this.config=null}setProgress(e){this.progress=e||null}setOptions(e){this.options=Object.assign({},{onDisconnect:null,onConnect:null},e)}setConfig(e){let t;if(this.config=e,this.config.service&&(this.config.service=this.mergeWithDefaults(this.config.service),this.serviceRequired&&!0!==(t=this.validateServiceSettings(this.serviceRequired,this.config.service))))throw new u(h.t("service_setting_missing",this.paths.getNormalPath(this.config.serviceUri),this.config.env,this.type,t))}mergeWithDefaults(e){return Object.assign({},this.serviceDefaults,e)}validateServiceSettings(e,t){let r;for(r in e)if(e.hasOwnProperty(r)&&!t[r])return r;return!0}convertUriToRemote(e){return this.paths.getNormalPath(e)}convertRemoteToUri(e){return n.Uri.file(e)}getNonCollidingName(e,t){let r,n,i=e.indexOf(".");return r=i>0||-1===i?new RegExp("^"+e.substring(0,i)+"(-\\d+)?\\..*"):new RegExp("^"+e+"(-\\d+)?"),n=this.matchFilesInDir(t,r),n.length>0?i>0?e.substring(0,i)+"-"+(n.length+1)+e.substring(i):e.substring(i)+"-"+(n.length+1):e}matchFilesInDir(e,t){return e.filter(e=>null!==e.name.match(t))}getModeForPath(e,t=[]){return this.paths.getMatchForPath(e,t)}init(e){return s.trace("ServiceBase#init","Initialising"),new Promise(e=>{if(!this.paths.pathInWorkspaceFolder(this.config.serviceUri)&&!this.allowExternalServiceFiles)return n.window.showInformationMessage(h.t("service_out_of_workspace",this.config.serviceFile),{modal:!0},{id:"continue",title:h.t("continue")},{id:"cancel",isCloseAffordance:!0,title:h.t("cancel")}).then(t=>((t=!(!t||"continue"!==t.id))&&(this.allowExternalServiceFiles=!0),e(t)));e(!0)}).then(e=>{if(!1===e)throw new u(h.t("transfer_cancelled"))}).then(()=>{s.trace("ProviderBase#init",`Setting queue length to ${e}`),this.persistCollisionOptions={},this.queueLength=e})}mkDirRecursive(e,t,r,n="/"){let o,a,c;return e===t?Promise.resolve():e.startsWith(t)||e.includes(i.tmpdir)?(o=s.trimSeparators(e.replace(t,""),n),a=o.split(n),c=[],a.reduce((e,r)=>{let i=""===e?r:e+n+r;return""!==i&&c.push(s.addTrailingSeperator(t,n)+i),i},""),this.mkDirByList(c,r)):Promise.reject(h.t("directory_out_of_root_no_create",e))}mkDirByList(e,t){let r=e.shift();return void 0!==r?t(r).then(()=>this.mkDirByList(e,t)).catch(e=>{throw e}):Promise.resolve()}checkCollision(e,t,r){let n,i,o;if(!e)throw new Error("Source file must exist");return t&&(o=e.modified-(t.modified+this.config.service.timeZoneOffset)),i=this.config.service.testCollisionTimeDiffs&&o<0||!this.config.service.testCollisionTimeDiffs,s.trace("ProviderBase#checkCollision",`Collision of "${e.name}": ${i?"yes":"no"}, Queue length: ${this.queueLength}`),!(!t||!i)&&(t.type===e.type?(n="normal",this.persistCollisionOptions.normal?{type:"normal",option:this.persistCollisionOptions.normal}:r&&s.collisionOpts[r]?{type:"normal",option:s.collisionOpts[r]}:s.showFileCollisionPicker(e.name,this.persistCollisionOptions.normal,this.queueLength,this.config.service.testCollisionTimeDiffs?null:h.t("filename_exists_ignore_times",e.name))):s.showMismatchCollisionPicker(e.name))}setCollisionOption(e){e.option&&e.option.baseOption&&(this.persistCollisionOptions[e.type]=e.option.baseOption,e.option=e.option.baseOption)}put(){throw new Error("Service #put method is not yet implemented!")}get(){throw new Error("Service #get method is not yet implemented!")}list(){throw new Error("Service #list method is not yet implemented!")}stop(){return this.setProgress(!1),Promise.resolve()}disconnect(){}onConnect(){"function"==typeof this.options.onConnect&&this.options.onConnect(this)}onDisconnect(e){e&&this.setProgress(!1),"function"==typeof this.options.onDisconnect&&this.options.onDisconnect(e)}listRecursiveFiles(){throw new Error("Service #listRecursiveFiles method is not yet implemented!")}}l.description="",l.detail="",l.defaults={timeZoneOffset:0,testCollisionTimeDiffs:!0,collisionUploadAction:null,collisionDownloadAction:null,followSymlinks:!1,reminder:!0,reminderTimeout:null},l.pathSep=o.sep,e.exports=l},function(e,t,r){"use strict";const n=r(2),i=r(99),s=r(106),o=r(22),a=e=>"string"==typeof e&&(""===e||"./"===e),c=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,o=new Set,a=0,c=e=>{o.add(e.output),r&&r.onResult&&r.onResult(e)};for(let o=0;o<t.length;o++){let u=s(String(t[o]),{...r,onResult:c},!0),h=u.state.negated||u.state.negatedExtglob;h&&a++;for(let t of e){let e=u(t,!0);(h?!e.isMatch:e.isMatch)&&(h?n.add(e.output):(n.delete(e.output),i.add(e.output)))}}let u=(a===t.length?[...o]:[...i]).filter(e=>!n.has(e));if(r&&0===u.length){if(!0===r.failglob)throw new Error(`No matches found for "${t.join(", ")}"`);if(!0===r.nonull||!0===r.nullglob)return r.unescape?t.map(e=>e.replace(/\\/g,"")):t}return u};c.match=c,c.matcher=(e,t)=>s(e,t),c.any=c.isMatch=(e,t,r)=>s(t,r)(e),c.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],s=c(e,t,{...r,onResult:e=>{r.onResult&&r.onResult(e),i.push(e.output)}});for(let e of i)s.includes(e)||n.add(e);return[...n]},c.contains=(e,t,r)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${n.inspect(e)}"`);if(Array.isArray(t))return t.some(t=>c.contains(e,t,r));if("string"==typeof t){if(a(e)||a(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return c.isMatch(e,t,{...r,contains:!0})},c.matchKeys=(e,t,r)=>{if(!o.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=c(Object.keys(e),t,r),i={};for(let t of n)i[t]=e[t];return i},c.some=(e,t,r)=>{let n=[].concat(e);for(let e of[].concat(t)){let t=s(String(e),r);if(n.some(e=>t(e)))return!0}return!1},c.every=(e,t,r)=>{let n=[].concat(e);for(let e of[].concat(t)){let t=s(String(e),r);if(!n.every(e=>t(e)))return!1}return!0},c.all=(e,t,r)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${n.inspect(e)}"`);return[].concat(t).every(t=>s(t,r)(e))},c.capture=(e,t,r)=>{let n=o.isWindows(r),i=s.makeRe(String(e),{...r,capture:!0}).exec(n?o.toPosixSlashes(t):t);if(i)return i.slice(1).map(e=>void 0===e?"":e)},c.makeRe=(...e)=>s.makeRe(...e),c.scan=(...e)=>s.scan(...e),c.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let e of i(String(n),t))r.push(s.parse(e,t));return r},c.braces=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return t&&!0===t.nobrace||!/\{.*\}/.test(e)?[e]:i(e,t)},c.braceExpand=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return c.braces(e,{...t,expand:!0})},e.exports=c},function(e,t,r){"use strict";const n=r(33);e.exports=(e,t={})=>{let r=(e,i={})=>{let s=t.escapeInvalid&&n.isInvalidBrace(i),o=!0===e.invalid&&!0===t.escapeInvalid,a="";if(e.value)return(s||o)&&n.isOpenOrClose(e)?"\\"+e.value:e.value;if(e.value)return e.value;if(e.nodes)for(let t of e.nodes)a+=r(t);return a};return r(e)}},function(e,t,r){"use strict";t.isInteger=e=>"number"==typeof e?Number.isInteger(e):"string"==typeof e&&""!==e.trim()&&Number.isInteger(Number(e)),t.find=(e,t)=>e.nodes.find(e=>e.type===t),t.exceedsLimit=(e,r,n=1,i)=>!1!==i&&(!(!t.isInteger(e)||!t.isInteger(r))&&(Number(r)-Number(e))/Number(n)>=i),t.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];n&&(r&&n.type===r||"open"===n.type||"close"===n.type)&&!0!==n.escaped&&(n.value="\\"+n.value,n.escaped=!0)},t.encloseBrace=e=>"brace"===e.type&&(e.commas>>0+e.ranges>>0==0&&(e.invalid=!0,!0)),t.isInvalidBrace=e=>"brace"===e.type&&(!(!0!==e.invalid&&!e.dollar)||(e.commas>>0+e.ranges>>0==0?(e.invalid=!0,!0):(!0!==e.open||!0!==e.close)&&(e.invalid=!0,!0))),t.isOpenOrClose=e=>"open"===e.type||"close"===e.type||(!0===e.open||!0===e.close),t.reduce=e=>e.reduce((e,t)=>("text"===t.type&&e.push(t.value),"range"===t.type&&(t.type="text"),e),[]),t.flatten=(...e)=>{const t=[],r=e=>{for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)?r(i,t):void 0!==i&&t.push(i)}return t};return r(e),t}},function(e,t,r){var n=r(12),i=r(35).Socket,s=r(113).lookup,o=r(13).EventEmitter,a=r(2).inherits,c=n.getHashes(),u=r(36),h=u.SSH2Stream,l=u.SFTPStream,f=u.constants,p=f.BUGS,d=f.ALGORITHMS,g=f.EDDSA_SUPPORTED,m=u.utils.parseKey,_=r(126),y=r(55),v=r(129),E=r(130),w=r(20).readUInt32BE,b=Math.pow(2,32)-1,S=/^OpenSSH_(?:(?![0-4])\d)|(?:\d{2,})/,T=function(e){};function A(){if(!(this instanceof A))return new A;o.call(this),this.config={host:void 0,port:void 0,localAddress:void 0,localPort:void 0,forceIPv4:void 0,forceIPv6:void 0,keepaliveCountMax:void 0,keepaliveInterval:void 0,readyTimeout:void 0,username:void 0,password:void 0,privateKey:void 0,tryKeyboard:void 0,agent:void 0,allowAgentFwd:void 0,authHandler:void 0,hostHashAlgo:void 0,hostHashCb:void 0,strictVendor:void 0,debug:void 0},this._readyTimeout=void 0,this._channels=void 0,this._callbacks=void 0,this._forwarding=void 0,this._forwardingUnix=void 0,this._acceptX11=void 0,this._agentFwdEnabled=void 0,this._curChan=void 0,this._remoteVer=void 0,this._sshstream=void 0,this._sock=void 0,this._resetKA=void 0}function k(e,t,r,n){var i=C(e),s=y.MAX_WINDOW,o=y.PACKET_SIZE,a=!0;if(!1===i)return n(new Error("No free channels available"));"function"==typeof r&&(n=r,r={}),e._channels[i]=n;var c=e._sshstream;return c.once("CHANNEL_OPEN_CONFIRMATION:"+i,u).once("CHANNEL_OPEN_FAILURE:"+i,h).once("CHANNEL_CLOSE:"+i,h),"session"===t?a=c.session(i,s,o):"direct-tcpip"===t?a=c.directTcpip(i,s,o,r):"direct-streamlocal@openssh.com"===t&&(a=c.openssh_directStreamLocal(i,s,o,r)),a;function u(r){c.removeListener("CHANNEL_OPEN_FAILURE:"+i,h),c.removeListener("CHANNEL_CLOSE:"+i,h);var a={type:t,incoming:{id:i,window:s,packetSize:o,state:"open"},outgoing:{id:r.sender,window:r.window,packetSize:r.packetSize,state:"open"}};n(void 0,new y(a,e))}function h(t){var r;c.removeListener("CHANNEL_OPEN_CONFIRMATION:"+i,u),c.removeListener("CHANNEL_OPEN_FAILURE:"+i,h),c.removeListener("CHANNEL_CLOSE:"+i,h),delete e._channels[i],t instanceof Error?r=t:"object"==typeof t&&null!==t?((r=new Error("(SSH) Channel open failure: "+t.description)).reason=t.reason,r.lang=t.lang):(r=new Error("(SSH) Channel open failure: server closed channel unexpectedly")).reason=r.lang="",n(r)}}function C(e){if(e._curChan<b)return++e._curChan;for(var t=0,r=e._channels;t<b;++t)if(!r[t])return t;return!1}function R(e,t,r){var n={single:!1,protocol:"MIT-MAGIC-COOKIE-1",cookie:void 0,screen:0};"function"==typeof t?r=t:"object"==typeof t&&null!==t&&("boolean"==typeof t.single&&(n.single=t.single),"number"==typeof t.screen&&(n.screen=t.screen),"string"==typeof t.protocol&&(n.protocol=t.protocol),"string"==typeof t.cookie?n.cookie=t.cookie:Buffer.isBuffer(t.cookie)&&(n.cookie=t.cookie.toString("hex"))),void 0===n.cookie&&(n.cookie=L());var i="function"==typeof r;return"open"!==e.outgoing.state?(i&&r(new Error("Channel is not open")),!0):(i&&e._callbacks.push((function(t){if(t)return r(!0!==t?t:new Error("Unable to request X11"));e._hasX11=!0,++e._client._acceptX11,e.once("close",(function(){e._client._acceptX11&&--e._client._acceptX11})),r()})),e._client._sshstream.x11Forward(e.outgoing.id,n,i))}function O(e,t,r){var n=24,i=80,s=640,o=480,a="vt100",c=null;"function"==typeof t?r=t:"object"==typeof t&&null!==t&&("number"==typeof t.rows&&(n=t.rows),"number"==typeof t.cols&&(i=t.cols),"number"==typeof t.width&&(s=t.width),"number"==typeof t.height&&(o=t.height),"string"==typeof t.term&&(a=t.term),"object"==typeof t.modes&&(c=t.modes));var u="function"==typeof r;return"open"!==e.outgoing.state?(u&&r(new Error("Channel is not open")),!0):(u&&e._callbacks.push((function(e){if(e)return r(!0!==e?e:new Error("Unable to request a pseudo-terminal"));r()})),e._client._sshstream.pty(e.outgoing.id,n,i,o,s,a,c,u))}function x(e,t){var r="function"==typeof t;return"open"!==e.outgoing.state?(r&&t(new Error("Channel is not open")),!0):e._client._agentFwdEnabled?(r&&t(!1),!0):(e._client._agentFwdEnabled=!0,e._callbacks.push((function(n){if(n)return e._client._agentFwdEnabled=!1,void(r&&t(!0!==n?n:new Error("Unable to request agent forwarding")));r&&t()})),e._client._sshstream.openssh_agentForward(e.outgoing.id,!0))}function P(e,t){if("open"!==e.outgoing.state)return!0;for(var r,n,i=!0,s=Object.keys(t||{}),o=0,a=s.length;o<a;++o)n=t[r=s[o]],i=e._client._sshstream.env(e.outgoing.id,r,n,!1);return i}function N(e,t,r){return"open"!==e.outgoing.state?(r(new Error("Channel is not open")),!0):(e._callbacks.push((function(n){if(n)return r(!0!==n?n:new Error("Unable to start subsystem: "+t));e.subtype="subsystem",r(void 0,e)})),e._client._sshstream.subsystem(e.outgoing.id,t,!0))}a(A,o),A.prototype.connect=function(e){var t=this;if(this._sock&&this._sock.writable)return this.once("close",(function(){t.connect(e)})),void this.end();this.config.host=e.hostname||e.host||"localhost",this.config.port=e.port||22,this.config.localAddress="string"==typeof e.localAddress?e.localAddress:void 0,this.config.localPort="string"==typeof e.localPort||"number"==typeof e.localPort?e.localPort:void 0,this.config.forceIPv4=e.forceIPv4||!1,this.config.forceIPv6=e.forceIPv6||!1,this.config.keepaliveCountMax="number"==typeof e.keepaliveCountMax&&e.keepaliveCountMax>=0?e.keepaliveCountMax:3,this.config.keepaliveInterval="number"==typeof e.keepaliveInterval&&e.keepaliveInterval>0?e.keepaliveInterval:0,this.config.readyTimeout="number"==typeof e.readyTimeout&&e.readyTimeout>=0?e.readyTimeout:2e4;var r,o={kex:void 0,kexBuf:void 0,cipher:void 0,cipherBuf:void 0,serverHostKey:void 0,serverHostKeyBuf:void 0,hmac:void 0,hmacBuf:void 0,compress:void 0,compressBuf:void 0};if("object"==typeof e.algorithms&&null!==e.algorithms){var a,u;if(u=e.algorithms.kex,Array.isArray(u)&&u.length>0){for(a=d.SUPPORTED_KEX,r=0;r<u.length;++r)if(-1===a.indexOf(u[r]))throw new Error("Unsupported key exchange algorithm: "+u[r]);o.kex=u}if(u=e.algorithms.cipher,Array.isArray(u)&&u.length>0){for(a=d.SUPPORTED_CIPHER,r=0;r<u.length;++r)if(-1===a.indexOf(u[r]))throw new Error("Unsupported cipher algorithm: "+u[r]);o.cipher=u}if(u=e.algorithms.serverHostKey,Array.isArray(u)&&u.length>0){for(a=d.SUPPORTED_SERVER_HOST_KEY,r=0;r<u.length;++r)if(-1===a.indexOf(u[r]))throw new Error("Unsupported server host key algorithm: "+u[r]);o.serverHostKey=u}if(u=e.algorithms.hmac,Array.isArray(u)&&u.length>0){for(a=d.SUPPORTED_HMAC,r=0;r<u.length;++r)if(-1===a.indexOf(u[r]))throw new Error("Unsupported HMAC algorithm: "+u[r]);o.hmac=u}if(u=e.algorithms.compress,Array.isArray(u)&&u.length>0){for(a=d.SUPPORTED_COMPRESS,r=0;r<u.length;++r)if(-1===a.indexOf(u[r]))throw new Error("Unsupported compression algorithm: "+u[r]);o.compress=u}}if(void 0===o.compress&&(e.compress?(o.compress=["zlib@openssh.com","zlib"],"force"!==e.compress&&o.compress.push("none")):!1===e.compress&&(o.compress=["none"])),"string"==typeof e.username)this.config.username=e.username;else{if("string"!=typeof e.user)throw new Error("Invalid username");this.config.username=e.user}this.config.password="string"==typeof e.password?e.password:void 0,this.config.privateKey="string"==typeof e.privateKey||Buffer.isBuffer(e.privateKey)?e.privateKey:void 0,this.config.localHostname="string"==typeof e.localHostname&&e.localHostname.length?e.localHostname:void 0,this.config.localUsername="string"==typeof e.localUsername&&e.localUsername.length?e.localUsername:void 0,this.config.tryKeyboard=!0===e.tryKeyboard,this.config.agent="string"==typeof e.agent&&e.agent.length?e.agent:void 0,this.config.allowAgentFwd=!0===e.agentForward&&void 0!==this.config.agent;var l=this.config.authHandler="function"==typeof e.authHandler?e.authHandler:void 0;this.config.strictVendor="boolean"!=typeof e.strictVendor||e.strictVendor;var p=this.config.debug="function"==typeof e.debug?e.debug:T;if(!0===e.agentForward&&!this.config.allowAgentFwd)throw new Error("You must set a valid agent path to allow agent forwarding");var _,E=this._callbacks=[];if(this._channels={},this._forwarding={},this._forwardingUnix={},this._acceptX11=0,this._agentFwdEnabled=!1,this._curChan=-1,this._remoteVer=void 0,this.config.privateKey){if((_=m(this.config.privateKey,e.passphrase))instanceof Error)throw new Error("Cannot parse privateKey: "+_.message);if(Array.isArray(_)&&(_=_[0]),null===_.getPrivatePEM())throw new Error("privateKey value does not contain a (valid) private key")}var b=this._sshstream=new h({algorithms:o,debug:p===T?void 0:p}),S=this._sock=e.sock||new i;this._sock.stderr&&"function"==typeof this._sock.stderr.resume&&this._sock.stderr.resume();var A,k,R=this.config.keepaliveInterval,O=this.config.keepaliveCountMax,x=0;function P(){if(++x>O){if(clearInterval(A),S.readable){var e=new Error("Keepalive timeout");e.level="client-timeout",t.emit("error",e),S.destroy()}}else S.writable?(E.push(N),b.ping()):clearInterval(A)}function N(){R>0&&(x=0,clearInterval(A),S.writable&&(A=setInterval(P,R)))}if(this._resetKA=N,b.on("USERAUTH_BANNER",(function(e){t.emit("banner",e)})),S.on("connect",(function(){p("DEBUG: Client: Connected"),t.emit("connect"),e.sock||b.pipe(S).pipe(b)})).on("timeout",(function(){t.emit("timeout")})).on("error",(function(e){clearTimeout(t._readyTimeout),e.level="client-socket",t.emit("error",e)})).on("end",(function(){b.unpipe(S),clearTimeout(t._readyTimeout),clearInterval(A),t.emit("end")})).on("close",(function(){b.unpipe(S),clearTimeout(t._readyTimeout),clearInterval(A),t.emit("close");var e=E,n=new Error("No response from server");for(E=t._callbacks=[],r=0;r<e.length;++r)e[r](n);var i=t._channels,s=Object.keys(i);for(t._channels={},r=0;r<s.length;++r){var o,a=b.emit("CHANNEL_OPEN_FAILURE:"+s[r],n),c=b.emit("CHANNEL_CLOSE:"+s[r]);a||c||!(o=i[s[r]])||"function"!=typeof o||o(n)}})),b.on("drain",(function(){t.emit("drain")})).once("header",(function(e){t._remoteVer=e.versions.software,e.greeting&&t.emit("greeting",e.greeting)})).on("continue",(function(){t.emit("continue")})).on("error",(function(e){void 0===e.level?e.level="protocol":"handshake"===e.level&&clearTimeout(t._readyTimeout),t.emit("error",e)})).on("end",(function(){S.resume()})),"function"==typeof e.hostVerifier){if(-1===c.indexOf(e.hostHash))throw new Error("Invalid host hash algorithm: "+e.hostHash);var L=e.hostVerifier,D=n.createHash(e.hostHash);b.once("fingerprint",(function(e,t){D.update(e);var r=L(D.digest("hex"),t);void 0!==r&&t(r)}))}var U,I=null,B=null,M=0,H=["none"];if(void 0!==this.config.password&&H.push("password"),void 0!==_&&H.push("publickey"),void 0!==this.config.agent&&H.push("agent"),this.config.tryKeyboard&&H.push("keyboard-interactive"),void 0!==_&&void 0!==this.config.localHostname&&void 0!==this.config.localUsername&&H.push("hostbased"),void 0===l){var F=0;l=function(e,t,r){return F!==H.length&&H[F++]}}var G=!1;function $(e){if(G=!0,!1===e){b.removeListener("USERAUTH_FAILURE",K),b.removeListener("USERAUTH_PK_OK",Y);var r=new Error("All configured authentication methods failed");return r.level="client-authentication",t.emit("error",r),void(b.writable&&t.end())}if(-1===H.indexOf(e))throw new Error("Authentication method not allowed: "+e);switch(k=e){case"password":b.authPassword(t.config.username,t.config.password);break;case"publickey":b.authPK(t.config.username,_),b.once("USERAUTH_PK_OK",Y);break;case"hostbased":b.authHostbased(t.config.username,_,t.config.localHostname,t.config.localUsername,(function(e,r){var n=_.sign(e);if(n instanceof Error)return n.message="Error while signing data with privateKey: "+n.message,n.level="client-authentication",t.emit("error",n),W();r(n)}));break;case"agent":v(t.config.agent,(function(e,r){return e?(e.level="agent",t.emit("error",e),U=void 0,W()):0===r.length?(p("DEBUG: Agent: No keys stored in agent"),U=void 0,W()):(U=r,M=0,b.authPK(t.config.username,r[0]),void b.once("USERAUTH_PK_OK",Y))}));break;case"keyboard-interactive":b.authKeyboard(t.config.username),b.on("USERAUTH_INFO_REQUEST",q);break;case"none":b.authNone(t.config.username)}}function W(){G=!1;var e=l(B,I,$);G||void 0===e||$(e)}function j(){if("agent"===k){if(M>=U.length)return;++M>=U.length?(p("DEBUG: Agent: No more keys left to try"),p("DEBUG: Client: agent auth failed"),U=void 0,W()):(p("DEBUG: Agent: Trying key #"+(M+1)),b.authPK(t.config.username,U[M]),b.once("USERAUTH_PK_OK",Y))}}function q(e,r,n,i){if(0===(Array.isArray(i)?i.length:0))return p("DEBUG: Client: Sending automatic USERAUTH_INFO_RESPONSE"),b.authInfoRes();t.emit("keyboard-interactive",e,r,n,i,(function(e){b.authInfoRes(e)}))}function Y(){if("agent"===k){var e=U[M],r=w(e,0),n=e.toString("ascii",4,4+r),i=n.slice(4);switch(n){case"ssh-rsa":case"ssh-dss":case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":break;default:if(g&&"ssh-ed25519"===n)break;return p("DEBUG: Agent: Skipping unsupported key type: "+n),j()}b.authPK(t.config.username,e,(function(r,s){v(t.config.agent,e,i,r,(function(e,r){if(e)e.level="agent",t.emit("error",e);else{var i=w(r,0);if(4+i+4<r.length){if(r.toString("ascii",4,4+i)===n)return s(r.slice(4+i+4));(e=new Error("Agent key/signature type mismatch")).level="agent",t.emit("error",e)}}j()}))}))}else"publickey"===k&&b.authPK(t.config.username,_,(function(e,r){var n=_.sign(e);if(n instanceof Error)return n.message="Error while signing data with privateKey: "+n.message,n.level="client-authentication",t.emit("error",n),W();r(n)}))}function K(e,t){if(b.removeListener("USERAUTH_PK_OK",Y),b.removeListener("USERAUTH_INFO_REQUEST",q),"agent"===k)return p("DEBUG: Client: Agent key #"+(M+1)+" failed"),j();p("DEBUG: Client: "+k+" auth failed"),I=t,B=e,W()}if(b.once("USERAUTH_SUCCESS",(function(){b.removeListener("USERAUTH_FAILURE",K),b.removeListener("USERAUTH_INFO_REQUEST",q),N(),clearTimeout(t._readyTimeout),t.emit("ready")})).on("USERAUTH_FAILURE",K),b.once("ready",(function(){b.service("ssh-userauth"),b.once("SERVICE_ACCEPT",(function(e){"ssh-userauth"===e&&W()}))})),b.on("CHANNEL_OPEN",(function(e){!function(e,t){var r,n=!1;function i(){var r={type:t.type,incoming:{id:n,window:y.MAX_WINDOW,packetSize:y.PACKET_SIZE,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}},i=new y(r,e);return e._sshstream.channelOpenConfirm(t.sender,n,y.MAX_WINDOW,y.PACKET_SIZE),i}function s(){void 0===r&&(r=!1===n?f.CHANNEL_OPEN_FAILURE.RESOURCE_SHORTAGE:f.CHANNEL_OPEN_FAILURE.CONNECT_FAILED),e._sshstream.channelOpenFail(t.sender,r,"","")}if("forwarded-tcpip"===t.type||"x11"===t.type||"auth-agent@openssh.com"===t.type||"forwarded-streamlocal@openssh.com"===t.type){var o="forwarded-tcpip"===t.type&&void 0===e._forwarding[t.data.destIP+":"+t.data.destPort]||"forwarded-streamlocal@openssh.com"===t.type&&void 0===e._forwardingUnix[t.data.socketPath]||"x11"===t.type&&0===e._acceptX11||"auth-agent@openssh.com"===t.type&&!e._agentFwdEnabled;o?(r=f.CHANNEL_OPEN_FAILURE.ADMINISTRATIVELY_PROHIBITED,e.config.debug("DEBUG: Client: Automatic rejection of incoming channel open: unexpected channel open for: "+t.type)):!1===(n=C(e))?(e.config.debug("DEBUG: Client: Automatic rejection of incoming channel open: no channels available"),o=!0):e._channels[n]=!0,o&&s(),!1!==n&&("forwarded-tcpip"===t.type?(0===t.data.destPort&&(t.data.destPort=e._forwarding[t.data.destIP+":"+t.data.destPort]),e.emit("tcp connection",t.data,i,s)):"x11"===t.type?e.emit("x11",t.data,i,s):"forwarded-streamlocal@openssh.com"===t.type?e.emit("unix connection",t.data,i,s):v(e.config.agent,i,s))}else e.config.debug("DEBUG: Client: Automatic rejection of incoming channel open: unsupported type: "+t.type),r=f.CHANNEL_OPEN_FAILURE.UNKNOWN_CHANNEL_TYPE,s()}(t,e)})),b.on("REQUEST_SUCCESS",(function(e){E.length&&E.shift()(!1,e)})).on("REQUEST_FAILURE",(function(){E.length&&E.shift()(!0)})),b.on("GLOBAL_REQUEST",(function(e,t,r){t&&b.requestFailure()})),e.sock)Z(),b.pipe(S).pipe(b);else{var Q=this.config.host,V=this.config.forceIPv4,X=this.config.forceIPv6;function z(){Z(),t._sock.connect({host:Q,port:t.config.port,localAddress:t.config.localAddress,localPort:t.config.localPort}),t._sock.setNoDelay(!0),t._sock.setMaxListeners(0),t._sock.setTimeout("number"==typeof e.timeout?e.timeout:0)}p("DEBUG: Client: Trying "+Q+" on port "+this.config.port+" ..."),!V&&!X||V&&X?z():s(Q,V?4:6,(function(e,r,n){if(e){var i=new Error("Error while looking up "+(V?"IPv4":"IPv6")+" address for host "+Q+": "+e);return clearTimeout(t._readyTimeout),i.level="client-dns",t.emit("error",i),void t.emit("close")}Q=r,z()}))}function Z(){t.config.readyTimeout>0&&(t._readyTimeout=setTimeout((function(){var e=new Error("Timed out while waiting for handshake");e.level="client-timeout",t.emit("error",e),S.destroy()}),t.config.readyTimeout))}},A.prototype.end=function(){return!!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable)&&this._sshstream.disconnect()},A.prototype.destroy=function(){this._sock&&this._sock.destroy()},A.prototype.exec=function(e,t,r){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");"function"==typeof t&&(r=t,t={});var n=this;return k(this,"session",{allowHalfOpen:!1!==t.allowHalfOpen},(function(i,s){if(i)return r(i);var o=[];function a(e){if(e)return s.close(),r(e);o.length&&o.shift()()}(!0===n.config.allowAgentFwd||t&&!0===t.agentForward&&void 0!==n.config.agent)&&o.push((function(){x(s,a)})),"object"==typeof t&&null!==t&&("object"==typeof t.env&&null!==t.env&&P(s,t.env),("object"==typeof t.pty&&null!==t.pty||!0===t.pty)&&o.push((function(){O(s,t.pty,a)})),("object"==typeof t.x11&&null!==t.x11||"number"===t.x11||!0===t.x11)&&o.push((function(){R(s,t.x11,a)}))),o.push((function(){!function(e,t,r,n){if("open"!==e.outgoing.state)return n(new Error("Channel is not open")),!0;e._callbacks.push((function(t){if(t)return n(!0!==t?t:new Error("Unable to exec"));e.subtype="exec",e.allowHalfOpen=!1!==r.allowHalfOpen,n(void 0,e)})),e._client._sshstream.exec(e.outgoing.id,t,!0)}(s,e,t,r)})),o.shift()()}))},A.prototype.shell=function(e,t,r){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var n=this;return"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),!e||void 0===e.x11&&void 0===e.env||(t=e,e=void 0),k(this,"session",(function(i,s){if(i)return r(i);var o=[];function a(e){if(e)return s.close(),r(e);o.length&&o.shift()()}(!0===n.config.allowAgentFwd||t&&!0===t.agentForward&&void 0!==n.config.agent)&&o.push((function(){x(s,a)})),!1!==e&&o.push((function(){O(s,e,a)})),"object"==typeof t&&null!==t&&("object"==typeof t.env&&null!==t.env&&P(s,t.env),("object"==typeof t.x11&&null!==t.x11||"number"===t.x11||!0===t.x11)&&o.push((function(){R(s,t.x11,a)}))),o.push((function(){!function(e,t){if("open"!==e.outgoing.state)return t(new Error("Channel is not open")),!0;e._callbacks.push((function(r){if(r)return t(!0!==r?r:new Error("Unable to open shell"));e.subtype="shell",t(void 0,e)})),e._client._sshstream.shell(e.outgoing.id,!0)}(s,r)})),o.shift()()}))},A.prototype.subsys=function(e,t){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");return k(this,"session",(function(r,n){if(r)return t(r);N(n,e,(function(e,r){if(e)return t(e);t(void 0,r)}))}))},A.prototype.sftp=function(e){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var t=this;return k(this,"session",(function(r,n){if(r)return e(r);N(n,"sftp",(function(r,n){if(r)return e(r);var i=t._sshstream._state.incoming.identRaw,s={debug:t.config.debug},o=new l(s,i);function a(t){o.removeListener("ready",c),n.removeListener("exit",u),e(t)}function c(){o.removeListener("error",a),n.removeListener("exit",u),e(void 0,new E(o))}function u(t,r){var n;o.removeListener("ready",c),o.removeListener("error",a),n="number"==typeof t?"Received exit code "+t+" while establishing SFTP session":"Received signal "+r+" while establishing SFTP session";var i=new Error(n);i.code=t,i.signal=r,e(i)}o.once("error",a).once("ready",c).once("close",(function(){n.end()})),n.once("exit",u),o.pipe(n).pipe(o)}))}))},A.prototype.forwardIn=function(e,t,r){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var n=this,i="function"==typeof r;return i&&this._callbacks.push((function(i,s){if(i)return r(!0!==i?i:new Error("Unable to bind to "+e+":"+t));var o=t;0===t&&s&&s.length>=4&&(o=w(s,0),n._sshstream.remoteBugs&p.DYN_RPORT_BUG||(t=o)),n._forwarding[e+":"+t]=o,r(void 0,o)})),this._sshstream.tcpipForward(e,t,i)},A.prototype.unforwardIn=function(e,t,r){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var n=this,i="function"==typeof r;return i&&this._callbacks.push((function(i){if(i)return r(!0!==i?i:new Error("Unable to unbind from "+e+":"+t));delete n._forwarding[e+":"+t],r()})),this._sshstream.cancelTcpipForward(e,t,i)},A.prototype.forwardOut=function(e,t,r,n,i){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");return k(this,"direct-tcpip",{srcIP:e,srcPort:t,dstIP:r,dstPort:n},i)},A.prototype.openssh_noMoreSessions=function(e){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var t="function"==typeof e;return!this.config.strictVendor||this.config.strictVendor&&S.test(this._remoteVer)?(t&&this._callbacks.push((function(t){if(t)return e(!0!==t?t:new Error("Unable to disable future sessions"));e()})),this._sshstream.openssh_noMoreSessions(t)):(t&&process.nextTick((function(){e(new Error("strictVendor enabled and server is not OpenSSH or compatible version"))})),!0)},A.prototype.openssh_forwardInStreamLocal=function(e,t){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var r="function"==typeof t,n=this;return!this.config.strictVendor||this.config.strictVendor&&S.test(this._remoteVer)?(r&&this._callbacks.push((function(r){if(r)return t(!0!==r?r:new Error("Unable to bind to "+e));n._forwardingUnix[e]=!0,t()})),this._sshstream.openssh_streamLocalForward(e,r)):(r&&process.nextTick((function(){t(new Error("strictVendor enabled and server is not OpenSSH or compatible version"))})),!0)},A.prototype.openssh_unforwardInStreamLocal=function(e,t){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var r="function"==typeof t,n=this;return!this.config.strictVendor||this.config.strictVendor&&S.test(this._remoteVer)?(r&&this._callbacks.push((function(r){if(r)return t(!0!==r?r:new Error("Unable to unbind on "+e));delete n._forwardingUnix[e],t()})),this._sshstream.openssh_cancelStreamLocalForward(e,r)):(r&&process.nextTick((function(){t(new Error("strictVendor enabled and server is not OpenSSH or compatible version"))})),!0)},A.prototype.openssh_forwardOutStreamLocal=function(e,t){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");return!this.config.strictVendor||this.config.strictVendor&&S.test(this._remoteVer)?k(this,"direct-streamlocal@openssh.com",{socketPath:e},t):(process.nextTick((function(){t(new Error("strictVendor enabled and server is not OpenSSH or compatible version"))})),!0)};var L=function(){if("function"==typeof n.randomFillSync){var e=Buffer.alloc(16);return function(){return n.randomFillSync(e,0,16),e.toString("hex")}}return function(){return n.randomBytes(16).toString("hex")}}();A.Client=A,A.Server=r(131),A.utils=u.utils,A.SFTP_STATUS_CODE=l.STATUS_CODE,A.SFTP_OPEN_MODE=l.OPEN_MODE,A.HTTPAgent=_.SSHTTPAgent,A.HTTPSAgent=_.SSHTTPSAgent,e.exports=A},function(e,t){e.exports=require("net")},function(e,t,r){e.exports={SFTPStream:r(114),SSH2Stream:r(122),utils:r(11),constants:r(39)}},function(e,t){e.exports={newInvalidAsn1Error:function(e){var t=new Error;return t.name="InvalidAsn1Error",t.message=e||"",t}}},function(e,t){e.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128}},function(e,t,r){var n,i,s,o=function(){var e=r(12);if("function"==typeof e.sign&&"function"==typeof e.verify){var t,n,i="-----BEGIN PRIVATE KEY-----\r\nMC4CAQAwBQYDK2VwBCIEIHKj+sVa9WcD/q2DJUJaf43Kptc8xYuUQA4bOFj9vC8T\r\n-----END PRIVATE KEY-----",s=Buffer.from("a");try{t=e.sign(null,s,i),n=e.verify(null,s,i,t)}catch(e){}return Buffer.isBuffer(t)&&64===t.length&&!0===n}return!1}(),a=t.MESSAGE={DISCONNECT:1,IGNORE:2,UNIMPLEMENTED:3,DEBUG:4,SERVICE_REQUEST:5,SERVICE_ACCEPT:6,KEXINIT:20,NEWKEYS:21,USERAUTH_REQUEST:50,USERAUTH_FAILURE:51,USERAUTH_SUCCESS:52,USERAUTH_BANNER:53,GLOBAL_REQUEST:80,REQUEST_SUCCESS:81,REQUEST_FAILURE:82,CHANNEL_OPEN:90,CHANNEL_OPEN_CONFIRMATION:91,CHANNEL_OPEN_FAILURE:92,CHANNEL_WINDOW_ADJUST:93,CHANNEL_DATA:94,CHANNEL_EXTENDED_DATA:95,CHANNEL_EOF:96,CHANNEL_CLOSE:97,CHANNEL_REQUEST:98,CHANNEL_SUCCESS:99,CHANNEL_FAILURE:100};for(n=0,s=(i=Object.keys(a)).length;n<s;++n)a[a[i[n]]]=i[n];a.KEXDH_INIT=30,a.KEXDH_REPLY=31,a.KEXDH_GEX_REQUEST=34,a.KEXDH_GEX_GROUP=31,a.KEXDH_GEX_INIT=32,a.KEXDH_GEX_REPLY=33,a.KEXECDH_INIT=30,a.KEXECDH_REPLY=31,a.USERAUTH_PASSWD_CHANGEREQ=60,a.USERAUTH_PK_OK=60,a.USERAUTH_INFO_REQUEST=60,a.USERAUTH_INFO_RESPONSE=61;var c=t.DYNAMIC_KEXDH_MESSAGE={};c[a.KEXDH_GEX_GROUP]="KEXDH_GEX_GROUP",c[a.KEXDH_GEX_REPLY]="KEXDH_GEX_REPLY";var u=t.KEXDH_MESSAGE={};u[a.KEXDH_INIT]="KEXDH_INIT",u[a.KEXDH_REPLY]="KEXDH_REPLY";var h=t.DISCONNECT_REASON={HOST_NOT_ALLOWED_TO_CONNECT:1,PROTOCOL_ERROR:2,KEY_EXCHANGE_FAILED:3,RESERVED:4,MAC_ERROR:5,COMPRESSION_ERROR:6,SERVICE_NOT_AVAILABLE:7,PROTOCOL_VERSION_NOT_SUPPORTED:8,HOST_KEY_NOT_VERIFIABLE:9,CONNECTION_LOST:10,BY_APPLICATION:11,TOO_MANY_CONNECTIONS:12,AUTH_CANCELED_BY_USER:13,NO_MORE_AUTH_METHODS_AVAILABLE:14,ILLEGAL_USER_NAME:15};for(n=0,s=(i=Object.keys(h)).length;n<s;++n)h[h[i[n]]]=i[n];var l=t.CHANNEL_OPEN_FAILURE={ADMINISTRATIVELY_PROHIBITED:1,CONNECT_FAILED:2,UNKNOWN_CHANNEL_TYPE:3,RESOURCE_SHORTAGE:4};for(n=0,s=(i=Object.keys(l)).length;n<s;++n)l[l[i[n]]]=i[n];var f=t.TERMINAL_MODE={TTY_OP_END:0,VINTR:1,VQUIT:2,VERASE:3,VKILL:4,VEOF:5,VEOL:6,VEOL2:7,VSTART:8,VSTOP:9,VSUSP:10,VDSUSP:11,VREPRINT:12,VWERASE:13,VLNEXT:14,VFLUSH:15,VSWTCH:16,VSTATUS:17,VDISCARD:18,IGNPAR:30,PARMRK:31,INPCK:32,ISTRIP:33,INLCR:34,IGNCR:35,ICRNL:36,IUCLC:37,IXON:38,IXANY:39,IXOFF:40,IMAXBEL:41,ISIG:50,ICANON:51,XCASE:52,ECHO:53,ECHOE:54,ECHOK:55,ECHONL:56,NOFLSH:57,TOSTOP:58,IEXTEN:59,ECHOCTL:60,ECHOKE:61,PENDIN:62,OPOST:70,OLCUC:71,ONLCR:72,OCRNL:73,ONOCR:74,ONLRET:75,CS7:90,CS8:91,PARENB:92,PARODD:93,TTY_OP_ISPEED:128,TTY_OP_OSPEED:129};for(n=0,s=(i=Object.keys(f)).length;n<s;++n)f[f[i[n]]]=i[n];var p=t.CHANNEL_EXTENDED_DATATYPE={STDERR:1};for(n=0,s=(i=Object.keys(p)).length;n<s;++n)p[p[i[n]]]=i[n];t.SIGNALS=["ABRT","ALRM","FPE","HUP","ILL","INT","QUIT","SEGV","TERM","USR1","USR2","KILL","PIPE"];var d=["ecdh-sha2-nistp256","ecdh-sha2-nistp384","ecdh-sha2-nistp521","diffie-hellman-group-exchange-sha256","diffie-hellman-group14-sha1"],g=["diffie-hellman-group-exchange-sha1","diffie-hellman-group1-sha1"],m=Buffer.from(d.join(","),"ascii");g=d.concat(g);var _=["ssh-rsa","ecdsa-sha2-nistp256","ecdsa-sha2-nistp384","ecdsa-sha2-nistp521"];o&&_.unshift("ssh-ed25519");var y=["ssh-dss"],v=Buffer.from(_.join(","),"ascii");y=_.concat(y);var E=["aes128-ctr","aes192-ctr","aes256-ctr","aes128-gcm","aes128-gcm@openssh.com","aes256-gcm","aes256-gcm@openssh.com"],w=["aes256-cbc","aes192-cbc","aes128-cbc","blowfish-cbc","3des-cbc","arcfour256","arcfour128","cast128-cbc","arcfour"],b=Buffer.from(E.join(","),"ascii");w=E.concat(w);var S=["hmac-sha2-256","hmac-sha2-512","hmac-sha1"],T=["hmac-md5","hmac-sha2-256-96","hmac-sha2-512-96","hmac-ripemd160","hmac-sha1-96","hmac-md5-96"],A=Buffer.from(S.join(","),"ascii");T=S.concat(T);var k=["none","zlib@openssh.com","zlib"],C=[],R=Buffer.from(k.join(","),"ascii");function O(e,t,r,n,i,s){return{blockLen:e,keyLen:t,ivLen:0===r?e:r,authLen:n,discardLen:i,stream:s}}function x(e,t){return{len:e,actualLen:t}}C=k.concat(C),t.CIPHER_INFO={"aes128-gcm":O(16,16,12,16,0,!1),"aes256-gcm":O(16,32,12,16,0,!1),"aes128-gcm@openssh.com":O(16,16,12,16,0,!1),"aes256-gcm@openssh.com":O(16,32,12,16,0,!1),"aes128-cbc":O(16,16,0,0,0,!1),"aes192-cbc":O(16,24,0,0,0,!1),"aes256-cbc":O(16,32,0,0,0,!1),"rijndael-cbc@lysator.liu.se":O(16,32,0,0,0,!1),"3des-cbc":O(8,24,0,0,0,!1),"blowfish-cbc":O(8,16,0,0,0,!1),"idea-cbc":O(8,16,0,0,0,!1),"cast128-cbc":O(8,16,0,0,0,!1),"camellia128-cbc":O(16,16,0,0,0,!1),"camellia192-cbc":O(16,24,0,0,0,!1),"camellia256-cbc":O(16,32,0,0,0,!1),"camellia128-cbc@openssh.com":O(16,16,0,0,0,!1),"camellia192-cbc@openssh.com":O(16,24,0,0,0,!1),"camellia256-cbc@openssh.com":O(16,32,0,0,0,!1),"aes128-ctr":O(16,16,0,0,0,!1),"aes192-ctr":O(16,24,0,0,0,!1),"aes256-ctr":O(16,32,0,0,0,!1),"3des-ctr":O(8,24,0,0,0,!1),"blowfish-ctr":O(8,16,0,0,0,!1),"cast128-ctr":O(8,16,0,0,0,!1),"camellia128-ctr":O(16,16,0,0,0,!1),"camellia192-ctr":O(16,24,0,0,0,!1),"camellia256-ctr":O(16,32,0,0,0,!1),"camellia128-ctr@openssh.com":O(16,16,0,0,0,!1),"camellia192-ctr@openssh.com":O(16,24,0,0,0,!1),"camellia256-ctr@openssh.com":O(16,32,0,0,0,!1),arcfour:O(8,16,0,0,1536,!0),arcfour128:O(8,16,0,0,1536,!0),arcfour256:O(8,32,0,0,1536,!0),arcfour512:O(8,64,0,0,1536,!0)},t.HMAC_INFO={"hmac-md5":x(16,16),"hmac-md5-96":x(16,12),"hmac-ripemd160":x(20,20),"hmac-sha1":x(20,20),"hmac-sha1-96":x(20,12),"hmac-sha2-256":x(32,32),"hmac-sha2-256-96":x(32,12),"hmac-sha2-512":x(64,64),"hmac-sha2-512-96":x(64,12)},t.ALGORITHMS={KEX:d,KEX_BUF:m,SUPPORTED_KEX:g,SERVER_HOST_KEY:_,SERVER_HOST_KEY_BUF:v,SUPPORTED_SERVER_HOST_KEY:y,CIPHER:E,CIPHER_BUF:b,SUPPORTED_CIPHER:w,HMAC:S,HMAC_BUF:A,SUPPORTED_HMAC:T,COMPRESS:k,COMPRESS_BUF:R,SUPPORTED_COMPRESS:C},t.SSH_TO_OPENSSL={"ecdh-sha2-nistp256":"prime256v1","ecdh-sha2-nistp384":"secp384r1","ecdh-sha2-nistp521":"secp521r1","aes128-gcm":"aes-128-gcm","aes256-gcm":"aes-256-gcm","aes128-gcm@openssh.com":"aes-128-gcm","aes256-gcm@openssh.com":"aes-256-gcm","3des-cbc":"des-ede3-cbc","blowfish-cbc":"bf-cbc","aes256-cbc":"aes-256-cbc","aes192-cbc":"aes-192-cbc","aes128-cbc":"aes-128-cbc","idea-cbc":"idea-cbc","cast128-cbc":"cast-cbc","rijndael-cbc@lysator.liu.se":"aes-256-cbc",arcfour128:"rc4",arcfour256:"rc4",arcfour512:"rc4",arcfour:"rc4","camellia128-cbc":"camellia-128-cbc","camellia192-cbc":"camellia-192-cbc","camellia256-cbc":"camellia-256-cbc","camellia128-cbc@openssh.com":"camellia-128-cbc","camellia192-cbc@openssh.com":"camellia-192-cbc","camellia256-cbc@openssh.com":"camellia-256-cbc","3des-ctr":"des-ede3","blowfish-ctr":"bf-ecb","aes256-ctr":"aes-256-ctr","aes192-ctr":"aes-192-ctr","aes128-ctr":"aes-128-ctr","cast128-ctr":"cast5-ecb","camellia128-ctr":"camellia-128-ecb","camellia192-ctr":"camellia-192-ecb","camellia256-ctr":"camellia-256-ecb","camellia128-ctr@openssh.com":"camellia-128-ecb","camellia192-ctr@openssh.com":"camellia-192-ecb","camellia256-ctr@openssh.com":"camellia-256-ecb","hmac-sha1-96":"sha1","hmac-sha1":"sha1","hmac-sha2-256":"sha256","hmac-sha2-256-96":"sha256","hmac-sha2-512":"sha512","hmac-sha2-512-96":"sha512","hmac-md5-96":"md5","hmac-md5":"md5","hmac-ripemd160":"ripemd160"};var P=t.BUGS={BAD_DHGEX:1,OLD_EXIT:2,DYN_RPORT_BUG:4};t.BUGGY_IMPLS=[["Cisco-1.25",P.BAD_DHGEX],[/^[0-9.]+$/,P.OLD_EXIT],[/^OpenSSH_5\.\d+/,P.DYN_RPORT_BUG]],t.EDDSA_SUPPORTED=o},function(e,t,r){"use strict";var n=r(16).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,s){if("function"==typeof r)return e(t,null,r);r||(r={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(s||i);var o=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||h()},u=t._writableState&&t._writableState.finished,h=function(){a=!1,u=!0,o||s.call(t)},l=t._readableState&&t._readableState.endEmitted,f=function(){o=!1,l=!0,a||s.call(t)},p=function(e){s.call(t,e)},d=function(){var e;return o&&!l?(t._readableState&&t._readableState.ended||(e=new n),s.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),s.call(t,e)):void 0},g=function(){t.req.on("finish",h)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",h),t.on("abort",d),t.req?g():t.on("request",g)),t.on("end",f),t.on("finish",h),!1!==r.error&&t.on("error",p),t.on("close",d),function(){t.removeListener("complete",h),t.removeListener("abort",d),t.removeListener("request",g),t.req&&t.req.removeListener("finish",h),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",h),t.removeListener("end",f),t.removeListener("error",p),t.removeListener("close",d)}}},function(e,t,r){const n=r(0),{TRANSFER_TYPES:i,QUEUE_LOG_TYPES:s}=r(5);e.exports=class{constructor(e,t=!0,r=i.PUT,o={}){if(!(e instanceof n.Uri))throw new Error("src must be an instance of vscode.Uri");this.src=e,this.status=!0===t&&t,this.type=r,this.options=o,this.error=t instanceof Error?t:null,this.error?this.logType=s.fail:!1===this.status?this.logType=s.skip:this.logType=s.success}}},function(e,t,r){!function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(r(25))},function(e,t,r){!function(e){"use strict";e.defineLocale("ja",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiemParse:/午前|午後/i,isPM:function(e){return"午後"===e},meridiem:function(e,t,r){return e<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:function(e){return e.week()<this.week()?"[来週]dddd LT":"dddd LT"},lastDay:"[昨日] LT",lastWeek:function(e){return this.week()<e.week()?"[先週]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}日/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",ss:"%d秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}(r(25))},function(e,t,r){
/*!
 * Tmp
 *
 * Copyright (c) 2011-2017 KARASZI Istvan <github@spam.raszi.hu>
 *
 * MIT Licensed
 */
const n=r(3),i=r(26),s=r(1),o=r(12),a=n.constants&&i.constants?{fs:n.constants,os:i.constants}:process.binding("constants"),c=r(89),u="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",h=/XXXXXX/,l=3,f=(a.O_CREAT||a.fs.O_CREAT)|(a.O_EXCL||a.fs.O_EXCL)|(a.O_RDWR||a.fs.O_RDWR),p=a.EBADF||a.os.errno.EBADF,d=a.ENOENT||a.os.errno.ENOENT,g=448,m=384,_="exit",y="SIGINT",v=[];var E=!1;function w(e){var t=[],r=null;try{r=o.randomBytes(e)}catch(t){r=o.pseudoRandomBytes(e)}for(var n=0;n<e;n++)t.push(u[r[n]%u.length]);return t.join("")}function b(e,t){return"function"==typeof e?[{},e]:void 0===e?[{},t]:[e,t]}function S(e){const t=B();if(I(e.dir)&&I(t))throw new Error("No tmp dir specified");if(!I(e.name))return s.join(e.dir||t,e.name);if(e.template){var r=e.template;return s.basename(r)===r&&(r=s.join(e.dir||t,r)),r.replace(h,w(6))}const n=[I(e.prefix)?"tmp-":e.prefix,process.pid,w(12),e.postfix?e.postfix:""].join("");return s.join(e.dir||t,n)}function T(e,t){var r=b(e,t),i=r[0],s=r[1],o=I(i.name)?i.tries||l:1;return isNaN(o)||o<0?s(new Error("Invalid tries")):i.template&&!i.template.match(h)?s(new Error("Invalid template provided")):void function e(){try{const t=S(i);n.stat(t,(function(r){if(!r)return o-- >0?e():s(new Error("Could not get a unique tmp filename, max tries reached "+t));s(null,t)}))}catch(e){s(e)}}()}function A(e){var t=b(e)[0],r=I(t.name)?t.tries||l:1;if(isNaN(r)||r<0)throw new Error("Invalid tries");if(t.template&&!t.template.match(h))throw new Error("Invalid template provided");do{const e=S(t);try{n.statSync(e)}catch(t){return e}}while(r-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function k(e,t){const r=function(e){if(e&&!D(e))return t(e);t()};0<=e[0]?n.close(e[0],(function(t){n.unlink(e[1],r)})):n.unlink(e[1],r)}function C(e){try{0<=e[0]&&n.closeSync(e[0])}catch(e){if(!U(e,-p,"EBADF")&&!D(e))throw e}finally{try{n.unlinkSync(e[1])}catch(e){if(!D(e))throw e}}}function R(e,t,r){const n=N(C,[t,e]),i=N(k,[t,e],n);return r.keep||v.unshift(n),i}function O(e,t){c(e,t)}function x(e,t){try{return t(null,c.sync(e))}catch(e){return t(e)}}function P(e,t){const r=t.unsafeCleanup?O:n.rmdir.bind(n),i=N(t.unsafeCleanup?x:n.rmdirSync.bind(n),e),s=N(r,e,i);return t.keep||v.unshift(i),s}function N(e,t,r){var n=!1;return function i(s){if(s=s||function(){},n)return s(new Error("cleanup callback has already been called"));{const o=r||i,a=v.indexOf(o);if(a>=0&&v.splice(a,1),n=!0,1!==e.length)return e(t,s);try{return e(t),s(null)}catch(e){return s(e)}}}}function L(){if(E)for(;v.length;)try{v[0]()}catch(e){}}function D(e){return U(e,-d,"ENOENT")}function U(e,t,r){return e.code===t||e.code===r}function I(e){return null==e||!e.trim()}function B(){return i.tmpdir()}!function(){const e=process.listeners(_),t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];("_tmp$safe_listener"===i.name||("_exit"===(r=i).name||"_uncaughtExceptionThrown"===r.name)&&r.toString().indexOf("_garbageCollector();")>-1)&&("_uncaughtExceptionThrown"!==i.name&&t.push(i),process.removeListener(_,i))}var r;process.addListener(_,(function(e){for(let r=0,n=t.length;r<n;r++)try{t[r](e)}catch(e){}L()}))}(),function(){const e=process.listeners(y),t=[];for(let r=0,n=e.length;r<n;r++){const n=e[r];"_tmp$sigint_listener"===n.name&&(t.push(n),process.removeListener(y,n))}process.on(y,(function(e){for(let e=0,r=t.length;e<r;e++)try{t[e](!1)}catch(e){}try{L()}finally{e&&process.exit(0)}}))}(),Object.defineProperty(e.exports,"tmpdir",{enumerable:!0,configurable:!1,get:function(){return B()}}),e.exports.dir=function(e,t){var r=b(e,t),i=r[0],s=r[1];T(i,(function(e,t){if(e)return s(e);n.mkdir(t,i.mode||g,(function(e){if(e)return s(e);s(null,t,P(t,i))}))}))},e.exports.dirSync=function(e){var t=b(e)[0];const r=A(t);return n.mkdirSync(r,t.mode||g),{name:r,removeCallback:P(r,t)}},e.exports.file=function(e,t){var r=b(e,t),i=r[0],s=r[1];T(i,(function(e,t){if(e)return s(e);n.open(t,f,i.mode||m,(function(e,r){return e?s(e):i.discardDescriptor?n.close(r,(function(e){if(e){try{n.unlinkSync(t)}catch(t){D(t)||(e=t)}return s(e)}s(null,t,void 0,R(t,-1,i))})):i.detachDescriptor?s(null,t,r,R(t,-1,i)):void s(null,t,r,R(t,r,i))}))}))},e.exports.fileSync=function(e){var t=b(e)[0];const r=t.discardDescriptor||t.detachDescriptor,i=A(t);var s=n.openSync(i,f,t.mode||m);return t.discardDescriptor&&(n.closeSync(s),s=void 0),{name:i,fd:s,removeCallback:R(i,r?-1:s,t)}},e.exports.tmpName=T,e.exports.tmpNameSync=A,e.exports.setGracefulCleanup=function(){E=!0}},function(e,t,r){e.exports=h,h.realpath=h,h.sync=l,h.realpathSync=l,h.monkeypatch=function(){n.realpath=h,n.realpathSync=l},h.unmonkeypatch=function(){n.realpath=i,n.realpathSync=s};var n=r(3),i=n.realpath,s=n.realpathSync,o=process.version,a=/^v[0-5]\./.test(o),c=r(90);function u(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function h(e,t,r){if(a)return i(e,t,r);"function"==typeof t&&(r=t,t=null),i(e,t,(function(n,i){u(n)?c.realpath(e,t,r):r(n,i)}))}function l(e,t){if(a)return s(e,t);try{return s(e,t)}catch(r){if(u(r))return c.realpathSync(e,t);throw r}}},function(e,t,r){function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=u,t.alphasorti=c,t.setopts=function(e,t,r){r||(r={});if(r.matchBase&&-1===t.indexOf("/")){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=!1!==r.strict,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0);e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.maxLength=r.maxLength||1/0,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(h))}(e,r),e.changedCwd=!1;var s=process.cwd();n(r,"cwd")?(e.cwd=i.resolve(r.cwd),e.changedCwd=e.cwd!==s):e.cwd=s;e.root=r.root||i.resolve(e.cwd,"/"),e.root=i.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/"));e.cwdAbs=o(e.cwd)?e.cwd:l(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/"));e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,e.minimatch=new a(t,r),e.options=e.minimatch.options},t.ownProp=n,t.makeAbs=l,t.finish=function(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,i=e.matches.length;n<i;n++){var s=e.matches[n];if(s&&0!==Object.keys(s).length){var o=Object.keys(s);t?r.push.apply(r,o):o.forEach((function(e){r[e]=!0}))}else if(e.nonull){var a=e.minimatch.globSet[n];t?r.push(a):r[a]=!0}}t||(r=Object.keys(r));e.nosort||(r=r.sort(e.nocase?c:u));if(e.mark){for(n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter((function(t){var r=!/\/$/.test(t),n=e.cache[t]||e.cache[l(e,t)];return r&&n&&(r="DIR"!==n&&!Array.isArray(n)),r})))}e.ignore.length&&(r=r.filter((function(t){return!f(e,t)})));e.found=r},t.mark=function(e,t){var r=l(e,t),n=e.cache[r],i=t;if(n){var s="DIR"===n||Array.isArray(n),o="/"===t.slice(-1);if(s&&!o?i+="/":!s&&o&&(i=i.slice(0,-1)),i!==t){var a=l(e,i);e.statCache[a]=e.statCache[r],e.cache[a]=e.cache[r]}}return i},t.isIgnored=f,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))};var i=r(1),s=r(28),o=r(29),a=s.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function u(e,t){return e.localeCompare(t)}function h(e){var t=null;if("/**"===e.slice(-3)){var r=e.replace(/(\/\*\*)+$/,"");t=new a(r,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function l(e,t){var r=t;return r="/"===t.charAt(0)?i.join(e.root,t):o(t)||""===t?t:e.changedCwd?i.resolve(e.cwd,t):i.resolve(t),"win32"===process.platform&&(r=r.replace(/\\/g,"/")),r}function f(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}},function(e,t){e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach((function(e){n[e]=i[e]})),n}}},function(e,t,r){var n=r(47);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function s(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(i),e.exports.strict=n(s),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return s(this)},configurable:!0})}))},function(e,t,r){"use strict";
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const n=r(2),i=r(101),s=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),o=e=>"number"==typeof e||"string"==typeof e&&""!==e,a=e=>Number.isInteger(+e),c=e=>{let t=`${e}`,r=-1;if("-"===t[0]&&(t=t.slice(1)),"0"===t)return!1;for(;"0"===t[++r];);return r>0},u=(e,t,r)=>{if(t>0){let r="-"===e[0]?"-":"";r&&(e=e.slice(1)),e=r+e.padStart(r?t-1:t,"0")}return!1===r?String(e):e},h=(e,t)=>{let r="-"===e[0]?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},l=(e,t,r,n)=>{if(r)return i(e,t,{wrap:!1,...n});let s=String.fromCharCode(e);return e===t?s:`[${s}-${String.fromCharCode(t)}]`},f=(e,t,r)=>{if(Array.isArray(e)){let t=!0===r.wrap,n=r.capture?"":"?:";return t?`(${n}${e.join("|")})`:e.join("|")}return i(e,t,r)},p=(...e)=>new RangeError("Invalid range arguments: "+n.inspect(...e)),d=(e,t,r)=>{if(!0===r.strictRanges)throw p([e,t]);return[]},g=(e,t,r=1,n={})=>{let i=Number(e),s=Number(t);if(!Number.isInteger(i)||!Number.isInteger(s)){if(!0===n.strictRanges)throw p([e,t]);return[]}0===i&&(i=0),0===s&&(s=0);let o=i>s,a=String(e),d=String(t),g=String(r);r=Math.max(Math.abs(r),1);let m=c(a)||c(d)||c(g),_=m?Math.max(a.length,d.length,g.length):0,y=!1===m&&!1===((e,t,r)=>"string"==typeof e||"string"==typeof t||!0===r.stringify)(e,t,n),v=n.transform||(e=>t=>!0===e?Number(t):String(t))(y);if(n.toRegex&&1===r)return l(h(e,_),h(t,_),!0,n);let E={negatives:[],positives:[]},w=e=>E[e<0?"negatives":"positives"].push(Math.abs(e)),b=[],S=0;for(;o?i>=s:i<=s;)!0===n.toRegex&&r>1?w(i):b.push(u(v(i,S),_,y)),i=o?i-r:i+r,S++;return!0===n.toRegex?r>1?((e,t)=>{e.negatives.sort((e,t)=>e<t?-1:e>t?1:0),e.positives.sort((e,t)=>e<t?-1:e>t?1:0);let r,n=t.capture?"":"?:",i="",s="";return e.positives.length&&(i=e.positives.join("|")),e.negatives.length&&(s=`-(${n}${e.negatives.join("|")})`),r=i&&s?`${i}|${s}`:i||s,t.wrap?`(${n}${r})`:r})(E,n):f(b,null,{wrap:!1,...n}):b},m=(e,t,r,n={})=>{if(null==t&&o(e))return[e];if(!o(e)||!o(t))return d(e,t,n);if("function"==typeof r)return m(e,t,1,{transform:r});if(s(r))return m(e,t,0,r);let i={...n};return!0===i.capture&&(i.wrap=!0),r=r||i.step||1,a(r)?a(e)&&a(t)?g(e,t,r,i):((e,t,r=1,n={})=>{if(!a(e)&&e.length>1||!a(t)&&t.length>1)return d(e,t,n);let i=n.transform||(e=>String.fromCharCode(e)),s=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),c=s>o,u=Math.min(s,o),h=Math.max(s,o);if(n.toRegex&&1===r)return l(u,h,!1,n);let p=[],g=0;for(;c?s>=o:s<=o;)p.push(i(s,g)),s=c?s-r:s+r,g++;return!0===n.toRegex?f(p,null,{wrap:!1,options:n}):p})(e,t,Math.max(Math.abs(r),1),i):null==r||s(r)?m(e,t,1,r):((e,t)=>{if(!0===t.strictRanges)throw new TypeError(`Expected step "${e}" to be a number`);return[]})(r,i)};e.exports=m},function(e,t){e.exports=class{constructor({read:e,write:t},r,n){this.read=e,this.write=t,this.fileData=r,this.file=n}}},function(e,t,r){const n=r(1),i=r(110),s=r(52),o=r(6);e.exports=class{constructor(e){this.id=e,this.cache={}}createDir(e){this.cache[e]=new i}addFilePath(e,t=0,r="f",i=null){const a=n.dirname(e);o.trace(`Cache#addFilePath(${this.id})`,`Caching file ${e}`),this.cache[a]||(o.trace(`Cache#addFilePath(${this.id})`,`Creating dir ${a}`),this.createDir(a)),this.cache[a].push(new s(e,t,r,i))}dirIsCached(e){const t=!!this.cache[e];return o.trace(`Cache#dirIsCached(${this.id})`,`Dir "${e}" is ${t?"cached":"not cached"}`),t}fileIsCached(e){const t=n.dirname(e);return!(!this.dirIsCached(t)||-1===this.cache[t].indexOf(e))}getDir(e,t=null){return e?this.cache[e]?null!==t?this.cache[e].filter(e=>e.type===t):this.cache[e].list||null:null:this.cache}getRecursiveFiles(e){let t,r,n=[],i=new RegExp("^"+e+"($|\\/)");if(this.cache&&e){for(t=Object.keys(this.cache),r=0;r<t.length;r+=1)t[r].match(i)&&(n=n.concat(this.getDir(t[r],"f")));return n}return null}getFileByPath(e){const t=n.dirname(e);return this.cache&&this.cache[t]?this.cache[t].getByPath(e):null}clear(e){return new Promise(t=>void 0===e?(o.trace(`Cache#clear(${this.id})`,"Clearing all caches"),this.cache={},t()):(this.cache[e]&&(o.trace(`Cache#clear(${this.id})`,`Clearing caches for "${e}"`),this.cache[e]=null,delete this.cache[e]),t()))}}},function(e,t,r){const n=r(1);e.exports=class{constructor(e,t,r="f",i){this.name=n.basename(e),this.pathName=e,this.modified=t,this.type=r,this.meta=i}}},function(e,t,r){var n=r(115);e.exports={Ber:n,BerReader:n.Reader,BerWriter:n.Writer}},function(e,t,r){var n,i=r(12),s=i.sign,o=i.verify,a=i.createSign,c=i.createVerify,u=i.createDecipheriv,h=i.createHash,l=i.createHmac,f=i.getCiphers(),p=r(53).Ber,d=r(118).pbkdf,g=r(15),m=g.readUInt32BE,_=g.writeUInt32BE,y=r(39),v=y.ALGORITHMS.SUPPORTED_CIPHER,E=y.CIPHER_INFO,w=y.SSH_TO_OPENSSL,b=y.EDDSA_SUPPORTED,S=Symbol("Hash Algorithm"),T=Symbol("Private key PEM"),A=Symbol("Public key PEM"),k=Symbol("Public key SSH"),C=Symbol("Decrypted Key"),R=Object.create(null);!function(){for(var e=Object.keys(E),t=0;t<e.length;++t){var r=w[e[t]];r&&!R[r]&&(R[r]=E[e[t]])}}();var O="function"==typeof String.prototype.trimStart?function(e){return e.trimStart()}:function(e){for(var t=0,r=0;r<e.length;++r){switch(e.charCodeAt(r)){case 32:case 9:case 13:case 10:case 12:++t;continue}break}return 0===t?e:e.slice(t)};function x(e,t){return"-----BEGIN "+e+" KEY-----\n"+(t=t.toString("base64")).replace(/.{64}/g,"$&\n")+(t.length%64?"\n":"")+"-----END "+e+" KEY-----"}function P(e,t){var r=Buffer.allocUnsafe(e.length+t.length);return e.copy(r,0),t.copy(r,e.length),r}function N(e,t){for(var r=e.length,n=e._pos||0,i=0;i<t;++i){var s=r-n;if(n>=r||s<4)return!1;var o=m(e,n);if(s<4+o)return!1;n+=4+o}return e._pos=n,!0}function L(e,t){var r=new p.Writer;return r.startSequence(),r.startSequence(),r.writeOID("1.2.840.113549.1.1.1"),r.writeNull(),r.endSequence(),r.startSequence(p.BitString),r.writeByte(0),r.startSequence(),r.writeBuffer(e,p.Integer),r.writeBuffer(t,p.Integer),r.endSequence(),r.endSequence(),r.endSequence(),x("PUBLIC",r.buffer)}function D(e,t){var r=Buffer.allocUnsafe(15+e.length+4+t.length);_(r,7,0),r.write("ssh-rsa",4,7,"ascii");var n=11;return _(r,t.length,n),t.copy(r,n+=4),_(r,e.length,n+=t.length),e.copy(r,n+4),r}var U=function(){function e(e,t,r,n,i,s,o,a){var c=new p.Writer;return c.startSequence(),c.writeInt(0,p.Integer),c.writeBuffer(e,p.Integer),c.writeBuffer(t,p.Integer),c.writeBuffer(r,p.Integer),c.writeBuffer(n,p.Integer),c.writeBuffer(i,p.Integer),c.writeBuffer(s,p.Integer),c.writeBuffer(o,p.Integer),c.writeBuffer(a,p.Integer),c.endSequence(),c.buffer}try{var t=["return function genOpenSSLRSAPriv(n, e, d, iqmp, p, q) {","  var bn_d = bigIntFromBuffer(d);","  var dmp1 = bigIntToBuffer(bn_d % (bigIntFromBuffer(p) - 1n));","  var dmq1 = bigIntToBuffer(bn_d % (bigIntFromBuffer(q) - 1n));","  return makePEM('RSA PRIVATE', genRSAASN1Buf(n, e, d, p, q, dmp1, dmq1, iqmp));","};"].join("\n");return new Function("bigIntFromBuffer, bigIntToBuffer, makePEM, genRSAASN1Buf",t)((function(e){return BigInt("0x"+e.toString("hex"))}),(function(e){var t=e.toString(16);if(0!=(1&t.length))t="0"+t;else{var r=t.charCodeAt(0);(56===r||r>=97&&r<=102)&&(t="00"+t)}return Buffer.from(t,"hex")}),x,e)}catch(t){return n=r(120),function(t,r,i,s,o,a){var c=new n(o,256),u=new n(a,256),h=new n(i,256),l=h.mod(c.subtract(n.ONE)),f=h.mod(u.subtract(n.ONE));return x("RSA PRIVATE",e(t,r,i,o,a,Buffer.from(l.toByteArray()),Buffer.from(f.toByteArray()),s))}}var n}();function I(e,t,r,n){var i=new p.Writer;return i.startSequence(),i.startSequence(),i.writeOID("1.2.840.10040.4.1"),i.startSequence(),i.writeBuffer(e,p.Integer),i.writeBuffer(t,p.Integer),i.writeBuffer(r,p.Integer),i.endSequence(),i.endSequence(),i.startSequence(p.BitString),i.writeByte(0),i.writeBuffer(n,p.Integer),i.endSequence(),i.endSequence(),x("PUBLIC",i.buffer)}function B(e,t,r,n){var i=Buffer.allocUnsafe(15+e.length+4+t.length+4+r.length+4+n.length);_(i,7,0),i.write("ssh-dss",4,7,"ascii");var s=11;return _(i,e.length,s),e.copy(i,s+=4),_(i,t.length,s+=e.length),t.copy(i,s+=4),_(i,r.length,s+=t.length),r.copy(i,s+=4),_(i,n.length,s+=r.length),n.copy(i,s+4),i}function M(e,t,r,n,i){var s=new p.Writer;return s.startSequence(),s.writeInt(0,p.Integer),s.writeBuffer(e,p.Integer),s.writeBuffer(t,p.Integer),s.writeBuffer(r,p.Integer),s.writeBuffer(n,p.Integer),s.writeBuffer(i,p.Integer),s.endSequence(),x("DSA PRIVATE",s.buffer)}function H(e){var t=new p.Writer;return t.startSequence(),t.startSequence(),t.writeOID("1.3.101.112"),t.endSequence(),t.startSequence(p.BitString),t.writeByte(0),t._ensure(e.length),e.copy(t._buf,t._offset,0,e.length),t._offset+=e.length,t.endSequence(),t.endSequence(),x("PUBLIC",t.buffer)}function F(e){var t=Buffer.allocUnsafe(19+e.length);return _(t,11,0),t.write("ssh-ed25519",4,11,"ascii"),_(t,e.length,15),e.copy(t,19),t}function G(e,t){var r=new p.Writer;return r.startSequence(),r.startSequence(),r.writeOID("1.2.840.10045.2.1"),r.writeOID(e),r.endSequence(),r.startSequence(p.BitString),r.writeByte(0),r._ensure(t.length),t.copy(r._buf,r._offset,0,t.length),r._offset+=t.length,r.endSequence(),r.endSequence(),x("PUBLIC",r.buffer)}function $(e,t){var r;switch(e){case"1.2.840.10045.3.1.7":r="nistp256";break;case"1.3.132.0.34":r="nistp384";break;case"1.3.132.0.35":r="nistp521";break;default:return}var n=Buffer.allocUnsafe(39+t.length);return _(n,19,0),n.write("ecdsa-sha2-"+r,4,19,"ascii"),_(n,8,23),n.write(r,27,8,"ascii"),_(n,t.length,35),t.copy(n,39),n}function W(e,t,r){var n=new p.Writer;return n.startSequence(),n.writeInt(1,p.Integer),n.writeBuffer(r,p.OctetString),n.startSequence(160),n.writeOID(e),n.endSequence(),n.startSequence(161),n.startSequence(p.BitString),n.writeByte(0),n._ensure(t.length),t.copy(n._buf,n._offset,0,t.length),n._offset+=t.length,n.endSequence(),n.endSequence(),n.endSequence(),x("EC PRIVATE",n.buffer)}var j,q={sign:function(){if("function"==typeof s)return function(e){var t=this[T];if(null===t)return new Error("No private key available");try{return s(this[S],e,t)}catch(e){return e}};return function(e){var t=this[T];if(null===t)return new Error("No private key available");var r=a(this[S]);return r.update(e),function(e,t){try{return e.sign(t)}catch(e){return e}}(r,t)}}(),verify:function(){if("function"==typeof o)return function(e,t){var r=this[A];if(null===r)return new Error("No public key available");try{return o(this[S],e,r,t)}catch(e){return e}};return function(e,t){var r=this[A];if(null===r)return new Error("No public key available");var n=c(this[S]);return n.update(e),function(e,t,r){try{return e.verify(t,r)}catch(e){return e}}(n,r,t)}}(),getPrivatePEM:function(){return this[T]},getPublicPEM:function(){return this[A]},getPublicSSH:function(){return this[k]}};function Y(e,t,r,n,i,s,o){this.type=e,this.comment=t,this[T]=r,this[A]=n,this[k]=i,this[S]=s,this[C]=o}function K(e,t,r,n,i,s,o){this.type=e,this.comment=t,this[T]=r,this[A]=n,this[k]=i,this[S]=s,this[C]=o}function Q(e,t,r,n,i,s,o){this.type=e,this.comment=t,this[T]=r,this[A]=n,this[k]=i,this[S]=s,this[C]=o}function V(e,t,i,s){var o;n||(n=r(11));var a=null,c=null;switch(t){case"ssh-rsa":var u=n.readString(e,e._pos);if(!1===u)return new Error("Malformed OpenSSH public key");var h=n.readString(e,e._pos);if(!1===h)return new Error("Malformed OpenSSH public key");a=L(h,u),c=D(h,u),o="sha1";break;case"ssh-dss":var l=n.readString(e,e._pos);if(!1===l)return new Error("Malformed OpenSSH public key");var f=n.readString(e,e._pos);if(!1===f)return new Error("Malformed OpenSSH public key");var p=n.readString(e,e._pos);if(!1===p)return new Error("Malformed OpenSSH public key");var d=n.readString(e,e._pos);if(!1===d)return new Error("Malformed OpenSSH public key");a=I(l,f,p,d),c=B(l,f,p,d),o="sha1";break;case"ssh-ed25519":var g=n.readString(e,e._pos);if(!1===g||32!==g.length)return new Error("Malformed OpenSSH public key");a=H(g),c=F(g),o=null;break;case"ecdsa-sha2-nistp256":o="sha256",oid="1.2.840.10045.3.1.7";case"ecdsa-sha2-nistp384":void 0===o&&(o="sha384",oid="1.3.132.0.34");case"ecdsa-sha2-nistp521":if(void 0===o&&(o="sha512",oid="1.3.132.0.35"),!N(e,1))return new Error("Malformed OpenSSH public key");var m=n.readString(e,e._pos);if(!1===m)return new Error("Malformed OpenSSH public key");a=G(oid,m),c=$(oid,m);break;default:return new Error("Unsupported OpenSSH public key type: "+t)}return new X(s,i,a,c,o)}function X(e,t,r,n,i){this.type=e,this.comment=t,this[T]=null,this[A]=r,this[k]=n,this[S]=i,this[C]=!1}function z(e,t,r,n,i){this.type=e,this.comment=t,this[T]=null,this[A]=r,this[k]=n,this[S]=i,this[C]=!1}Y.prototype=q,j=/^-----BEGIN OPENSSH PRIVATE KEY-----(?:\r\n|\n)([\s\S]+)(?:\r\n|\n)-----END OPENSSH PRIVATE KEY-----$/,Y.parse=function(e,t){var i,s=j.exec(e);if(null===s)return null;var o=Buffer.from(s[1],"base64");if(o.length<31)return new Error("Malformed OpenSSH private key");var a=o.toString("ascii",0,15);if("openssh-key-v1\0"!==a)return new Error("Unsupported OpenSSH key magic: "+a);n||(n=r(11));var c=n.readString(o,15,"ascii");if(!1===c)return new Error("Malformed OpenSSH private key");if("none"!==c&&-1===v.indexOf(c))return new Error("Unsupported cipher for OpenSSH key: "+c);var h,l,f,g=n.readString(o,o._pos,"ascii");if(!1===g)return new Error("Malformed OpenSSH private key");if("none"!==g){if("none"===c)return new Error("Malformed OpenSSH private key");if("bcrypt"!==g)return new Error("Unsupported kdf name for OpenSSH key: "+g);if(!t)return new Error("Encrypted private OpenSSH key detected, but no passphrase given")}else if("none"!==c)return new Error("Malformed OpenSSH private key");"none"!==c&&(h=E[c]);var _=n.readString(o,o._pos);if(!1===_)return new Error("Malformed OpenSSH private key");if(_.length)switch(g){case"none":return new Error("Malformed OpenSSH private key");case"bcrypt":var y=n.readString(_,0);if(!1===y||_._pos+4>_.length)return new Error("Malformed OpenSSH private key");var S=m(_,_._pos),T=Buffer.allocUnsafe(h.keyLen+h.ivLen);if(0!==d(t,t.length,y,y.length,T,T.length,S))return new Error("Failed to generate information to decrypt key");l=T.slice(0,h.keyLen),f=T.slice(h.keyLen)}else if("none"!==g)return new Error("Malformed OpenSSH private key");var A=n.readInt(o,o._pos);if(!1===A)return new Error("Malformed OpenSSH private key");if(o._pos+=4,A>0){for(var k=0;k<A;++k){var C=n.readString(o,o._pos);if(!1===C)return new Error("Malformed OpenSSH private key");if(!1===n.readString(C,0,"ascii"))return new Error("Malformed OpenSSH private key")}var R=n.readString(o,o._pos);if(!1===R)return new Error("Malformed OpenSSH private key");if(void 0!==l){if(R.length<h.blockLen||R.length%h.blockLen!=0)return new Error("Malformed OpenSSH private key");try{var O={authTagLength:h.authLen},q=u(w[c],l,f,O);if(h.authLen>0){if(o.length-o._pos<h.authLen)return new Error("Malformed OpenSSH private key");q.setAuthTag(o.slice(o._pos,o._pos+=h.authLen))}R=P(q.update(R),q.final())}catch(e){return e}}if(o._pos!==o.length)return new Error("Malformed OpenSSH private key");i=function(e,t,r){var i=[];if(e.length<8)return new Error("Malformed OpenSSH private key");var s,o,a,c,u=m(e,0),h=m(e,4);if(u!==h)return r?new Error("OpenSSH key integrity check failed -- bad passphrase?"):new Error("OpenSSH key integrity check failed");for(e._pos=8,s=0;s<t;++s){var l=void 0,f=void 0,d=void 0,g=void 0,_=n.readString(e,e._pos,"ascii");if(!1===_)return new Error("Malformed OpenSSH private key");switch(_){case"ssh-rsa":var y=n.readString(e,e._pos);if(!1===y)return new Error("Malformed OpenSSH private key");var v=n.readString(e,e._pos);if(!1===v)return new Error("Malformed OpenSSH private key");var E=n.readString(e,e._pos);if(!1===E)return new Error("Malformed OpenSSH private key");var w=n.readString(e,e._pos);if(!1===w)return new Error("Malformed OpenSSH private key");if(!1===(S=n.readString(e,e._pos)))return new Error("Malformed OpenSSH private key");if(!1===(T=n.readString(e,e._pos)))return new Error("Malformed OpenSSH private key");d=L(y,v),g=D(y,v),f=U(y,v,E,w,S,T),l="sha1";break;case"ssh-dss":var S,T;if(!1===(S=n.readString(e,e._pos)))return new Error("Malformed OpenSSH private key");if(!1===(T=n.readString(e,e._pos)))return new Error("Malformed OpenSSH private key");var A=n.readString(e,e._pos);if(!1===A)return new Error("Malformed OpenSSH private key");var k=n.readString(e,e._pos);if(!1===k)return new Error("Malformed OpenSSH private key");var C=n.readString(e,e._pos);if(!1===C)return new Error("Malformed OpenSSH private key");d=I(S,T,A,k),g=B(S,T,A,k),f=M(S,T,A,k,C),l="sha1";break;case"ssh-ed25519":if(!b)return new Error("Unsupported OpenSSH private key type: "+_);var R=n.readString(e,e._pos);if(!1===R||32!==R.length)return new Error("Malformed OpenSSH private key");var O=n.readString(e,e._pos);if(!1===O||64!==O.length)return new Error("Malformed OpenSSH private key");d=H(R),g=F(R),a=O.slice(0,32),c=void 0,(c=new p.Writer).startSequence(),c.writeInt(0,p.Integer),c.startSequence(),c.writeOID("1.3.101.112"),c.endSequence(),c.startSequence(p.OctetString),c.writeBuffer(a,p.OctetString),c.endSequence(),c.endSequence(),f=x("PRIVATE",c.buffer),l=null;break;case"ecdsa-sha2-nistp256":l="sha256",o="1.2.840.10045.3.1.7";case"ecdsa-sha2-nistp384":void 0===l&&(l="sha384",o="1.3.132.0.34");case"ecdsa-sha2-nistp521":if(void 0===l&&(l="sha512",o="1.3.132.0.35"),!N(e,1))return new Error("Malformed OpenSSH private key");var P=n.readString(e,e._pos);if(!1===P)return new Error("Malformed OpenSSH private key");var j=n.readString(e,e._pos);if(!1===j)return new Error("Malformed OpenSSH private key");d=G(o,P),g=$(o,P),f=W(o,P,j);break;default:return new Error("Unsupported OpenSSH private key type: "+_)}var q=n.readString(e,e._pos,"utf8");if(!1===q)return new Error("Malformed OpenSSH private key");i.push(new Y(_,q,f,d,g,l,r))}var K=0;for(s=e._pos;s<e.length;++s)if(e[s]!==++K%255)return new Error("Malformed OpenSSH private key");return i}(R,A,void 0!==l)}else i=[];return i},K.prototype=q,function(){var e=/^-----BEGIN (RSA|DSA|EC) PRIVATE KEY-----(?:\r\n|\n)((?:[^:]+:\s*[\S].*(?:\r\n|\n))*)([\s\S]+)(?:\r\n|\n)-----END (RSA|DSA|EC) PRIVATE KEY-----$/;K.parse=function(t,r){var n=e.exec(t);if(null===n)return null;var s,o,a,c,l,d,g=Buffer.from(n[3],"base64"),m=n[2],_=!1;if(void 0!==m){m=m.split(/\r\n|\n/g);for(var y=0;y<m.length;++y){var v=m[y],E=v.indexOf(":");if("DEK-Info"===v.slice(0,E)){var w=v.slice(E+2);if(-1===(E=w.indexOf(",")))continue;var b=w.slice(0,E).toLowerCase();if(-1===f.indexOf(b))return new Error("Cipher ("+b+") not supported for encrypted OpenSSH private key");var S=R[b];if(!S)return new Error("Cipher ("+b+") not supported for encrypted OpenSSH private key");var T=Buffer.from(w.slice(E+1),"hex");if(T.length!==S.ivLen)return new Error("Malformed encrypted OpenSSH private key");if(!r)return new Error("Encrypted OpenSSH private key detected, but no passphrase given");for(var A=h("md5").update(r).update(T.slice(0,8)).digest();A.length<S.keyLen;)A=P(A,h("md5").update(A).update(r).update(T).digest().slice(0,8));A.length>S.keyLen&&(A=A.slice(0,S.keyLen));try{var k=u(b,A,T);k.setAutoPadding(!1),g=P(k.update(g),k.final()),_=!0}catch(e){return e}}}}var C,O,N,U="Malformed OpenSSH private key";switch(_&&(U+=". Bad passphrase?"),n[1]){case"RSA":s="ssh-rsa",o=x("RSA PRIVATE",g);try{(d=new p.Reader(g)).readSequence(),d.readInt();var M=d.readString(p.Integer,!0);if(null===M)return new Error(U);var H=d.readString(p.Integer,!0);if(null===H)return new Error(U);a=L(M,H),c=D(M,H)}catch(e){return new Error(U)}l="sha1";break;case"DSA":s="ssh-dss",o=x("DSA PRIVATE",g);try{(d=new p.Reader(g)).readSequence(),d.readInt();var F=d.readString(p.Integer,!0);if(null===F)return new Error(U);var W=d.readString(p.Integer,!0);if(null===W)return new Error(U);var j=d.readString(p.Integer,!0);if(null===j)return new Error(U);var q=d.readString(p.Integer,!0);if(null===q)return new Error(U);a=I(F,W,j,q),c=B(F,W,j,q)}catch(e){return new Error(U)}l="sha1";break;case"EC":var Y,Q;try{(d=new p.Reader(g)).readSequence(),d.readInt(),Q=d.readString(p.OctetString,!0),d.readByte();var V=d.readLength();if(null===V)return new Error(U);d._offset=V;var X=d.readOID();if(null===X)return new Error(U);switch(X){case"1.2.840.10045.3.1.7":Y="prime256v1",s="ecdsa-sha2-nistp256",l="sha256";break;case"1.3.132.0.34":Y="secp384r1",s="ecdsa-sha2-nistp384",l="sha384";break;case"1.3.132.0.35":Y="secp521r1",s="ecdsa-sha2-nistp521",l="sha512";break;default:return new Error("Unsupported private key EC OID: "+X)}}catch(e){return new Error(U)}o=x("EC PRIVATE",g);var z=(C=Y,O=Q,(N=i.createECDH(C)).setPrivateKey(O),N.getPublicKey());a=G(X,z),c=$(X,z)}return new K(s,"",o,a,c,l,_)}}(),Q.prototype=q,function(){var e=Buffer.alloc(0),t=Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),i=Buffer.from([0,0,0,0]),s=Buffer.from([0,0,0,1]),o=/^PuTTY-User-Key-File-2: (ssh-(?:rsa|dss))\r?\nEncryption: (aes256-cbc|none)\r?\nComment: ([^\r\n]*)\r?\nPublic-Lines: \d+\r?\n([\s\S]+?)\r?\nPrivate-Lines: \d+\r?\n([\s\S]+?)\r?\nPrivate-MAC: ([^\r\n]+)/;Q.parse=function(a,c){var f=o.exec(a);if(null===f)return null;var p=f[2],d="none"!==p;if(d&&!c)return new Error("Encrypted PPK private key detected, but no passphrase given");var g=Buffer.from(f[5],"base64");if(d){var m=E[p],y=P(h("sha1").update(i).update(c).digest(),h("sha1").update(s).update(c).digest());y.length>m.keyLen&&(y=y.slice(0,m.keyLen));try{var v=u(w[p],y,t);v.setAutoPadding(!1),g=P(v.update(g),v.final()),decrypted=!0}catch(e){return e}}var b,S,T,A=f[1],k=f[3],C=Buffer.from(f[4],"base64"),R=f[6],O=A.length,x=p.length,H=Buffer.byteLength(k),F=C.length,G=g.length,$=Buffer.allocUnsafe(4+O+4+x+4+H+4+F+4+G);if(_($,O,K=0),$.write(A,K+=4,O,"ascii"),_($,x,K+=O),$.write(p,K+=4,x,"ascii"),_($,H,K+=x),$.write(k,K+=4,H,"utf8"),_($,F,K+=H),C.copy($,K+=4),_($,G,K+=F),g.copy($,K+4),c||(c=e),l("sha1",h("sha1").update("putty-private-key-file-mac-key").update(c).digest()).update($).digest("hex")!==R)return d?new Error("PPK private key integrity check failed -- bad passphrase?"):new Error("PPK private key integrity check failed");switch(n||(n=r(11)),C._pos=0,N(C,1),A){case"ssh-rsa":var W=n.readString(C,C._pos);if(!1===W)return new Error("Malformed PPK public key");var j=n.readString(C,C._pos);if(!1===j)return new Error("Malformed PPK public key");var q=n.readString(g,0);if(!1===q)return new Error("Malformed PPK private key");if(!1===(K=n.readString(g,g._pos)))return new Error("Malformed PPK private key");if(!1===(V=n.readString(g,g._pos)))return new Error("Malformed PPK private key");var Y=n.readString(g,g._pos);if(!1===Y)return new Error("Malformed PPK private key");b=L(j,W),S=D(j,W),T=U(j,W,q,Y,K,V);break;case"ssh-dss":var K,V;if(!1===(K=n.readString(C,C._pos)))return new Error("Malformed PPK public key");if(!1===(V=n.readString(C,C._pos)))return new Error("Malformed PPK public key");var X=n.readString(C,C._pos);if(!1===X)return new Error("Malformed PPK public key");var z=n.readString(C,C._pos);if(!1===z)return new Error("Malformed PPK public key");var Z=n.readString(g,0);if(!1===Z)return new Error("Malformed PPK private key");b=I(K,V,X,z),S=B(K,V,X,z),T=M(K,V,X,z,Z)}return new Q(A,k,T,b,S,"sha1",d)}}(),X.prototype=q,function(){var e;e=b?/^(((?:ssh-(?:rsa|dss|ed25519))|ecdsa-sha2-nistp(?:256|384|521))(?:-cert-v0[01]@openssh.com)?) ([A-Z0-9a-z\/+=]+)(?:$|\s+([\S].*)?)$/:/^(((?:ssh-(?:rsa|dss))|ecdsa-sha2-nistp(?:256|384|521))(?:-cert-v0[01]@openssh.com)?) ([A-Z0-9a-z\/+=]+)(?:$|\s+([\S].*)?)$/,X.parse=function(t){var i=e.exec(t);if(null===i)return null;n||(n=r(11));var s=i[1],o=i[2],a=Buffer.from(i[3],"base64"),c=i[4]||"",u=n.readString(a,a._pos,"ascii");return!1===u||0!==u.indexOf(o)?new Error("Malformed OpenSSH public key"):V(a,o,c,s)}}(),z.prototype=q,function(){var e=/^---- BEGIN SSH2 PUBLIC KEY ----(?:\r\n|\n)((?:(?:[\x21-\x7E]+?):(?:(?:.*?\\\r?\n)*.*)(?:\r\n|\n))*)((?:[A-Z0-9a-z\/+=]+(?:\r\n|\n))+)---- END SSH2 PUBLIC KEY ----$/,t=/^([\x21-\x7E]+?):((?:.*?\\\r?\n)*.*)$/gm,i=/\\\r?\n/g;z.parse=function(s){var o=e.exec(s);if(null===o)return null;var a=o[1],c=Buffer.from(o[2],"base64"),u="";if(void 0!==a)for(;o=t.exec(a);)"comment"===o[1].toLowerCase()&&(u=O(o[2].replace(i,""))).length>1&&34===u.charCodeAt(0)&&34===u.charCodeAt(u.length-1)&&(u=u.slice(1,-1));n||(n=r(11));var h=n.readString(c,0,"ascii");if(!1===h)return new Error("Malformed RFC4716 public key");var l=null,f=null;switch(h){case"ssh-rsa":var p=n.readString(c,c._pos);if(!1===p)return new Error("Malformed RFC4716 public key");var d=n.readString(c,c._pos);if(!1===d)return new Error("Malformed RFC4716 public key");l=L(d,p),f=D(d,p);break;case"ssh-dss":var g=n.readString(c,c._pos);if(!1===g)return new Error("Malformed RFC4716 public key");var m=n.readString(c,c._pos);if(!1===m)return new Error("Malformed RFC4716 public key");var _=n.readString(c,c._pos);if(!1===_)return new Error("Malformed RFC4716 public key");var y=n.readString(c,c._pos);if(!1===y)return new Error("Malformed RFC4716 public key");l=I(g,m,_,y),f=B(g,m,_,y);break;default:return new Error("Malformed RFC4716 public key")}return new z(h,u,l,f,"sha1")}}(),e.exports={parseDERKey:function(e,t){return V(e,t,"",t)},parseKey:function(e,t){if(Buffer.isBuffer(e))e=e.toString("utf8").trim();else{if("string"!=typeof e)return new Error("Key data must be a Buffer or string");e=e.trim()}if(null!=t)if("string"==typeof t)t=Buffer.from(t);else if(!Buffer.isBuffer(t))return new Error("Passphrase must be a string or Buffer when supplied");var r;return null!==(r=Y.parse(e,t))?r:null!==(r=K.parse(e,t))?r:null!==(r=Q.parse(e,t))?r:null!==(r=X.parse(e))?r:null!==(r=z.parse(e))?r:new Error("Unsupported key format")}}},function(e,t,r){var n=r(2).inherits,i=r(10).Duplex,s=r(10).Readable,o=r(10).Writable,a=r(36).constants.CHANNEL_EXTENDED_DATATYPE.STDERR,c=2097152,u=c/2,h=["CHANNEL_EOF","CHANNEL_CLOSE","CHANNEL_DATA","CHANNEL_EXTENDED_DATA","CHANNEL_WINDOW_ADJUST","CHANNEL_SUCCESS","CHANNEL_FAILURE","CHANNEL_REQUEST"],l=h.length;function f(e,t,r){var n={highWaterMark:c,allowHalfOpen:!r||r&&!1!==r.allowHalfOpen};this.allowHalfOpen=n.allowHalfOpen,i.call(this,n);var o=this,a=r&&r.server;this.server=a,this.type=e.type,this.subtype=void 0;var f,g,m,_,y,v=this.incoming=e.incoming,E=v.id,w=this.outgoing=e.outgoing,b=this._callbacks=[];this._client=t,this._hasX11=!1;var S=t._channels,T=t._sshstream;function A(){o._waitClientDrain&&(o._waitClientDrain=!1,o._waitWindow||(o._chunk?o._write(o._chunk,null,o._chunkcb):o._chunkcb?o._chunkcb():o._chunkErr?o.stderr._write(o._chunkErr,null,o._chunkcbErr):o._chunkcbErr&&o._chunkcbErr()))}function k(){o.eof(),(a||!a&&!o.allowHalfOpen)&&o.close(),o.writable=!1}function C(){o.readable=!1}t._sock.on("drain",A),T.once("CHANNEL_EOF:"+E,(function(){"open"===v.state&&(v.state="eof",o.readable&&o.push(null),!a&&o.stderr.readable&&o.stderr.push(null))})).once("CHANNEL_CLOSE:"+E,(function(){if("closed"!==v.state){v.state="closed",o.readable&&o.push(null),a&&o.stderr.writable?o.stderr.end():!a&&o.stderr.readable&&o.stderr.push(null),"open"!==w.state&&"eof"!==w.state||o.close(),"closing"===w.state&&(w.state="closed"),delete S[E];var e=o._writableState;t._sock.removeListener("drain",A),e.ending||e.finished||o.end(),o._callbacks=[];for(var r=0;r<b.length;++r)b[r](!0);b=o._callbacks,a?o.readable?o.once("end",(function(){o.emit("close")})):o.emit("close"):(o.readable?o.once("end",(function(){null===f?o.emit("close",f,g,m,_,y):o.emit("close",f)})):null===f?o.emit("close",f,g,m,_,y):o.emit("close",f),o.stderr.readable?o.stderr.once("end",(function(){o.stderr.emit("close")})):o.stderr.emit("close"));for(r=0;r<l;++r)T.removeAllListeners(h[r]+":"+E)}})).on("CHANNEL_DATA:"+E,(function(e){0!==v.window&&(v.window-=e.length,o.push(e)?v.window<=u&&p(o):o._waitChanDrain=!0)})).on("CHANNEL_WINDOW_ADJUST:"+E,(function(e){w.window+=e,o._waitWindow&&(o._waitWindow=!1,o._waitClientDrain||(o._chunk?o._write(o._chunk,null,o._chunkcb):o._chunkcb?o._chunkcb():o._chunkErr?o.stderr._write(o._chunkErr,null,o._chunkcbErr):o._chunkcbErr&&o._chunkcbErr()))})).on("CHANNEL_SUCCESS:"+E,(function(){a?(T._kalast=Date.now(),T._kacnt=0):t._resetKA(),b.length&&b.shift()(!1)})).on("CHANNEL_FAILURE:"+E,(function(){a?(T._kalast=Date.now(),T._kacnt=0):t._resetKA(),b.length&&b.shift()(!0)})).on("CHANNEL_REQUEST:"+E,(function(e){if(!a){if("exit-status"===e.request)return void o.emit("exit",f=e.code);if("exit-signal"===e.request)return void o.emit("exit",f=null,g="SIG"+e.signal,m=e.coredump,_=e.description,y=e.lang)}e.wantReply&&T.channelFailure(w.id)})),this.stdin=this.stdout=this,a?this.stderr=new d(this):(this.stderr=new s(n),this.stderr._read=function(e){o._waitChanDrain&&(o._waitChanDrain=!1,v.window<=u&&p(o))},T.on("CHANNEL_EXTENDED_DATA:"+E,(function(e,t){0!==v.window&&(v.window-=t.length,o.stderr.push(t)?v.window<=u&&p(o):o._waitChanDrain=!0)}))),this._waitClientDrain=!1,this._waitWindow=!1,this._waitChanDrain=!1,this._chunk=void 0,this._chunkcb=void 0,this._chunkErr=void 0,this._chunkcbErr=void 0,this.on("finish",k).on("prefinish",k),this.on("end",C).on("close",C)}function p(e){if("closed"===e.outgoing.state)return!0;var t=c-e.incoming.window;return t<=0||(e.incoming.window+=t,e._client._sshstream.channelWindowAdjust(e.outgoing.id,t))}function d(e){o.call(this,{highWaterMark:c}),this._channel=e}n(f,i),f.prototype.eof=function(){var e=!0,t=this.outgoing;return"open"===t.state&&(t.state="eof",e=this._client._sshstream.channelEOF(t.id)),e},f.prototype.close=function(){var e=!0,t=this.outgoing;return"open"!==t.state&&"eof"!==t.state||(t.state="closing",e=this._client._sshstream.channelClose(t.id)),e},f.prototype._read=function(e){this._waitChanDrain&&(this._waitChanDrain=!1,this.incoming.window<=u&&p(this))},f.prototype._write=function(e,t,r){var n,i,s,o=this._client._sshstream,a=this.outgoing,c=a.packetSize,u=a.id,h=a.window,l=e.length,f=0;if("open"===a.state){for(;l-f>0&&h>0;)if((s=l-f)>h&&(s=h),s>c&&(s=c),n=o.channelData(u,e.slice(f,f+s)),f+=s,h-=s,!n){this._waitClientDrain=!0,this._chunk=void 0,this._chunkcb=r;break}if(a.window=h,l-f>0)return 0===h&&(this._waitWindow=!0),f>0?(i=Buffer.allocUnsafe(l-f),e.copy(i,0,f),this._chunk=i):this._chunk=e,void(this._chunkcb=r);this._waitClientDrain||r()}},f.prototype.destroy=function(){this.end()},f.prototype.setWindow=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");return"session"!==this.type||"shell"!==this.subtype&&"exec"!==this.subtype||!this.writable||"open"!==this.outgoing.state||this._client._sshstream.windowChange(this.outgoing.id,e,t,r,n)},f.prototype.signal=function(e){if(this.server)throw new Error("Client-only method called in server mode");return"session"!==this.type||!this.writable||"open"!==this.outgoing.state||this._client._sshstream.signal(this.outgoing.id,e)},f.prototype.exit=function(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");return"session"!==this.type||!this.writable||"open"!==this.outgoing.state||("number"==typeof e?this._client._sshstream.exitStatus(this.outgoing.id,e):this._client._sshstream.exitSignal(this.outgoing.id,e,t,r))},f.MAX_WINDOW=c,f.PACKET_SIZE=32768,n(d,o),d.prototype._write=function(e,t,r){var n,i,s,o=this._channel,c=o._client._sshstream,u=o.outgoing,h=u.packetSize,l=u.id,f=u.window,p=e.length,d=0;if("open"===o.outgoing.state){for(;p-d>0&&f>0;)if((s=p-d)>f&&(s=f),s>h&&(s=h),n=c.channelExtData(l,e.slice(d,d+s),a),d+=s,f-=s,!n){o._waitClientDrain=!0,o._chunkErr=void 0,o._chunkcbErr=r;break}if(u.window=f,p-d>0)return 0===f&&(o._waitWindow=!0),d>0?(i=Buffer.allocUnsafe(p-d),e.copy(i,0,d),o._chunkErr=i):o._chunkErr=e,void(o._chunkcbErr=r);o._waitClientDrain||r()}},e.exports=f},function(e,t){e.exports=require("child_process")},function(e,t,r){"use strict";var n;e.exports=S,S.ReadableState=b;r(13).EventEmitter;var i=function(e,t){return e.listeners(t).length},s=r(58),o=r(21).Buffer,a=global.Uint8Array||function(){};var c,u=r(2);c=u&&u.debuglog?u.debuglog("stream"):function(){};var h,l,f=r(135),p=r(59),d=r(60).getHighWaterMark,g=r(16).codes,m=g.ERR_INVALID_ARG_TYPE,_=g.ERR_STREAM_PUSH_AFTER_EOF,y=g.ERR_METHOD_NOT_IMPLEMENTED,v=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,E=r(136).emitExperimentalWarning;r(14)(S,s);var w=["error","close","destroy","pause","resume"];function b(e,t,i){n=n||r(17),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=d(this,e,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=r(62).StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function S(e){if(n=n||r(17),!(this instanceof S))return new S(e);var t=this instanceof n;this._readableState=new b(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function T(e,t,r,n,i){c("readableAddChunk",t);var s,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?R(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,O(e)))}(e,u);else if(i||(s=function(e,t){var r;n=t,o.isBuffer(n)||n instanceof a||"string"==typeof t||void 0===t||e.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(u,t)),s)e.emit("error",s);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),n)u.endEmitted?e.emit("error",new v):A(e,u,t,!0);else if(u.ended)e.emit("error",new _);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?A(e,u,t,!1):x(e,u)):A(e,u,t,!1)}else n||(u.reading=!1,x(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function A(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&R(e)),x(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=p.destroy,S.prototype._undestroy=p.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=o.from(e,t),t=""),r=!0),T(this,e,t,!1,r)},S.prototype.unshift=function(e){return T(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){return h||(h=r(62).StringDecoder),this._readableState.decoder=new h(e),this._readableState.encoding=this._readableState.decoder.encoding,this};var k=8388608;function C(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function R(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(O,e))}function O(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||e.emit("readable"),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,U(e)}function x(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function N(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function L(e){c("readable nexttick read 0"),e.read(0)}function D(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),U(e),t.flowing&&!t.reading&&e.read(0)}function U(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function B(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(M,t,e))}function M(e,t){c("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function H(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}S.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):R(this),null;if(0===(e=C(e,t))&&t.ended)return 0===t.length&&B(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=C(r,t))),null===(n=e>0?I(e,t):null)?(t.needReadable=!0,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&B(this)),null!==n&&this.emit("data",n),n},S.prototype._read=function(e){this.emit("error",new y("_read()"))},S.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,c("pipe count=%d opts=%j",n.pipesCount,t);var s=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?a:g;function o(t,i){c("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",d),e.removeListener("drain",u),e.removeListener("error",f),e.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",g),r.removeListener("data",l),h=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function a(){c("onend"),e.end()}n.endEmitted?process.nextTick(s):r.once("end",s),e.on("unpipe",o);var u=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,U(e))}}(r);e.on("drain",u);var h=!1;function l(t){c("ondata");var i=e.write(t);c("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==H(n.pipes,e))&&!h&&(c("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function f(t){c("onerror",t),g(),e.removeListener("error",f),0===i(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",d),g()}function d(){c("onfinish"),e.removeListener("close",p),g()}function g(){c("unpipe"),r.unpipe(e)}return r.on("data",l),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",f),e.once("close",p),e.once("finish",d),e.emit("pipe",r),n.flowing||(c("pipe resume"),r.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=H(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},S.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,c("on readable",n.length,n.reading),n.length?R(this):n.reading||process.nextTick(L,this))),r},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(N,this),r},S.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(N,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(D,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<w.length;s++)e.on(w[s],this.emit.bind(this,w[s]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return E("Readable[Symbol.asyncIterator]"),void 0===l&&(l=r(139)),l(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=I,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}})},function(e,t,r){e.exports=r(10)},function(e,t,r){"use strict";function n(e,t){s(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||process.nextTick(s,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(process.nextTick(n,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t?(process.nextTick(i,r),t(e)):process.nextTick(i,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";var n=r(16).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}},function(e,t,r){"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=S,S.WritableState=b;var s={deprecate:r(137)},o=r(58),a=r(21).Buffer,c=global.Uint8Array||function(){};var u,h=r(59),l=r(60).getHighWaterMark,f=r(16).codes,p=f.ERR_INVALID_ARG_TYPE,d=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,m=f.ERR_STREAM_CANNOT_PIPE,_=f.ERR_STREAM_DESTROYED,y=f.ERR_STREAM_NULL_VALUES,v=f.ERR_STREAM_WRITE_AFTER_END,E=f.ERR_UNKNOWN_ENCODING;function w(){}function b(e,t,s){i=i||r(17),e=e||{},"boolean"!=typeof s&&(s=t instanceof i),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=l(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(O,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),O(e,t))}(e,r,n,t,i);else{var s=C(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||k(e,r),n?process.nextTick(A,e,r,s,i):A(e,r,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function S(e){var t=this instanceof(i=i||r(17));if(!t&&!u.call(S,this))return new S(e);this._writableState=new b(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),o.call(this)}function T(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new _("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function A(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),O(e,t)}function k(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,s=new Array(i),o=t.corkedRequestsFree;o.entry=r;for(var a=0,c=!0;r;)s[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;s.allBuffers=c,T(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,h=r.encoding,l=r.callback;if(T(e,t,!1,t.objectMode?1:u.length,u,h,l),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function R(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),O(e,t)}))}function O(e,t){var r=C(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(R,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}r(14)(S,o),b.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(b.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===S&&(e&&e._writableState instanceof b)}})):u=function(e){return e instanceof this},S.prototype.pipe=function(){this.emit("error",new m)},S.prototype.write=function(e,t,r){var n,i=this._writableState,s=!1,o=!i.objectMode&&(n=e,a.isBuffer(n)||n instanceof c);return o&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=w),i.ending?function(e,t){var r=new v;e.emit("error",r),process.nextTick(t,r)}(this,r):(o||function(e,t,r,n){var i;return null===r?i=new y:"string"==typeof r||t.objectMode||(i=new p("chunk",["string","Buffer"],r)),!i||(e.emit("error",i),process.nextTick(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,s=function(e,t,r,n,i,s){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var c=t.objectMode?1:n.length;t.length+=c;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var h=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},h?h.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,c,n,i,s);return u}(this,i,o,e,t,r)),s},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||k(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new d("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,O(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=h.destroy,S.prototype._undestroy=h.undestroy,S.prototype._destroy=function(e,t){t(e)}},function(e,t,r){"use strict";var n=r(138).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=h,this.end=l,t=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function h(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=o(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=o(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";e.exports=h;var n=r(16).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(17);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function h(e){if(!(this instanceof h))return new h(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",l)}function l(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,r){f(e,t,r)}))}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}r(14)(h,c),h.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},h.prototype._transform=function(e,t,r){r(new i("_transform()"))},h.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},h.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},h.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t){e.exports=class{constructor(e,t,r,n,i){this.label=e,this.description=t,this.detail=r,this.settingsPayload=n,this.requiredOptions=i}}},function(e,t,r){const n=r(152);class i extends n{import(e){return this.loadFile(e).then(e=>this.translate(this.parseJSON(e.toString("utf8"))))}translate(e){return new Promise((t,r)=>{let n;this.test(e)?(n={service:"SFTP",SFTP:{host:e.host,username:e.user,password:e.password,root:e.remote_path}},e.ssh_key_file&&(n.SFTP.privateKey=e.ssh_key_file),!1===e.confirm_overwrite_newer&&(n.SFTP.collisionUploadAction="overwrite"),!1===e.confirm_downloads&&(n.SFTP.collisionDownloadAction="overwrite"),["dir_permissions","file_permissions"].forEach(t=>{i.tests.fileMode.test(e[t])&&(n.SFTP=this.addArrayData(n.SFTP,"fileMode",{glob:"**/*/",mode:e[t]}))}),t(n)):r('Settings format is either incorrect or not of type "SFTP".')})}test(e){return e.type&&"sftp"===e.type}}i.tests={fileMode:/0?\d{3}/},e.exports=i},function(e,t,r){const n=r(24),i=r(7),s=r(8),o=r(9);e.exports=class extends n{constructor(){super(),this.paths=new i,this.timers={}}catchError(e){if(e instanceof s)o.appendError(e);else if(void 0!==e)throw console.error(e),e}rateLimit(e,t,r,n=null){return function(){this.setTimedExecution.apply(this,[e,t,r,n].concat([...arguments]))}.bind(n)}setTimedExecution(e,t,r,n=null){let i=[];return this.clearTimedExecution(e),arguments.length>4&&(i=[...arguments].slice(4)),this.timers[e]=setTimeout(()=>{r.apply(n,i)},t),this.timers[e]}clearTimedExecution(e){this.timers[e]&&(clearTimeout(this.timers[e]),delete this.timers[e])}}},function(e,t,r){const n=r(153);class i{constructor(){this._log={},Object.values(i.types).forEach(e=>this._log[e]={})}add(e,t=i.types.METHOD){e.forEach(e=>{this._log[t][e]||(this._log[t][e]=new n)})}remove(e,t=i.types.METHOD){delete this._log[t][e]}get(e,t=i.types.METHOD,r){return this._log[t][e]||(this._log[t][e]=new n(r)),this._log[t][e]}getEvent(e,t){return this.get(e,i.types.EVENT,t)}}i.types={METHOD:0,EVENT:1},e.exports=new i},function(e,t,r){const n=r(0),i=r(1),{ROOT:s}=r(5);class o extends n.TreeItem{constructor(e,t,r={}){super(e,t),r.icon&&(this.iconPath={light:i.join(s,"resources","light",r.icon+".svg"),dark:i.join(s,"resources","dark",r.icon+".svg")}),console.log(i.join(s,"resources","light",r.icon+".svg")),this.contextValue=r.contextValue,this.resourceUri=r.resourceUri,this.command=r.command,this.method=r.method}}e.exports=o},function(e,t,r){const n=r(0),i=r(24),s=r(7);e.exports=class extends i{constructor(){super(),this.data=null,this.paths=new s,this._onDidChangeTreeData=new n.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event}onDidChangeConfiguration(){this.refresh()}refresh(e){e&&(Array.isArray(e)?this.data=[...e]:this.data={...e},this._onDidChangeTreeData.fire())}getTreeItem(e){return e}}},function(e,t,r){e.exports=function(e){function t(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let r;function o(...e){if(!o.enabled)return;const t=o,i=Number(new Date),s=i-(r||i);t.diff=s,t.prev=r,t.curr=i,r=i,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,i)=>{if("%%"===r)return r;a++;const s=n.formatters[i];if("function"==typeof s){const n=e[a];r=s.call(t,n),e.splice(a,1),a--}return r}),n.formatArgs.call(t,e),(t.log||n.log).apply(t,e)}return o.namespace=e,o.enabled=n.enabled(e),o.useColors=n.useColors(),o.color=t(e),o.destroy=i,o.extend=s,"function"==typeof n.init&&n.init(o),n.instances.push(o),o}function i(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function s(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){const e=[...n.names.map(o),...n.skips.map(o).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r(165),Object.keys(e).forEach(t=>{n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},function(e,t,r){var n=r(3);function i(e,t,r){try{var i=!1,s=n.statSync(e);return i=(i=i||t&&s.isFile())||r&&s.isDirectory()}catch(e){if("ENOENT"===e.code)return!1;throw e}}e.exports=function(e,t){return t?i(e,1&t,2&t):i(e,!0,!0)},e.exports.FILE=1,e.exports.FOLDER=2},function(e,t){function r(){this.files=[],this.insertions=0,this.deletions=0,this.changed=0}function n(e,t){if(e=e.trim().match(/^(.+)\s+\|\s+(\d+)(\s+[+\-]+)?$/)){var r=(e[3]||"").trim();return t.push({file:e[1].trim(),changes:parseInt(e[2],10),insertions:r.replace(/-/g,"").length,deletions:r.replace(/\+/g,"").length,binary:!1}),!0}}function i(e,t){if(e=e.match(/^(.+) \|\s+Bin ([0-9.]+) -> ([0-9.]+) ([a-z]+)$/))return t.push({file:e[1].trim(),before:+e[2],after:+e[3],binary:!0}),!0}e.exports=r,r.prototype.insertions=0,r.prototype.deletions=0,r.prototype.changed=0,r.parse=function(e){var t,s=e.trim().split("\n"),o=new r,a=s.pop();for(a&&a.trim().split(", ").forEach((function(e){var t=/(\d+)\s([a-z]+)/.exec(e);t&&(/files?/.test(t[2])?o.changed=parseInt(t[1],10):o[t[2].replace(/s$/,"")+"s"]=parseInt(t[1],10))}));t=s.shift();)n(t,o.files)||i(t,o.files);return o}},function(e,t,r){"use strict";function n(e,t,r){if(this.path=e,this.index=t,this.working_dir=r,"R"===t+r){var i=n.fromPathRegex.exec(e)||[null,e,e];this.from=i[1],this.path=i[2]}}n.fromPathRegex=/^(.+) -> (.+)$/,n.prototype={path:"",from:""},e.exports=n},function(e,t){function r(){this.files=[],this.insertions={},this.deletions={},this.summary={changes:0,insertions:0,deletions:0},this.created=[],this.deleted=[]}function n(e,t){var n=r.FILE_UPDATE_REGEX.exec(t);if(!n)return!1;e.files.push(n[1]);var i=n[2].length;i&&(e.insertions[n[1]]=i);var s=n[3].length;return s&&(e.deletions[n[1]]=s),!0}function i(e,t){if(!e.files.length)return!1;var n=r.SUMMARY_REGEX.exec(t);return!(!n||void 0===n[3]&&void 0===n[5])&&(e.summary.changes=+n[1]||0,e.summary.insertions=+n[3]||0,e.summary.deletions=+n[5]||0,!0)}function s(e,t){var n=r.ACTION_REGEX.exec(t);if(!n)return!1;var i=n[2];return e.files.indexOf(i)<0&&e.files.push(i),("create"===n[1]?e.created:e.deleted).push(i),!0}e.exports=r,r.prototype.created=null,r.prototype.deleted=null,r.prototype.files=null,r.prototype.insertions=null,r.prototype.deletions=null,r.prototype.summary=null,r.FILE_UPDATE_REGEX=/^\s*(.+?)\s+\|\s+\d+\s*(\+*)(-*)/,r.SUMMARY_REGEX=/(\d+)\D+((\d+)\D+\(\+\))?(\D+(\d+)\D+\(-\))?/,r.ACTION_REGEX=/(create|delete) mode \d+ (.+)/,r.parse=function(e){for(var t=new r,o=e.split("\n");o.length;){var a=o.shift().trim();a&&(n(t,a)||i(t,a)||s(t,a))}return t}},function(e,t,r){"use strict";function n(e,t){void 0===t&&(t=!1);var r=e.length,n=0,a="",c=0,u=16,h=0,l=0,f=0,p=0,d=0;function g(t,r){for(var i=0,s=0;i<t||!r;){var o=e.charCodeAt(n);if(o>=48&&o<=57)s=16*s+o-48;else if(o>=65&&o<=70)s=16*s+o-65+10;else{if(!(o>=97&&o<=102))break;s=16*s+o-97+10}n++,i++}return i<t&&(s=-1),s}function m(){if(a="",d=0,c=n,l=h,p=f,n>=r)return c=r,u=17;var t=e.charCodeAt(n);if(i(t)){do{n++,a+=String.fromCharCode(t),t=e.charCodeAt(n)}while(i(t));return u=15}if(s(t))return n++,a+=String.fromCharCode(t),13===t&&10===e.charCodeAt(n)&&(n++,a+="\n"),h++,f=n,u=14;switch(t){case 123:return n++,u=1;case 125:return n++,u=2;case 91:return n++,u=3;case 93:return n++,u=4;case 58:return n++,u=6;case 44:return n++,u=5;case 34:return n++,a=function(){for(var t="",i=n;;){if(n>=r){t+=e.substring(i,n),d=2;break}var o=e.charCodeAt(n);if(34===o){t+=e.substring(i,n),n++;break}if(92!==o){if(o>=0&&o<=31){if(s(o)){t+=e.substring(i,n),d=2;break}d=6}n++}else{if(t+=e.substring(i,n),++n>=r){d=2;break}switch(e.charCodeAt(n++)){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="\t";break;case 117:var a=g(4,!0);a>=0?t+=String.fromCharCode(a):d=4;break;default:d=5}i=n}}return t}(),u=10;case 47:var m=n-1;if(47===e.charCodeAt(n+1)){for(n+=2;n<r&&!s(e.charCodeAt(n));)n++;return a=e.substring(m,n),u=12}if(42===e.charCodeAt(n+1)){n+=2;for(var y=r-1,v=!1;n<y;){var E=e.charCodeAt(n);if(42===E&&47===e.charCodeAt(n+1)){n+=2,v=!0;break}n++,s(E)&&(13===E&&10===e.charCodeAt(n)&&n++,h++,f=n)}return v||(n++,d=1),a=e.substring(m,n),u=13}return a+=String.fromCharCode(t),n++,u=16;case 45:if(a+=String.fromCharCode(t),++n===r||!o(e.charCodeAt(n)))return u=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return a+=function(){var t=n;if(48===e.charCodeAt(n))n++;else for(n++;n<e.length&&o(e.charCodeAt(n));)n++;if(n<e.length&&46===e.charCodeAt(n)){if(!(++n<e.length&&o(e.charCodeAt(n))))return d=3,e.substring(t,n);for(n++;n<e.length&&o(e.charCodeAt(n));)n++}var r=n;if(n<e.length&&(69===e.charCodeAt(n)||101===e.charCodeAt(n)))if((++n<e.length&&43===e.charCodeAt(n)||45===e.charCodeAt(n))&&n++,n<e.length&&o(e.charCodeAt(n))){for(n++;n<e.length&&o(e.charCodeAt(n));)n++;r=n}else d=3;return e.substring(t,r)}(),u=11;default:for(;n<r&&_(t);)n++,t=e.charCodeAt(n);if(c!==n){switch(a=e.substring(c,n)){case"true":return u=8;case"false":return u=9;case"null":return u=7}return u=16}return a+=String.fromCharCode(t),n++,u=16}}function _(e){if(i(e)||s(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function(e){n=e,a="",c=0,u=16,d=0},getPosition:function(){return n},scan:t?function(){var e;do{e=m()}while(e>=12&&e<=15);return e}:m,getToken:function(){return u},getTokenValue:function(){return a},getTokenOffset:function(){return c},getTokenLength:function(){return n-c},getTokenStartLine:function(){return l},getTokenStartCharacter:function(){return c-p},getTokenError:function(){return d}}}function i(e){return 32===e||9===e||11===e||12===e||160===e||5760===e||e>=8192&&e<=8203||8239===e||8287===e||12288===e||65279===e}function s(e){return 10===e||13===e||8232===e||8233===e}function o(e){return e>=48&&e<=57}function a(e,t,r){var i,s,o,a,h;if(t){for(a=t.offset,h=a+t.length,o=a;o>0&&!u(e,o-1);)o--;for(var l=h;l<e.length&&!u(e,l);)l++;s=e.substring(o,l),i=function(e,t){var r=0,n=0,i=t.tabSize||4;for(;r<e.length;){var s=e.charAt(r);if(" "===s)n++;else{if("\t"!==s)break;n+=i}r++}return Math.floor(n/i)}(s,r)}else s=e,i=0,o=0,a=0,h=e.length;var f,p=function(e,t){for(var r=0;r<t.length;r++){var n=t.charAt(r);if("\r"===n)return r+1<t.length&&"\n"===t.charAt(r+1)?"\r\n":"\r";if("\n"===n)return"\n"}return e&&e.eol||"\n"}(r,e),d=!1,g=0;f=r.insertSpaces?c(" ",r.tabSize||4):"\t";var m=n(s,!1),_=!1;function y(){return p+c(f,i+g)}function v(){var e=m.scan();for(d=!1;15===e||14===e;)d=d||14===e,e=m.scan();return _=16===e||0!==m.getTokenError(),e}var E=[];function w(t,r,n){!_&&r<h&&n>a&&e.substring(r,n)!==t&&E.push({offset:r,length:n-r,content:t})}var b=v();if(17!==b){var S=m.getTokenOffset()+o;w(c(f,i),o,S)}for(;17!==b;){for(var T=m.getTokenOffset()+m.getTokenLength()+o,A=v(),k="";!d&&(12===A||13===A);){w(" ",T,m.getTokenOffset()+o),T=m.getTokenOffset()+m.getTokenLength()+o,k=12===A?y():"",A=v()}if(2===A)1!==b&&(g--,k=y());else if(4===A)3!==b&&(g--,k=y());else{switch(b){case 3:case 1:g++,k=y();break;case 5:case 12:k=y();break;case 13:k=d?y():" ";break;case 6:k=" ";break;case 10:if(6===A){k="";break}case 7:case 8:case 9:case 11:case 2:case 4:12===A||13===A?k=" ":5!==A&&17!==A&&(_=!0);break;case 16:_=!0}!d||12!==A&&13!==A||(k=y())}w(k,T,m.getTokenOffset()+o),b=A}return E}function c(e,t){for(var r="",n=0;n<t;n++)r+=e;return r}function u(e,t){return-1!=="\r\n".indexOf(e.charAt(t))}var h;function l(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=h.DEFAULT);var n={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(e){"property"===n.type&&(n.length=e-n.offset,n=n.parent)}function s(e){return n.children.push(e),e}p(e,{onObjectBegin:function(e){n=s({type:"object",offset:e,length:-1,parent:n,children:[]})},onObjectProperty:function(e,t,r){(n=s({type:"property",offset:t,length:-1,parent:n,children:[]})).children.push({type:"string",value:e,offset:t,length:r,parent:n})},onObjectEnd:function(e,t){n.length=e+t-n.offset,n=n.parent,i(e+t)},onArrayBegin:function(e,t){n=s({type:"array",offset:e,length:-1,parent:n,children:[]})},onArrayEnd:function(e,t){n.length=e+t-n.offset,n=n.parent,i(e+t)},onLiteralValue:function(e,t,r){s({type:d(e),offset:t,length:r,parent:n,value:e}),i(t+r)},onSeparator:function(e,t,r){"property"===n.type&&(":"===e?n.colonOffset=t:","===e&&i(t))},onError:function(e,r,n){t.push({error:e,offset:r,length:n})}},r);var o=n.children[0];return o&&delete o.parent,o}function f(e,t){if(e){for(var r=e,n=0,i=t;n<i.length;n++){var s=i[n];if("string"==typeof s){if("object"!==r.type||!Array.isArray(r.children))return;for(var o=!1,a=0,c=r.children;a<c.length;a++){var u=c[a];if(Array.isArray(u.children)&&u.children[0].value===s){r=u.children[1],o=!0;break}}if(!o)return}else{var h=s;if("array"!==r.type||h<0||!Array.isArray(r.children)||h>=r.children.length)return;r=r.children[h]}}return r}}function p(e,t,r){void 0===r&&(r=h.DEFAULT);var i=n(e,!1);function s(e){return e?function(){return e(i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter())}:function(){return!0}}function o(e){return e?function(t){return e(t,i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter())}:function(){return!0}}var a=s(t.onObjectBegin),c=o(t.onObjectProperty),u=s(t.onObjectEnd),l=s(t.onArrayBegin),f=s(t.onArrayEnd),p=o(t.onLiteralValue),d=o(t.onSeparator),g=s(t.onComment),m=o(t.onError),_=r&&r.disallowComments,y=r&&r.allowTrailingComma;function v(){for(;;){var e=i.scan();switch(i.getTokenError()){case 4:E(14);break;case 5:E(15);break;case 3:E(13);break;case 1:_||E(11);break;case 2:E(12);break;case 6:E(16)}switch(e){case 12:case 13:_?E(10):g();break;case 16:E(1);break;case 15:case 14:break;default:return e}}}function E(e,t,r){if(void 0===t&&(t=[]),void 0===r&&(r=[]),m(e),t.length+r.length>0)for(var n=i.getToken();17!==n;){if(-1!==t.indexOf(n)){v();break}if(-1!==r.indexOf(n))break;n=v()}}function w(e){var t=i.getTokenValue();return e?p(t):c(t),v(),!0}function b(){switch(i.getToken()){case 3:return function(){l(),v();for(var e=!1;4!==i.getToken()&&17!==i.getToken();){if(5===i.getToken()){if(e||E(4,[],[]),d(","),v(),4===i.getToken()&&y)break}else e&&E(6,[],[]);b()||E(4,[],[4,5]),e=!0}return f(),4!==i.getToken()?E(8,[4],[]):v(),!0}();case 1:return function(){a(),v();for(var e=!1;2!==i.getToken()&&17!==i.getToken();){if(5===i.getToken()){if(e||E(4,[],[]),d(","),v(),2===i.getToken()&&y)break}else e&&E(6,[],[]);(10!==i.getToken()?(E(3,[],[2,5]),0):(w(!1),6===i.getToken()?(d(":"),v(),b()||E(4,[],[2,5])):E(5,[],[2,5]),1))||E(4,[],[2,5]),e=!0}return u(),2!==i.getToken()?E(7,[2],[]):v(),!0}();case 10:return w(!0);default:return function(){switch(i.getToken()){case 11:var e=0;try{"number"!=typeof(e=JSON.parse(i.getTokenValue()))&&(E(2),e=0)}catch(e){E(2)}p(e);break;case 7:p(null);break;case 8:p(!0);break;case 9:p(!1);break;default:return!1}return v(),!0}()}}return v(),17===i.getToken()?!!r.allowEmptyContent||(E(4,[],[]),!1):b()?(17!==i.getToken()&&E(9,[],[]),!0):(E(4,[],[]),!1)}function d(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":return e?Array.isArray(e)?"array":"object":"null";default:return"null"}}function g(e,t,r,n,i){for(var s,o=t.slice(),a=l(e,[]),c=void 0,u=void 0;o.length>0&&(u=o.pop(),void 0===(c=f(a,o))&&void 0!==r);)"string"==typeof u?((s={})[u]=r,r=s):r=[r];if(c){if("object"===c.type&&"string"==typeof u&&Array.isArray(c.children)){var h=f(c,[u]);if(void 0!==h){if(void 0===r){if(!h.parent)throw new Error("Malformed AST");var p=c.children.indexOf(h.parent),d=void 0,g=h.parent.offset+h.parent.length;if(p>0)d=(b=c.children[p-1]).offset+b.length;else if(d=c.offset+1,c.children.length>1)g=c.children[1].offset;return m(e,{offset:d,length:g-d,content:""},n)}return m(e,{offset:h.offset,length:h.length,content:JSON.stringify(r)},n)}if(void 0===r)return[];var _=JSON.stringify(u)+": "+JSON.stringify(r),y=i?i(c.children.map((function(e){return e.children[0].value}))):c.children.length,v=void 0;return m(e,v=y>0?{offset:(b=c.children[y-1]).offset+b.length,length:0,content:","+_}:0===c.children.length?{offset:c.offset+1,length:0,content:_}:{offset:c.offset+1,length:0,content:_+","},n)}if("array"===c.type&&"number"==typeof u&&Array.isArray(c.children)){if(-1===u){_=""+JSON.stringify(r),v=void 0;if(0===c.children.length)v={offset:c.offset+1,length:0,content:_};else v={offset:(b=c.children[c.children.length-1]).offset+b.length,length:0,content:","+_};return m(e,v,n)}if(void 0===r&&c.children.length>=0){var E=u,w=c.children[E];v=void 0;if(1===c.children.length)v={offset:c.offset+1,length:c.length-2,content:""};else if(c.children.length-1===E){var b,S=(b=c.children[E-1]).offset+b.length;v={offset:S,length:c.offset+c.length-2-S,content:""}}else v={offset:w.offset,length:c.children[E+1].offset-w.offset,content:""};return m(e,v,n)}throw new Error("Array modification not supported yet")}throw new Error("Can not add "+("number"!=typeof u?"index":"property")+" to parent of type "+c.type)}if(void 0===r)throw new Error("Can not delete in empty document");return m(e,{offset:a?a.offset:0,length:a?a.length:0,content:JSON.stringify(r)},n)}function m(e,t,r){var n=_(e,t),i=t.offset,s=t.offset+t.content.length;if(0===t.length||0===t.content.length){for(;i>0&&!u(n,i-1);)i--;for(;s<n.length&&!u(n,s);)s++}for(var o=a(n,{offset:i,length:s-i},r),c=o.length-1;c>=0;c--){var h=o[c];n=_(n,h),i=Math.min(i,h.offset),s=Math.max(s,h.offset+h.length),s+=h.content.length-h.length}return[{offset:i,length:e.length-(n.length-s)-i,content:n.substring(i,s)}]}function _(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}r.r(t),function(e){e.DEFAULT={allowTrailingComma:!1}}(h||(h={})),r.d(t,"createScanner",(function(){return y})),r.d(t,"getLocation",(function(){return v})),r.d(t,"parse",(function(){return E})),r.d(t,"parseTree",(function(){return w})),r.d(t,"findNodeAtLocation",(function(){return b})),r.d(t,"findNodeAtOffset",(function(){return S})),r.d(t,"getNodePath",(function(){return T})),r.d(t,"getNodeValue",(function(){return A})),r.d(t,"visit",(function(){return k})),r.d(t,"stripComments",(function(){return C})),r.d(t,"printParseErrorCode",(function(){return R})),r.d(t,"format",(function(){return O})),r.d(t,"modify",(function(){return x})),r.d(t,"applyEdits",(function(){return P}));var y=n,v=function(e,t){var r=[],n=new Object,i=void 0,s={value:{},offset:0,length:0,type:"object",parent:void 0},o=!1;function a(e,t,r,n){s.value=e,s.offset=t,s.length=r,s.type=n,s.colonOffset=void 0,i=s}try{p(e,{onObjectBegin:function(e,s){if(t<=e)throw n;i=void 0,o=t>e,r.push("")},onObjectProperty:function(e,i,s){if(t<i)throw n;if(a(e,i,s,"property"),r[r.length-1]=e,t<=i+s)throw n},onObjectEnd:function(e,s){if(t<=e)throw n;i=void 0,r.pop()},onArrayBegin:function(e,s){if(t<=e)throw n;i=void 0,r.push(0)},onArrayEnd:function(e,s){if(t<=e)throw n;i=void 0,r.pop()},onLiteralValue:function(e,r,i){if(t<r)throw n;if(a(e,r,i,d(e)),t<=r+i)throw n},onSeparator:function(e,s,a){if(t<=s)throw n;if(":"===e&&i&&"property"===i.type)i.colonOffset=s,o=!1,i=void 0;else if(","===e){var c=r[r.length-1];"number"==typeof c?r[r.length-1]=c+1:(o=!0,r[r.length-1]=""),i=void 0}}})}catch(e){if(e!==n)throw e}return{path:r,previousNode:i,isAtPropertyKey:o,matches:function(e){for(var t=0,n=0;t<e.length&&n<r.length;n++)if(e[t]===r[n]||"*"===e[t])t++;else if("**"!==e[t])return!1;return t===e.length}}},E=function(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=h.DEFAULT);var n=null,i=[],s=[];function o(e){Array.isArray(i)?i.push(e):null!==n&&(i[n]=e)}return p(e,{onObjectBegin:function(){var e={};o(e),s.push(i),i=e,n=null},onObjectProperty:function(e){n=e},onObjectEnd:function(){i=s.pop()},onArrayBegin:function(){var e=[];o(e),s.push(i),i=e,n=null},onArrayEnd:function(){i=s.pop()},onLiteralValue:o,onError:function(e,r,n){t.push({error:e,offset:r,length:n})}},r),i[0]},w=l,b=f,S=function e(t,r,n){if(void 0===n&&(n=!1),function(e,t,r){return void 0===r&&(r=!1),t>=e.offset&&t<e.offset+e.length||r&&t===e.offset+e.length}(t,r,n)){var i=t.children;if(Array.isArray(i))for(var s=0;s<i.length&&i[s].offset<=r;s++){var o=e(i[s],r,n);if(o)return o}return t}},T=function e(t){if(!t.parent||!t.parent.children)return[];var r=e(t.parent);if("property"===t.parent.type){var n=t.parent.children[0].value;r.push(n)}else if("array"===t.parent.type){var i=t.parent.children.indexOf(t);-1!==i&&r.push(i)}return r},A=function e(t){switch(t.type){case"array":return t.children.map(e);case"object":for(var r=Object.create(null),n=0,i=t.children;n<i.length;n++){var s=i[n],o=s.children[1];o&&(r[s.children[0].value]=e(o))}return r;case"null":case"string":case"number":case"boolean":return t.value;default:return}},k=p,C=function(e,t){var r,i,s=n(e),o=[],a=0;do{switch(i=s.getPosition(),r=s.scan()){case 12:case 13:case 17:a!==i&&o.push(e.substring(a,i)),void 0!==t&&o.push(s.getTokenValue().replace(/[^\r\n]/g,t)),a=s.getPosition()}}while(17!==r);return o.join("")};function R(e){switch(e){case 1:return"InvalidSymbol";case 2:return"InvalidNumberFormat";case 3:return"PropertyNameExpected";case 4:return"ValueExpected";case 5:return"ColonExpected";case 6:return"CommaExpected";case 7:return"CloseBraceExpected";case 8:return"CloseBracketExpected";case 9:return"EndOfFileExpected";case 10:return"InvalidCommentToken";case 11:return"UnexpectedEndOfComment";case 12:return"UnexpectedEndOfString";case 13:return"UnexpectedEndOfNumber";case 14:return"InvalidUnicode";case 15:return"InvalidEscapeCharacter";case 16:return"InvalidCharacter"}return"<unknown ParseErrorCode>"}function O(e,t,r){return a(e,t,r)}function x(e,t,r,n){return g(e,t,r,n.formattingOptions,n.getInsertionIndex)}function P(e,t){for(var r=t.length-1;r>=0;r--)e=_(e,t[r]);return e}},function(e,t,r){const n=r(0),i=r(77);let s;t.activate=e=>{let t,r;for(r in s=new i(e),t={"push.upload":"upload","push.download":"download","push.uploadFolder":"upload","push.downloadFolder":"download","push.diff":"diff","push.uploadQueuedItems":"execUploadQueue","push.removeQueuedItem":"removeUploadQueuedItem","push.clearUploadQueue":"clearUploadQueue","push.queueGitChangedFiles":"queueGitChangedFiles","push.uploadGitChangedFiles":"uploadGitChangedFiles","push.queueGitCommit":"queueGitCommit","push.uploadGitCommit":"uploadGitCommit","push.cancelQueues":"cancelQueues","push.stopQueues":"stopQueues","push.addWatchFile":"addWatch","push.removeWatchFile":"removeWatch","push.addWatchFolder":"addWatch","push.removeWatchFolder":"removeWatch","push.listWatchers":"listWatchers","push.startWatch":"startWatch","push.stopWatch":"stopWatch","push.clearWatchers":"clearWatchers","push.purgeStoredWatchers":"purgeStoredWatchers","push.editServiceConfig":"editServiceConfig","push.createServiceConfig":"createServiceConfig","push.setServiceEnv":"setServiceEnv","push.importConfig":"importConfig"},t)e.subscriptions.push(n.commands.registerCommand(r,s[t[r]],s));n.window.registerTreeDataProvider("push.watchListExplorer",s.push.explorers.watchList),n.window.registerTreeDataProvider("push.uploadQueueExplorer",s.push.explorers.uploadQueue)}},function(e,t,r){const n=r(0),i=r(78),s=r(6);e.exports=class{constructor(e){this.push=new i(e)}showUploadQueue(){this.push.listQueueItems(i.queueDefs.upload)}removeUploadQueuedItem(e){let t;t=e instanceof n.TreeItem?e.resourceUri:this.push.paths.getFileSrc(e),this.push.removeQueuedUri(i.queueDefs.upload,t)}execUploadQueue(){return this.push.execUploadQueue.apply(this.push,arguments)}clearUploadQueue(){this.push.clearQueue(i.queueDefs.upload)&&s.showLocalisedMessage("upload_queue_cleared")}queueGitChangedFiles(){let e;if(e=this.push.getValidUri(e))return this.push.queueGitChangedFiles(e).catch(this.push.catchError)}uploadGitChangedFiles(){let e;if(e=this.push.getValidUri(e))return this.push.queueGitChangedFiles(e,!0).catch(this.push.catchError)}queueGitCommit(){let e;if(e=this.push.getValidUri(e))return this.push.queueGitCommitChanges(e).catch(this.push.catchError)}uploadGitCommit(){let e;if(e=this.push.getValidUri(e))return this.push.queueGitCommitChanges(e,!0).catch(this.push.catchError)}upload(e,t){return this.push.transfer(this.push.getValidUri(t,e),"put").catch(this.push.catchError)}download(e,t){return this.push.transfer(this.push.getValidUri(t,e),"get").catch(this.push.catchError)}diff(e){if(e=this.push.getValidUri(e))return this.push.diffRemote(e).catch(this.push.catchError)}addWatch(e){return!!(e=this.push.getValidUri(e))&&this.push.watch.add(e).catch(this.push.catchError)}removeWatch(e){let t;e instanceof n.TreeItem&&(e=e.resourceUri),(t=this.push.paths.getFileSrc(e))&&this.push.watch.remove(t).catch(this.push.catchError)}listWatchers(){this.push.watch.list()}startWatch(){this.push.watch.toggle(!0)}stopWatch(){this.push.watch.toggle(!1)}clearWatchers(){this.push.watch.clear()}purgeStoredWatchers(){this.push.watch.purge()}cancelQueues(){this.push.stopCancellableQueues()}stopQueues(){this.push.stopCancellableQueues(!0)}createServiceConfig(e){if(e=this.push.getValidUri(e))return this.push.service.settings.editServiceConfig(e,!0).catch(this.push.catchError);s.showLocalisedWarning("no_servicefile_context")}editServiceConfig(e){if(e=this.push.getValidUri(e))return this.push.service.settings.editServiceConfig(e).catch(this.push.catchError);s.showLocalisedWarning("no_servicefile_context")}setServiceEnv(e){if(e=this.push.getValidUri(e))return this.push.service.setConfigEnv(e).then(()=>{this.push.config.disableWatchOnEnvChange&&this.stopWatch()}).catch(this.push.catchError);s.showLocalisedWarning("no_servicefile_context")}importConfig(e){if(this.push.getValidUri(e))return this.push.service.settings.importConfig(e).catch(this.push.catchError)}}},function(e,t,r){const n=r(0),i=r(79),s=r(80),o=r(81),a=r(8),c=r(9),u=r(6),h=r(97),l=r(66),f=r(154),p=r(155),d=r(7),g=r(156),m=r(158),_=r(160),y=r(67),v=r(4),{STATUS_PRIORITIES:E,QUEUE_LOG_TYPES:w,ENV_DEFAULT_STATUS_COLOR:b,DEBUG:S}=r(5);class T extends l{constructor(e){super(),u.trace("Push","Begin instantiation",!0),this.context=e,this.allowExternalServiceFiles=!1,this.didSaveTextDocument=this.didSaveTextDocument.bind(this),this.setContexts=this.setContexts.bind(this),this.didChangeActiveTextEditor=this.didChangeActiveTextEditor.bind(this),this.onWatchUpdate=this.onWatchUpdate.bind(this),this.onWatchChange=this.onWatchChange.bind(this),this.setEnvStatus=this.rateLimit(T.globals.ENV_TIMER_ID,500,this.setEnvStatus,this),this.initService(),this.paths=new d,this.explorers={watchList:new f(this.config),uploadQueue:new p(this.config)},this.scm=new _,this.watch=new m(this.context.globalState),this.watch.onWatchUpdate=this.onWatchUpdate,this.watch.onChange=this.onWatchChange,this.watch.recallByWorkspaceFolders(n.workspace.workspaceFolders),u.trace("Push","Libraries initialised"),this.queues={},this.setContexts(!0),this.createEventHandlers(),this.checkNewVersion()}checkNewVersion(){let e=this.context.globalState.get(T.globals.VERSION_STORE);S&&(e="0.0.0"),void 0!==e&&(u.trace("Push#checkNewVersion",`Current version: ${e}, Package version: ${o.version}`),-1!==["major","minor"].indexOf(i.diff(e,o.version))&&(this.config.showChangelog&&this.showChangelog(),S?u.trace("Push#checkNewVersion",v.t("push_upgraded",o.version)):n.window.showInformationMessage(v.t("push_upgraded",o.version),this.config.showChangelog?null:{isCloseAffordance:!0,id:"show_changelog",title:v.t("show_changelog")}).then(e=>{e&&"show_changelog"===e.id&&this.showChangelog()})),this.context.globalState.update(T.globals.VERSION_STORE,o.version))}showChangelog(){const e=this.paths.join(this.context.extensionPath,"CHANGELOG.md");if(u.trace("Push#showChangelog",`Changelog file at ${this.paths.getNormalPath(e)}`),!this.paths.fileExists(e))throw new Error(`Changelog file at ${this.paths.getNormalPath(e)} does not exist.`);S||n.commands.executeCommand("markdown.showPreview",e)}createEventHandlers(){this.event("onDidChangeActiveTextEditor",n.window.activeTextEditor),n.workspace.onDidSaveTextDocument(e=>{this.event("onDidSaveTextDocument",e)}),n.window.onDidChangeActiveTextEditor(e=>{this.event("onDidChangeActiveTextEditor",e)}),n.window.onDidChangeWindowState(e=>{e.focused||y.getEvent("windowBlurred").add()}),u.trace("Push","Events bound")}onDidChangeConfiguration(){this.setContexts&&this.setContexts()}setContexts(e){this.setContext(T.contexts.hasUploadQueue,this.config.uploadQueue),this.setContext(T.contexts.showTitleMenuUpload,this.config.showTitleMenuUpload),!0===e&&(this.setContext(T.contexts.initialised,!0),this.setContext(T.contexts.hasServiceContext,!1))}initService(){this.service=new h({onDisconnect:e=>{this.stopCancellableQueues(!!e,!!e)},onServiceFileUpdate:e=>{this.event("onServiceFileUpdate",e)}})}queueGitChangedFiles(e,t=!1){return this.scm.exec(_.providers.git,this.paths.getCurrentWorkspaceRootPath(e,!0),"listWorkingUris").then(e=>t?this.transfer(e,"put"):this.queueForUpload(e))}queueGitCommitChanges(e,t=!1){let r=this.paths.getCurrentWorkspaceRootPath(e,!0);return this.scm.exec(_.providers.git,r,"listCommits",10).then(e=>n.window.showQuickPick(e,{placeholder:"placeholder"})).then(e=>{let t={option:e};if(!e)throw void 0;return this.scm.exec(_.providers.git,r,"urisFromCommit",e.baseOption).then(e=>(t.uris=e,t))}).then(e=>this.paths.filterUrisByGlobs(e.uris,this.config.ignoreGlobs).then(({uris:t,ignored:r})=>(e.uris=t,e.ignored=r,e))).then(e=>e.uris.length?t?this.transfer(e.uris,"put"):this.queueForUpload(e.uris):e.ignored?u.showLocalisedWarning("commit_no_files_with_ignore",e.option.shortCommit,e.ignored):u.showLocalisedWarning("commit_no_files",e.option.shortCommit))}event(e,t){let r,i,s,o;switch(e){case"onDidSaveTextDocument":if(!this.paths.pathInWorkspaceFolder(t.uri))return;r=t&&t.uri,i="didSaveTextDocument",s=[t];break;case"onDidChangeActiveTextEditor":t||(t=n.window.activeTextEditor),r=t&&t.document&&t.document.uri,i="didChangeActiveTextEditor",s=[t];break;case"onServiceFileUpdate":r=t;break;default:throw new Error("Unrecognised event type")}u.trace("Push#event",e),r?("onServiceFileUpdate"!==e&&this.service.settings.isSettingsFile(r)?this.setEnvStatus(!1):(o=this.service.settings.getServerJSON(r,this.config.settingsFileGlob,!0,!0),this.config.useEnvLabel&&o&&o.data.env?this.setEnvStatus(o.data.env):this.setEnvStatus(!1)),i&&this[i].apply(this,s.concat([o]))):this.setEnvStatus(!1)}didSaveTextDocument(e,t){if(!e.uri||!this.paths.isValidScheme(e.uri))return!1;u.trace("Push#didSaveTextDocument",`Text document saved at ${e.uri.fsPath}`),this.service.settings.clear(),this.config.uploadQueue&&t&&this.queueForUpload(e.uri).then(()=>{this.config.autoUploadQueue&&this.execUploadQueue()})}didChangeActiveTextEditor(e,t){let r=this.getQueue(T.queueDefs.upload,!1);e&&e.document&&this.paths.isValidScheme(e.document.uri)&&(u.trace("Push#didChangeActiveTextEditor",`Editor switched to ${e.document.uri.fsPath}`),this.setContext(T.contexts.hasServiceContext,!!t),r&&r.tasks.length>0&&r.tasks.length<100&&this.setContext(T.contexts.activeEditorInUploadQueue,r.hasTaskByUri(e.document.uri)))}configWithServiceSettings(e){return this.service.settings.mergeWithServiceSettings(e,this.config.settingsFileGlob,this.config)}queue(e=[],t=!1,r=T.queueDefs.default,n){const i=this.getQueue(r,n);if(u.trace("Push#queue",`Adding ${e.length} task(s)`),0!==i.tasks.length||i.running||(u.trace("Push#queue","Adding initial queue task"),i.addTask(new g.Task(()=>this.service.activeService&&this.service.activeService.init(i.tasks.length-1)))),e.forEach(e=>{if(e instanceof g.Task)return i.addTask(e);i.addTask(new g.Task(()=>this.service.exec(e.method,this.configWithServiceSettings(e.uriContext),e.args).then(t=>("function"==typeof e.onTaskComplete&&e.onTaskComplete.call(this,t),t)),e.id,{actionTaken:e.actionTaken,uriContext:e.uriContext}))}),this.refreshExplorerQueues(),t)return this.execQueue(r)}queueForUpload(e){return this.service?(Array.isArray(e)||(e=[e]),Promise.all(e.map(e=>{let t;return t=this.service.execSync("convertUriToRemote",this.configWithServiceSettings(e),[e]),this.paths.filterUriByGlobs(e,this.config.ignoreGlobs).then(r=>{r&&this.queue([{method:"put",actionTaken:"uploaded",uriContext:e,args:[e,t],id:t+this.paths.getNormalPath(e)}],!1,T.queueDefs.upload,{showStatus:!0,statusToolTip:e=>v.t("num_to_upload",e),statusCommand:"push.uploadQueuedItems",emptyOnFail:!1})})}))):Promise.reject("No service set.")}execUploadQueue(){return new Promise((e,t)=>{let r,n;return this.config.uploadQueue?(r=this.getQueue(T.queueDefs.upload),r.tasks.length?(n=this.queue(r.tasks,!0),void(n instanceof Promise&&n.then(()=>{r.empty()}).then(e))):(u.showWarning(v.t("queue_empty")),t("Queue empty."))):(c.appendLocalisedInfo("upload_queue_disabled"),t("Upload queue disabled."))})}diffRemote(e){return new Promise((t,r)=>{let i,s;i=u.getTmpFile(!0,this.paths.getExtName(e)),s=this.service.execSync("convertUriToRemote",this.configWithServiceSettings(e),[e]),this.queue([{method:"get",actionTaken:"downloaded",uriContext:e,args:[i,s,"overwrite"],id:i+s,onTaskComplete:t=>{t.error||n.commands.executeCommand("vscode.diff",i,e,`${v.t("server_v_local")} (${this.paths.getBaseName(e)})`)}}],!0,T.queueDefs.diff).then(t,r)})}getQueue(e,t){if("object"!=typeof e||!e.id)throw new Error("Invalid queue definition type.");if(!this.queues[e.id]){if(!1===t)return null;this.queues[e.id]=new g(e.id,t)}return this.queues[e.id]}execQueue(e){const t=this.getQueue(e);return t.running?Promise.resolve():t.exec(this.service.getStateProgress).then(e=>{let t;return e&&(t=e[w.success])&&t.uploaded&&t.uploaded.length?this.remoteQueuedItemsByTransfer(T.queueDefs.upload,t.uploaded):this.refreshExplorerQueues(),e}).catch(e=>{throw this.refreshExplorerQueues(),e})}listQueueItems(e){let t=this.getQueue(e,!1);t?(c.appendLocalisedInfo(),t.tasks.forEach(e=>{e.actionTaken&&c.appendLine(e.actionTaken)})):c.appendLocalisedInfo("no_current_upload_queue")}remoteQueuedItemsByTransfer(e,t){let r=this.getQueue(e,!1);r&&(t.forEach(e=>r.removeTaskByUri(e.src)),this.refreshExplorerQueues())}removeQueuedUri(e,t){let r=this.getQueue(e,!1);r&&(r.removeTaskByUri(t),this.refreshExplorerQueues())}clearQueue(e){let t=this.getQueue(e,!1);return!(!t||!t.empty())&&(this.refreshExplorerQueues(),!0)}refreshExplorerQueues(){this.explorers.uploadQueue.refresh(this.queues)}onWatchUpdate(e){this.explorers.watchList.refresh(e)}onWatchChange(e){this.config.queueWatchedFiles?this.queueForUpload(e):this.transfer(e,"put")}setContext(e,t){return u.trace("Push#setContext",`${e}: "${t}"`),n.commands.executeCommand("setContext",`push:${e}`,t),this}setEnvStatus(e=""){u.trace("Push#setEnvStatus",`Setting environment label to ${e}`),this.clearTimedExecution(T.globals.ENV_TIMER_ID),e?(this.statusEnv||(this.statusEnv=n.window.createStatusBarItem(n.StatusBarAlignment.Left,E.ENV)),this.statusEnv.text="$(versions) "+e,this.statusEnv.tooltip=v.t("env_tooltip",e),this.statusEnv.command="push.setServiceEnv",this.config.envColours[e]?this.statusEnv.color=this.config.envColours[e]:this.statusEnv.color=b,this.statusEnv.show()):this.statusEnv&&this.statusEnv.hide()}stopCancellableQueues(e=!1,t=!1){let r,n,i=[];for(r in T.queueDefs)(n=this.getQueue(T.queueDefs[r]))&&T.queueDefs[r].cancellable&&n.running&&i.push(this.stopQueue(T.queueDefs[r],e,t));return Promise.all(i)}stopQueue(e,t=!1,r=!1){let i=this.getQueue(e);return n.window.withProgress({location:n.ProgressLocation.Window,title:"Push"},n=>new Promise((s,o)=>{let a,h=[];n.report({message:v.t("stopping")}),u.trace("Push#stopQueue","Stopping queue"),t&&(u.trace("Push#stopQueue","Starting queue force stop"),a=setTimeout(()=>{u.trace("Push#stopQueue",T.globals.FORCE_STOP_TIMEOUT+" second(s) elapsed. Force stopping queue"),i.stop(!0,!0,!0),this.service.restartServiceInstance(),!r&&c.appendError(v.t("queue_force_stopped",e.id,T.globals.FORCE_STOP_TIMEOUT)),o("Queue force stopped.")},1e3*T.globals.FORCE_STOP_TIMEOUT)),h.push(i.stop().then(t=>(u.trace("Push#stopQueue","Queue stop resolve"),!r&&c.appendLocalisedInfo("queue_cancelled",e.id),t)).catch(e=>{u.trace("Push#stopQueue","Queue stop reject"),o(e)})),t&&(u.trace("Push#stopQueue","Adding force stop task"),h.push(this.service.stop())),Promise.all(h).then(e=>{u.trace("Push#stopQueue","Queue stop tasks complete"),clearTimeout(a),s(e[0])}).catch(e=>{u.trace("Push#stopQueue","Queue stop tasks failed"),clearTimeout(a),o(e)})}))}transfer(e,t){let r,n,i=[];if(void 0===e)throw new Error("No files defined.");if("put"===t)r="upload",n="uploaded",i=this.config.ignoreGlobs;else{if("get"!==t)throw new Error(`Unknown method "${t}"`);r="download",n="downloaded"}return Array.isArray(e)||(e=[e]),this.getFileLists(e,t).then(e=>{let s=[];if(this.service.settings.clear(),Array.isArray(e)||(e=[e]),e.forEach((o,a)=>{const u=a===e.length-1;this.paths.isValidScheme(o)&&("put"!==t||this.paths.fileExists(o)?s.push((e=>{let s,o;return!!(s=this.configWithServiceSettings(e))&&this.paths.filterUriByGlobs(e,i).then(i=>{if(!1!==i){if(o=this.service.execSync("convertUriToRemote",s,[i]),s)return this.queue([{method:t,actionTaken:n,uriContext:i,args:[i,o],id:o+this.paths.getNormalPath(i)}],u)}else c.appendLocalisedError("cannot_action_ignored_file",r,this.paths.getBaseName(e))})})(o)):c.appendLocalisedError("file_not_found",this.paths.getNormalPath(o)))}),s.length)return Promise.all(s)})}getFileLists(e,t){return n.window.withProgress({location:n.ProgressLocation.Window,title:"Push"},r=>(r.report({message:v.t("getting_file_lists")}),new Promise((r,n)=>{let i=[];e.forEach(e=>{if(this.paths.isDirectory(e))if("put"===t)i.push(this.getLocalDirectoryContents(e));else{if("get"!==t)throw new Error(`Invalid method "${t}"`);i.push(this.getRemoteDirectoryContents(e))}else i.push(e)}),Promise.all(i).then(e=>{r(s(e,e=>e))}).catch(n)})))}getLocalDirectoryContents(e){let t,r=[];return e=this.paths.getFileSrc(e),r=this.config.ignoreGlobs,t=this.configWithServiceSettings(e),this.paths.getDirectoryContentsAsFiles(e,r,t.service.followSymlinks).then(e=>(u.trace("Push#transferDirectory",`Found ${e.length} file(s) on local`),e.map(e=>n.Uri.file(e))))}getRemoteDirectoryContents(e){let t,r=[];return r=this.config.ignoreGlobs,t=this.configWithServiceSettings(e),e=this.service.execSync("convertUriToRemote",t,[e]),this.service.exec("listRecursiveFiles",t,[e,r]).then(e=>(u.trace("Push#getRemoteDirectoryContents","Found ${files.length} file(s) on remote"),e.map(e=>this.service.execSync("convertRemoteToUri",t,[e.pathName||e]))))}ensureSingleService(e){return new Promise((t,r)=>{this.paths.getDirectoryContentsAsFiles(`${this.paths.getNormalPath(e)}/**/${this.config.settingsFileGlob}`).then(n=>{n.length>1?r(new a(v.t("multiple_service_files_no_transfer"))):t(e)})})}getValidUri(){let e,t,r;if(e=[...arguments].find(e=>e instanceof n.Uri||Array.isArray(e)&&e.every(e=>e instanceof n.Uri)),t=Array.isArray(e)?e:[e],void 0===t[0]||!t.length)return Array.isArray(e)?[this.paths.getFileSrc()]:this.paths.getFileSrc();for(r=0;r<t.length;r+=1){if(t[r]=this.paths.getFileSrc(t[r]),null===t[r])return u.showError(v.t("invalid_path_anonymous")),!1;if(!this.paths.isValidPath(t[r]))return u.showError(v.t("invalid_path",t[r].scheme)),!1;if(!this.paths.isValidScheme(t[r]))return u.showError(v.t("invalid_uri_scheme",t[r].scheme)),!1}return e}}T.queueDefs={default:{id:"default",cancellable:!0},diff:{id:"diff",cancellable:!0},upload:{id:"upload",cancellable:!1}},T.globals={FORCE_STOP_TIMEOUT:5,ENV_TIMER_ID:"env-switch",VERSION_STORE:"Push:version"},T.contexts={hasUploadQueue:"hasUploadQueue",initialised:"initialised",activeEditorInUploadQueue:"activeEditorInUploadQueue",hasServiceContext:"hasServiceContext",showTitleMenuUpload:"showTitleMenuUpload"},e.exports=T},function(e,t){var r;t=e.exports=K,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,s=t.re=[],o=t.src=[],a=0,c=a++;o[c]="0|[1-9]\\d*";var u=a++;o[u]="[0-9]+";var h=a++;o[h]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=a++;o[l]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var f=a++;o[f]="("+o[u]+")\\.("+o[u]+")\\.("+o[u]+")";var p=a++;o[p]="(?:"+o[c]+"|"+o[h]+")";var d=a++;o[d]="(?:"+o[u]+"|"+o[h]+")";var g=a++;o[g]="(?:-("+o[p]+"(?:\\."+o[p]+")*))";var m=a++;o[m]="(?:-?("+o[d]+"(?:\\."+o[d]+")*))";var _=a++;o[_]="[0-9A-Za-z-]+";var y=a++;o[y]="(?:\\+("+o[_]+"(?:\\."+o[_]+")*))";var v=a++,E="v?"+o[l]+o[g]+"?"+o[y]+"?";o[v]="^"+E+"$";var w="[v=\\s]*"+o[f]+o[m]+"?"+o[y]+"?",b=a++;o[b]="^"+w+"$";var S=a++;o[S]="((?:<|>)?=?)";var T=a++;o[T]=o[u]+"|x|X|\\*";var A=a++;o[A]=o[c]+"|x|X|\\*";var k=a++;o[k]="[v=\\s]*("+o[A]+")(?:\\.("+o[A]+")(?:\\.("+o[A]+")(?:"+o[g]+")?"+o[y]+"?)?)?";var C=a++;o[C]="[v=\\s]*("+o[T]+")(?:\\.("+o[T]+")(?:\\.("+o[T]+")(?:"+o[m]+")?"+o[y]+"?)?)?";var R=a++;o[R]="^"+o[S]+"\\s*"+o[k]+"$";var O=a++;o[O]="^"+o[S]+"\\s*"+o[C]+"$";var x=a++;o[x]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var P=a++;o[P]="(?:~>?)";var N=a++;o[N]="(\\s*)"+o[P]+"\\s+",s[N]=new RegExp(o[N],"g");var L=a++;o[L]="^"+o[P]+o[k]+"$";var D=a++;o[D]="^"+o[P]+o[C]+"$";var U=a++;o[U]="(?:\\^)";var I=a++;o[I]="(\\s*)"+o[U]+"\\s+",s[I]=new RegExp(o[I],"g");var B=a++;o[B]="^"+o[U]+o[k]+"$";var M=a++;o[M]="^"+o[U]+o[C]+"$";var H=a++;o[H]="^"+o[S]+"\\s*("+w+")$|^$";var F=a++;o[F]="^"+o[S]+"\\s*("+E+")$|^$";var G=a++;o[G]="(\\s*)"+o[S]+"\\s*("+w+"|"+o[k]+")",s[G]=new RegExp(o[G],"g");var $=a++;o[$]="^\\s*("+o[k]+")\\s+-\\s+("+o[k]+")\\s*$";var W=a++;o[W]="^\\s*("+o[C]+")\\s+-\\s+("+o[C]+")\\s*$";var j=a++;o[j]="(<|>)?=?\\s*\\*";for(var q=0;q<35;q++)r(q,o[q]),s[q]||(s[q]=new RegExp(o[q]));function Y(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof K)return e;if("string"!=typeof e)return null;if(e.length>n)return null;if(!(t.loose?s[b]:s[v]).test(e))return null;try{return new K(e,t)}catch(e){return null}}function K(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof K){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof K))return new K(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?s[b]:s[v]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=Y,t.valid=function(e,t){var r=Y(e,t);return r?r.version:null},t.clean=function(e,t){var r=Y(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=K,K.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},K.prototype.toString=function(){return this.version},K.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof K||(e=new K(e,this.options)),this.compareMain(e)||this.comparePre(e)},K.prototype.compareMain=function(e){return e instanceof K||(e=new K(e,this.options)),V(this.major,e.major)||V(this.minor,e.minor)||V(this.patch,e.patch)},K.prototype.comparePre=function(e){if(e instanceof K||(e=new K(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return V(n,i)}while(++t)},K.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new K(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(J(e,t))return null;var r=Y(e),n=Y(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var s="prerelease"}for(var o in r)if(("major"===o||"minor"===o||"patch"===o)&&r[o]!==n[o])return i+o;return s},t.compareIdentifiers=V;var Q=/^[0-9]+$/;function V(e,t){var r=Q.test(e),n=Q.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function X(e,t,r){return new K(e,r).compare(new K(t,r))}function z(e,t,r){return X(e,t,r)>0}function Z(e,t,r){return X(e,t,r)<0}function J(e,t,r){return 0===X(e,t,r)}function ee(e,t,r){return 0!==X(e,t,r)}function te(e,t,r){return X(e,t,r)>=0}function re(e,t,r){return X(e,t,r)<=0}function ne(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return J(e,r,n);case"!=":return ee(e,r,n);case">":return z(e,r,n);case">=":return te(e,r,n);case"<":return Z(e,r,n);case"<=":return re(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ie(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ie){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ie))return new ie(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===se?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return V(t,e)},t.major=function(e,t){return new K(e,t).major},t.minor=function(e,t){return new K(e,t).minor},t.patch=function(e,t){return new K(e,t).patch},t.compare=X,t.compareLoose=function(e,t){return X(e,t,!0)},t.rcompare=function(e,t,r){return X(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compare(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.rcompare(e,n,r)}))},t.gt=z,t.lt=Z,t.eq=J,t.neq=ee,t.gte=te,t.lte=re,t.cmp=ne,t.Comparator=ie;var se={};function oe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof ie)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ae(e){return!e||"x"===e.toLowerCase()||"*"===e}function ce(e,t,r,n,i,s,o,a,c,u,h,l,f){return((t=ae(r)?"":ae(n)?">="+r+".0.0":ae(i)?">="+r+"."+n+".0":">="+t)+" "+(a=ae(c)?"":ae(u)?"<"+(+c+1)+".0.0":ae(h)?"<"+c+"."+(+u+1)+".0":l?"<="+c+"."+u+"."+h+"-"+l:"<="+a)).trim()}function ue(e,t,n){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(i=0;i<e.length;i++)if(r(e[i].semver),e[i].semver!==se&&e[i].semver.prerelease.length>0){var s=e[i].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}function he(e,t,r){try{t=new oe(t,r)}catch(e){return!1}return t.test(e)}function le(e,t,r,n){var i,s,o,a,c;switch(e=new K(e,n),t=new oe(t,n),r){case">":i=z,s=re,o=Z,a=">",c=">=";break;case"<":i=Z,s=te,o=z,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(he(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var h=t.set[u],l=null,f=null;if(h.forEach((function(e){e.semver===se&&(e=new ie(">=0.0.0")),l=l||e,f=f||e,i(e.semver,l.semver,n)?l=e:o(e.semver,f.semver,n)&&(f=e)})),l.operator===a||l.operator===c)return!1;if((!f.operator||f.operator===a)&&s(e,f.semver))return!1;if(f.operator===c&&o(e,f.semver))return!1}return!0}ie.prototype.parse=function(e){var t=this.options.loose?s[H]:s[F],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new K(r[2],this.options.loose):this.semver=se},ie.prototype.toString=function(){return this.value},ie.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===se||("string"==typeof e&&(e=new K(e,this.options)),ne(e,this.operator,this.semver,this.options))},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new oe(e.value,t),he(this.value,r,t);if(""===e.operator)return r=new oe(this.value,t),he(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),s=this.semver.version===e.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=ne(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=ne(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||i||s&&o||a||c},t.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?s[W]:s[$];e=e.replace(n,ce),r("hyphen replace",e),e=e.replace(s[G],"$1$2$3"),r("comparator trim",e,s[G]),e=(e=(e=e.replace(s[N],"$1~")).replace(s[I],"$1^")).split(/\s+/).join(" ");var i=t?s[H]:s[F],o=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?s[M]:s[B];return e.replace(n,(function(t,n,i,s,o){var a;return r("caret",e,t,n,i,s,o),ae(n)?a="":ae(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":ae(s)?a="0"===n?">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":">="+n+"."+i+".0 <"+(+n+1)+".0.0":o?(r("replaceCaret pr",o),a="0"===n?"0"===i?">="+n+"."+i+"."+s+"-"+o+" <"+n+"."+i+"."+(+s+1):">="+n+"."+i+"."+s+"-"+o+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+s+"-"+o+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===i?">="+n+"."+i+"."+s+" <"+n+"."+i+"."+(+s+1):">="+n+"."+i+"."+s+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+s+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?s[D]:s[L];return e.replace(n,(function(t,n,i,s,o){var a;return r("tilde",e,t,n,i,s,o),ae(n)?a="":ae(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":ae(s)?a=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":o?(r("replaceTilde pr",o),a=">="+n+"."+i+"."+s+"-"+o+" <"+n+"."+(+i+1)+".0"):a=">="+n+"."+i+"."+s+" <"+n+"."+(+i+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?s[O]:s[R];return e.replace(n,(function(t,n,i,s,o,a){r("xRange",e,t,n,i,s,o,a);var c=ae(i),u=c||ae(s),h=u||ae(o);return"="===n&&h&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&h?(u&&(s=0),o=0,">"===n?(n=">=",u?(i=+i+1,s=0,o=0):(s=+s+1,o=0)):"<="===n&&(n="<",u?i=+i+1:s=+s+1),t=n+i+"."+s+"."+o):u?t=">="+i+".0.0 <"+(+i+1)+".0.0":h&&(t=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(s[j],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(o=o.filter((function(e){return!!e.match(i)}))),o=o.map((function(e){return new ie(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new K(e,this.options));for(var t=0;t<this.set.length;t++)if(ue(this.set[t],e,this.options))return!0;return!1},t.satisfies=he,t.maxSatisfying=function(e,t,r){var n=null,i=null;try{var s=new oe(t,r)}catch(e){return null}return e.forEach((function(e){s.test(e)&&(n&&-1!==i.compare(e)||(i=new K(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,i=null;try{var s=new oe(t,r)}catch(e){return null}return e.forEach((function(e){s.test(e)&&(n&&1!==i.compare(e)||(i=new K(n=e,r)))})),n},t.minVersion=function(e,t){e=new oe(e,t);var r=new K("0.0.0");if(e.test(r))return r;if(r=new K("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n){e.set[n].forEach((function(e){var t=new K(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!z(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(r&&e.test(r))return r;return null},t.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return le(e,t,"<",r)},t.gtr=function(e,t,r){return le(e,t,">",r)},t.outside=le,t.prerelease=function(e,t){var r=Y(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new oe(e,r),t=new oe(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof K)return e;if("string"!=typeof e)return null;var t=e.match(s[x]);if(null==t)return null;return Y(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=[];return Array.isArray(e)?(e.forEach((function(e,i,s){var o=t.call(r,e,i,s);Array.isArray(o)?n.push.apply(n,o):null!=o&&n.push(o)})),n):n}},function(e){e.exports=JSON.parse('{"name":"push","displayName":"Push","description":"SFTP and File based uploading","version":"0.8.21","publisher":"njp-anderson","engines":{"vscode":"^1.30.0"},"license":"SEE LICENSE IN LICENSE","icon":"img/icon.png","keywords":["sftp","transfer","upload","sync","push"],"repository":{"type":"git","url":"https://github.com/njpanderson/push.git"},"categories":["Other"],"galleryBanner":{"color":"#305875","theme":"dark"},"activationEvents":["*"],"main":"./dist/extension","contributes":{"viewsContainers":{"activitybar":[{"id":"njp-push","title":"Push","icon":"resources/cloud.svg"}]},"views":{"njp-push":[{"id":"push.watchListExplorer","name":"Watched Files"},{"id":"push.uploadQueueExplorer","name":"Upload Queue","when":"config.njpPush.uploadQueue"}]},"configuration":{"type":"object","title":"Push","properties":{"njpPush.locale":{"type":"string","default":"en_gb","description":"Locale to use (See supported locales in the README)."},"njpPush.settingsFilename":{"type":"string","default":".push.settings.jsonc","description":"Defines the push settings JSON filename."},"njpPush.settingsFileGlob":{"type":"string","default":".push.settings.json*","description":"Defines the glob used to find push settings JSON files."},"njpPush.privateSSHKey":{"type":"string","default":"","description":"Defines the default SSH key file for SFTP."},"njpPush.privateSSHKeyPassphrase":{"type":"string","default":"","description":"Defines the default SSH key passphrase, if needed."},"njpPush.uploadQueue":{"type":"boolean","default":true,"description":"Enable the upload queue for deferred uploads on save."},"njpPush.ignoreGlobs":{"type":"array","default":["**/.DS_Store","**/Thumbs.db","**/desktop.ini","**/.git/*","**/.svn/*"],"description":"An array of regular expressions to match against ignored paths."},"njpPush.queueCompleteMessageType":{"type":"string","default":"status","description":"How to notify once a queue is completed. Choose \'status\' or popup \'message\'."},"njpPush.statusMessageColor":{"type":"string","default":"statusBar.foreground","description":"Set the colour of a status message (except progress). See https://code.visualstudio.com/docs/getstarted/theme-color-reference"},"njpPush.queueWatchedFiles":{"type":"boolean","default":false,"description":"Set true to queue watched files on change instead of uploading them."},"njpPush.persistWatchers":{"type":"boolean","default":false,"description":"Set true to persist watchers across sessions of vscode."},"njpPush.autoUploadQueue":{"type":"boolean","default":false,"description":"Set true to automatically upload files that enter the queue. This allows for changes within VS Code to be upload on save, while not uploading changes from outside VS Code (like a watcher would)."},"njpPush.useEnvLabel":{"type":"boolean","default":true,"description":"Set true to show the currently active environment for the opened editor in the status bar."},"njpPush.envColours":{"type":"object","default":{"dev":"#62defd","stage":"#ffd08a","prod":"#f7ed00"},"description":"Defines the colours for specific environment names within the service settings file. The colour names as well as their values can be customised, and matching names will be coloured accordingly."},"njpPush.showChangelog":{"type":"boolean","default":true,"description":"Shows a changelog if Push upgrades either its minor or major version."},"njpPush.showTitleMenuUpload":{"type":"boolean","default":true,"description":"Show an upload button on the title menu."},"njpPush.limitServiceTraversal":{"type":"boolean","default":true,"description":"Limits how far Push will traverse before giving up when looking for a service settings file. If enabled, Push will stop at the workspace root (or a hard limit of 50 ancestors)."},"njpPush.disableWatchOnEnvChange":{"type":"boolean","default":true,"description":"Automatically disables any watchers when the active environment is changed."},"njpPush.envReminderTimeout":{"type":"number","default":30,"description":"Defines in seconds how long Push will wait before producing a reminder for the active environment during transfers."}}},"commands":[{"command":"push.createServiceConfig","title":"Create Push service configuration","category":"Push"},{"command":"push.editServiceConfig","title":"Edit Push service configuration","category":"Push"},{"command":"push.importConfig","title":"Import Push service configuration","category":"Push"},{"command":"push.setServiceEnv","title":"Set service environment for current file","category":"Push"},{"command":"push.upload","title":"Upload File(s)","category":"Push","icon":{"dark":"resources/dark/data-transfer-upload.svg","light":"resources/light/data-transfer-upload.svg"}},{"command":"push.download","title":"Download File(s)","category":"Push"},{"command":"push.uploadFolder","title":"Upload Folder(s)","category":"Push"},{"command":"push.downloadFolder","title":"Download Folder(s)","category":"Push"},{"command":"push.diff","title":"Compare with remote file","category":"Push"},{"command":"push.uploadQueuedItems","title":"Upload queued files","category":"Push","icon":{"dark":"resources/dark/repo-push.svg","light":"resources/light/repo-push.svg"}},{"command":"push.removeQueuedItem","title":"Remove file from queue","category":"Push"},{"command":"push.clearUploadQueue","title":"Remove all files from Push queue","category":"Push","icon":{"dark":"resources/dark/trashcan.svg","light":"resources/light/trashcan.svg"}},{"command":"push.queueGitChangedFiles","title":"Queue all Git working files","category":"Push"},{"command":"push.uploadGitChangedFiles","title":"Upload all Git working files","category":"Push"},{"command":"push.queueGitCommit","title":"Queue files from a Git commit","category":"Push"},{"command":"push.uploadGitCommit","title":"Upload files from a Git commit","category":"Push"},{"command":"push.cancelQueues","title":"Cancel active queue","category":"Push"},{"command":"push.stopQueues","title":"Stop active transfer and cancel active queue","category":"Push"},{"command":"push.addWatchFile","title":"Watch file with Push","category":"Push"},{"command":"push.removeWatchFile","title":"Stop watching file with Push","category":"Push"},{"command":"push.addWatchFolder","title":"Watch folder with Push","category":"Push"},{"command":"push.removeWatchFolder","title":"Stop watching folder with Push","category":"Push"},{"command":"push.startWatch","title":"Start all Push watch lists","category":"Push","icon":{"dark":"resources/dark/radio-tower.svg","light":"resources/light/radio-tower.svg"}},{"command":"push.stopWatch","title":"Stop all Push watch lists","category":"Push","icon":{"dark":"resources/dark/x.svg","light":"resources/light/x.svg"}},{"command":"push.listWatchers","title":"List active Push watchers","category":"Push"},{"command":"push.clearWatchers","title":"Clear all Push watchers","category":"Push","icon":{"dark":"resources/dark/trashcan.svg","light":"resources/light/trashcan.svg"}},{"command":"push.purgeStoredWatchers","title":"Purge all stored watchers (and clear current list)","category":"Push"}],"menus":{"explorer/context":[{"when":"push:initialised","command":"push.createServiceConfig","group":"njp-push-config@1"},{"when":"push:initialised","command":"push.editServiceConfig","group":"njp-push-config@1"},{"when":"push:initialised","command":"push.importConfig","group":"njp-push-config@1"},{"when":"push:initialised && !explorerResourceIsFolder","command":"push.upload","group":"njp-push@2"},{"when":"push:initialised && !explorerResourceIsFolder","command":"push.download","group":"njp-push@3"},{"when":"push:initialised && !explorerResourceIsFolder","command":"push.diff","group":"njp-push@4"},{"when":"push:initialised && explorerResourceIsFolder","command":"push.uploadFolder","group":"njp-push@5"},{"when":"push:initialised && explorerResourceIsFolder","command":"push.downloadFolder","group":"njp-push@6"},{"when":"push:initialised && !explorerResourceIsFolder","command":"push.addWatchFile","group":"njp-push-watch@7"},{"when":"push:initialised && !explorerResourceIsFolder","command":"push.removeWatchFile","group":"njp-push-watch@8"},{"when":"push:initialised && explorerResourceIsFolder","command":"push.addWatchFolder","group":"njp-push-watch@7"},{"when":"push:initialised && explorerResourceIsFolder","command":"push.removeWatchFolder","group":"njp-push-watch@8"}],"editor/title":[{"when":"push:initialised && push:showTitleMenuUpload && push:hasServiceContext","command":"push.upload","group":"navigation"}],"editor/title/context":[{"when":"push:initialised && !explorerResourceIsFolder","command":"push.upload","group":"njp-push@1"},{"when":"push:initialised && !explorerResourceIsFolder","command":"push.download","group":"njp-push@2"},{"when":"push:initialised && !explorerResourceIsFolder","command":"push.diff","group":"njp-push@3"},{"when":"push:initialised && !explorerResourceIsFolder","command":"push.addWatchFile","group":"njp-push-watch@7"},{"when":"push:initialised && !explorerResourceIsFolder","command":"push.removeWatchFile","group":"njp-push-watch@8"}],"editor/context":[{"when":"push:initialised && push:hasServiceContext","command":"push.upload","group":"njp-push@1"},{"when":"push:initialised && push:hasServiceContext","command":"push.download","group":"njp-push@2"},{"when":"push:initialised && push:hasServiceContext","command":"push.diff","group":"njp-push@3"},{"when":"push:initialised && push:hasServiceContext","command":"push.addWatchFile","group":"njp-push-watch@7"},{"when":"push:initialised && push:hasServiceContext","command":"push.removeWatchFile","group":"njp-push-watch@8"}],"commandPalette":[{"command":"push.editServiceConfig","when":"push:hasServiceContext"},{"command":"push.setServiceEnv","when":"editorIsOpen && push:hasServiceContext"},{"command":"push.upload","when":"push:hasServiceContext"},{"command":"push.uploadFolder","when":"false"},{"command":"push.download","when":"push:hasServiceContext"},{"command":"push.downloadFolder","when":"false"},{"command":"push.diff","when":"push:hasServiceContext"},{"command":"push.addWatchFolder","when":"false"},{"command":"push.removeWatchFolder","when":"false"},{"command":"push.cancelQueues","when":"push:initialised && push:queue-default-running"},{"command":"push.stopQueues","when":"push:initialised && push:queue-default-running"},{"command":"push.stopWatch","when":"push:initialised && push:hasRunningWatchers"},{"command":"push.startWatch","when":"push:initialised && push:hasStoppedWatchers"},{"command":"push.clearWatchers","when":"push:initialised && push:hasWatchers"},{"command":"push.uploadQueuedItems","when":"push:hasUploadQueue && push:hasServiceContext"},{"command":"push.clearUploadQueue","when":"push:hasUploadQueue && push:hasServiceContext"},{"command":"push.removeQueuedItem","when":"push:hasUploadQueue && push:activeEditorInUploadQueue && push:hasServiceContext"},{"command":"push.queueGitChangedFiles","when":"push:hasUploadQueue && push:hasServiceContext"},{"command":"push.uploadGitChangedFiles","when":"push:hasServiceContext"},{"command":"push.removeWatchFile","when":"push:hasServiceContext"},{"command":"push.addWatchFile","when":"push:hasServiceContext"},{"command":"push.uploadGitCommit","when":"push:hasServiceContext"},{"command":"push.queueGitCommit","when":"push:hasUploadQueue && push:hasServiceContext"}],"view/title":[{"command":"push.stopWatch","when":"view == push.watchListExplorer && push:initialised && push:hasRunningWatchers","group":"navigation@1"},{"command":"push.startWatch","when":"view == push.watchListExplorer && push:initialised && push:hasStoppedWatchers","group":"navigation@2"},{"command":"push.clearWatchers","when":"view == push.watchListExplorer && push:hasWatchers","group":"navigation@3"},{"command":"push.uploadQueuedItems","when":"view == push.uploadQueueExplorer && push:initialised && push:hasUploadQueue && push:queue-upload-itemCount","group":"navigation@1"},{"command":"push.clearUploadQueue","when":"view == push.uploadQueueExplorer && push:initialised && push:hasUploadQueue && push:queue-upload-itemCount","group":"navigation@2"}],"view/item/context":[{"command":"push.removeWatchFile","when":"viewItem == watch:file"},{"command":"push.removeWatchFolder","when":"viewItem == watch:folder"},{"command":"push.removeQueuedItem","when":"viewItem == uploadQueue:file"}]},"keybindings":[{"command":"push.upload","key":"ctrl+alt+u","mac":"cmd+ctrl+u","when":"editorTextFocus"},{"command":"push.download","key":"ctrl+alt+l","mac":"cmd+ctrl+l","when":"editorTextFocus"},{"command":"push.uploadQueuedItems","key":"ctrl+alt+p","mac":"cmd+ctrl+p"}]},"scripts":{"postinstall":"node ./node_modules/vscode/bin/install","t":"mocha --reporter dot","tc":"istanbul cover --root ./src --dir ./coverage _mocha","test":"./node_modules/mocha/bin/mocha","docs":"jsdoc -c .ide/jsdoc.json && node .ide/package-docs.js","publish":"npm run t && vsce publish","vsce":"vsce","vscode:prepublish":"webpack --mode production","compile":"webpack --mode none","analyse":"webpack --mode production --config webpack.analyse.config.js","watch":"webpack --mode none --watch"},"devDependencies":{"@types/mocha":"^5.2.7","@types/node":"^13.1.1","chai":"^4.2.0","eslint":"^6.8.0","istanbul":"^0.4.5","jsdoc":"^3.6.3","mocha":"^6.2.2","moment-locales-webpack-plugin":"^1.1.2","typescript":"^3.7.4","vsce":"^1.73.0","vscode":"^1.1.36","webpack":"^4.41.5","webpack-bundle-analyzer":"^3.6.0","webpack-cli":"^3.3.10"},"dependencies":{"dateformat":"^3.0.3","flatmap":"0.0.3","glob":"^7.1.6","ini":"^1.3.5","jsonc-parser":"^2.2.0","micromatch":"^4.0.2","mkdirp":"^0.5.1","mockery":"^2.1.0","moment":"^2.24.0","semver":"^5.6.0","simple-git":"^1.129.0","ssh2-sftp-client":"^4.3.1","tmp":"^0.1.0","url-parse":"^1.4.7"}}')},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){var n={"./it":42,"./it.js":42,"./ja":43,"./ja.js":43};function i(e){var t=s(e);return r(t)}function s(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id=83},function(e,t){e.exports={uniqArray:function(e){return e.filter((e,t,r)=>r.indexOf(e)===t)}}},function(e,t){t.parse=t.decode=function(e){var t={},r=t,i=null,s=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i;return e.split(/[\r\n]+/g).forEach((function(e,n,a){if(e&&!e.match(/^\s*[;#]/)){var c=e.match(s);if(c){if(void 0!==c[1])return i=o(c[1]),void(r=t[i]=t[i]||{});var u=o(c[2]),h=!c[3]||o(c[4]);switch(h){case"true":case"false":case"null":h=JSON.parse(h)}u.length>2&&"[]"===u.slice(-2)&&(u=u.substring(0,u.length-2),r[u]?Array.isArray(r[u])||(r[u]=[r[u]]):r[u]=[]),Array.isArray(r[u])?r[u].push(h):r[u]=h}}})),Object.keys(t).filter((function(e,r,i){if(!t[e]||"object"!=typeof t[e]||Array.isArray(t[e]))return!1;var s=n(e),o=t,a=s.pop(),c=a.replace(/\\\./g,".");return s.forEach((function(e,t,r){o[e]&&"object"==typeof o[e]||(o[e]={}),o=o[e]})),(o!==t||c!==a)&&(o[c]=t[e],!0)})).forEach((function(e,r,n){delete t[e]})),t},t.stringify=t.encode=function e(t,i){var o=[],a="";"string"==typeof i?i={section:i,whitespace:!1}:(i=i||{}).whitespace=!0===i.whitespace;var c=i.whitespace?" = ":"=";Object.keys(t).forEach((function(e,n,i){var u=t[e];u&&Array.isArray(u)?u.forEach((function(t){a+=s(e+"[]")+c+s(t)+"\n"})):u&&"object"==typeof u?o.push(e):a+=s(e)+c+s(u)+r})),i.section&&a.length&&(a="["+s(i.section)+"]"+r+a);return o.forEach((function(s,o,c){var u=n(s).join("\\."),h=(i.section?i.section+".":"")+u,l=e(t[s],{section:h,whitespace:i.whitespace});a.length&&l.length&&(a+=r),a+=l})),a},t.safe=s,t.unsafe=o;var r="undefined"!=typeof process&&"win32"===process.platform?"\r\n":"\n";function n(e){return e.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map((function(e){return e.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")}))}function i(e){return'"'===e.charAt(0)&&'"'===e.slice(-1)||"'"===e.charAt(0)&&"'"===e.slice(-1)}function s(e){return"string"!=typeof e||e.match(/[=\r\n]/)||e.match(/^\[/)||e.length>1&&i(e)||e!==e.trim()?JSON.stringify(e):e.replace(/;/g,"\\;").replace(/#/g,"\\#")}function o(e,t){if(!i(e=(e||"").trim())){for(var r=!1,n="",s=0,o=e.length;s<o;s++){var a=e.charAt(s);if(r)-1!=="\\;#".indexOf(a)?n+=a:n+="\\"+a,r=!1;else{if(-1!==";#".indexOf(a))break;"\\"===a?r=!0:n+=a}}return r&&(n+="\\"),n.trim()}"'"===e.charAt(0)&&(e=e.substr(1,e.length-2));try{e=JSON.parse(e)}catch(e){}return e}},function(e,t){e.exports={date_format_short:"yy-m-d",today:"Today",yesterday:"Yesterday",comm_push_settings1:"Push settings file - first generated on ${1}.",comm_push_settings2:"Note: Optional items are commented out and can be uncommented if you wish to set them.",comm_push_settings3:"Preset environments are: prod, dev, stage. Custom environments (and their colours) can be created in settings.",comm_add_service_config:"Add service configuration here...",comm_settings_imported:"Settings imported from ${1}\n",no_locale:'The Push language "${1}" does not exist. Push will use English (British) for now. Please see the README for a full list of supported languages.',upload_queue_disabled:"Upload queue is disabled. Please check workspace your current settings for njpPush.uploadQueue.",upload_queue_cleared:"Upload queue cleared",select_workspace_root:"Select a workspace root path:",running_tasks_in_queue:"Running ${1} p{1:task:tasks} in queue...",processing:"Processing (${1}/${2})",processing_with_state:"Processing ${1} (${2}/${3})",queue_empty:"Queue is empty.",queue_running:"Queue is running.",stopping_queue:"Stopping queue...",queue_complete:"Queue complete.",queue_items_fail:"${1} p{1:item:items} failed.",queue_items_skip:"${1} p{1:item:items} skipped.",queue_items_success:"${1} p{1:item:items} ${2}.",cancel:"Cancel",enter_service_settings_filename:"Enter a filename for the service settings file:",empty:"Empty",empty_template:"Empty template",select_service_type_template:"Select a service type template.",filename_exists:'The file "${1}" already exists and appears to be newer.',filename_exists_ignore_times:'The file "${1}" already exists.',filename_exists_mismatch:'The file "${1}" already exists and is of a different type.',skip:"Skip",stop:"Stop",skip_transferring_default:"Skip the file (default)",stop_transfer_empty_queue:"Stop transfer and empty current queue",overwrite:"Overwrite",replace_target_with_source:"Replace the target file with the source file",rename:"Rename",keep_both_files_by_rename:"Keep both files by renaming the source file",skip_all:"Skip all",skip_transferring_all_existing:"Skip all existing files",overwrite_all:"Overwrite all",replace_all_existing:"Replace all existing files",rename_all:"Rename all",keep_all_existing_by_renaming_all:"Keep all existing files by renaming all source files",transfer_cancelled:"Transfer cancelled",no_service_file:'A settings file could not be found within your project. Have you created a file matching "${1}" yet?',service_not_defined:'A transfer service was not defined within the settings file at "${1}".',service_out_of_workspace:"The service file was found outside of the current workspace (${1}). The remote root path will be based on the location of this file. Do you want to continue?",service_defined_but_no_config_exists:'A transfer service was defined but no configuration could be found within the file at "${1}".',active_service_not_found:'The active service "${1}" could not be found within the settings file at "${2}"',no_service_env:'The service file at "${1}" isn’t configured for environments. Please see the README on configuring services for multiple environments.',single_env:'The service file at "${1}" only contains one environment (${2}). It cannot be switched.',multiple_service_files_no_transfer:"More than one service settings file was found within the selected directory. The transfer could not be completed.",service_name_invalid:'The service name "${1}" within settings file "${2}" does not Exist. Please choose a valid service name.',service_setting_missing:'The service file at "${1}" for the "${2}" environment is missing the required ${3} option: "${4}". Push cannot continue without this setting.',cannot_action_ignored_file:'Cannot ${1} file "${2}" - It matches one of the defined ignoreGlobs filters.',no_import_file:"Config file not specified. Please either run this command from within a configuration file or from the explorer context menu.",import_file_not_supported:"Configuration file format is not supported. Currently, only the Sublime SFTP format is supported.",settings_file_exists:"A settings file already exists in this location. Do you want to overwrite it?",requesting_password:"Requesting password... (note, passwords can be saved in the service settings file to avoid this prompt).",added_watch_for:"Added watch for ${1}",removed_watch_for:"Removed watch for ${1}",cleared_all_watchers:"Cleared all watchers.",purged_all_watchers:"Purged all watchers from storage.",watched_paths:"Watched paths:",path_with_trigger_count:"${1} (fired ${2} p{2:time:times})",no_paths_watched:"No paths watched.",directory_out_of_root_no_create:'The directory "${1}" is not within the root path and cannot be created.',directory_not_created_remote_mismatch:'Directory "${1}" could not be created (a file with the same name exists on the remote!)',file_class_description:"Local/network file transfers",file_not_found:'The file "${1}" could not be found.',remote_file_not_found:'Remote file "${1}" could not be found.',sftp_class_description:"SFTP/SSH File transfers",sftp_could_not_connect_server:"Could not connect to server host ${1}:${2}",sftp_client_connected:"SFTP client connected to host ${1}:${2}",sftp_client_connected_gateway:"SFTP client connected to host ${1}:${2} via gateway ${3}:${4}",service_missing_root:'Push could not find or access the root path. Please check the "${1}" settings file.',sftp_disconnected:"SFTP client disconnected from host ${1}:${2}",sftp_enter_ssh_pass:"Enter SSH password (will not be saved)",stopping:"Stopping...",queue_force_stopped:"Queue ${1} task force stopped after ${2} p{2:second:seconds}.",queue_cancelled:"Queue ${1} cancelled",num_to_upload:"${1} p{1:item:items} to upload",items_queued_for_upload:"Items queued for upload:",no_current_upload_queue:"No current upload queue items",key_file_not_found:'The private key file "${1}" could not be found. Does it exist in this location? Remember — shell path shortcuts like "~" cannot be used.',key_file_not_working:'The private key file at "${1}" did not authenticate the user ${2}. Are you sure this is the correct key file and it has been given access?',not_a_git_repo:'The current working directory "${1}" does not contain a Git repository.',stream_read:'Stream IO read error for file "${1}". Error: ${2}',stream_write:'Stream IO write error for file "${1}". Error: ${2}',cannot_list_directory:'Directory "${1}" cannot be listed: ${2}',could_not_load_gateway_key:'Could not load a private key file on the gateway at "${1}". Server error was: ${2}',error_from_gateway:'Error occured on SSH gateway: "${1}"',invalid_uri_scheme:'Sorry, the filesystem scheme "${1}" is not supported. Push cannot work on files of this type.',invalid_path:'The path "${1}" does not appear to be valid and has been skipped.',invalid_path_anonymous:"The unknown path does not appear to be valid and has been skipped.",no_servicefile_context:'A folder/path context for creating a service file could not be found. Please either open a workspace or select "Create/edit Push configuration" from a folder or open file.',env_tooltip:'The "${1}" environment is active for the currently open file.',select_env:"Select an environment to activate",error_writing_json:'There was an error writing to the service JSON file. Error: "${1}".',no_error:"No error message.",dir_read_error:'The directory "${1}" could not be read.',dir_read_error_with_error:'The directory "${1}" could not be read. The full error was: "${2}".',push_upgraded:"Push has been upgraded to version ${1}.",show_changelog:"Show Changelog",no_host_defined:"(No host defined)",commit_no_files:"The selected commit (${1}) did not contain any uploadable files.",commit_no_files_with_ignore:"The selected commit (${1}) did not contain any uploadable files. (${2} p{2:file:files} ignored.)",server_v_local:"Server vs. Local",continue:"Continue",service_inactive:'The environment "${1}" has not yet transferred in this session. Should Push continue this transfer?',service_inactive_x_seconds:'The environment "${1}" has been inactive since ${2}. Should Push continue this transfer?',getting_file_lists:"Getting file lists..."}},function(e,t){e.exports={comm_push_settings1:"File delle impostazioni push - generato il ${1}\n",comm_push_settings2:"Nota: i commenti sono supportati nei file di impostazioni Push\n",comm_push_settings3:"Le etichette di ambiente predefinite sono: prod, dev, stage. Gli ambienti personalizzati (e i loro colori) possono essere creati nelle impostazioni.",comm_add_service_config:"Aggiungi la configurazione del servizio qui ...",comm_settings_imported:"Impostazioni importate da ${1}\n",upload_queue_disabled:"La coda di caricamento è disabilitata - controlla le impostazioni dell’area di lavoro.",upload_queue_cleared:"La coda di caricamento è stata cancellata",select_workspace_root:"Seleziona un percorso root dell’area di lavoro:",running_tasks_in_queue:"Esecuzione di ${1} attività in coda ...",processing:"in lavorazione (${1}/${2})",processing_with_state:"Elaborazione ${1} (${2}/${3})",queue_empty:"La coda è vuota.",queue_running:"La coda è in esecuzione.",stopping_queue:"Arresto della coda ...",queue_complete:"Coda completa.",queue_items_fail:"${1} p{1:elemento non riuscito.:articoli falliti.}",queue_items_skip:"${1} p{1:oggetto:articoli} omettere.",queue_items_success:"${1} p{1:oggetto:articoli} ${2}.",overwrite:"Sovrascrivere",cancel:"Annulla",enter_service_settings_filename:"Immettere un nome file per il file delle impostazioni del servizio:",empty:"Vuoto",empty_template:"Modello vuoto",select_service_type_template:"Seleziona un modello di tipo di servizio.",filename_exists:'Il file "${1}" esiste già.',filename_exists_ignore_times:'Il file "$ {1}" esiste già e sembra essere più recente.',filename_exists_mismatch:'Il file "${1}" esiste già ed è di un tipo diverso.',skip:"Trascurare",stop:"Fermare",skip_uploading_default:"Salta il caricamento del file (predefinito)",stop_transfer_empty_queue:"Interrompere il trasferimento e svuotare la coda corrente",replace_target_with_source:"Sostituisci il file di destinazione con il file sorgente",rename:"Rinominare",keep_both_files_by_rename:"Mantieni entrambi i file rinominando il file sorgente",skip_all:"Salta tutto",skip_uploading_all_existing:"Salta il caricamento di tutti i file esistenti",overwrite_all:"Sovrascrivere tutto",replace_all_existing:"Sostituisci tutti i file esistenti",rename_all:"Rinominare tutto",keep_all_existing_by_renaming_all:"Conserva tutti i file esistenti rinominando tutti i file sorgente",transfer_cancelled:"Trasferimento annullato",no_service_file:'Non è stato possibile trovare un file di impostazioni nel tuo progetto. Hai già creato un file con il nome "${1}"?',service_not_defined:'Un servizio di trasferimento non è stato definito all’interno del file delle impostazioni in "${1}".',multiple_service_files_no_transfer:"Più di un file di impostazioni del servizio è stato trovato all’interno della directory selezionata. Il trasferimento non può essere completato.",service_setting_missing:'Il file di servizio in "${1}" per l\'ambiente "${2}" manca l\'opzione ${3} richiesta: "${4}". Push non può continuare senza questa impostazione.',cannot_action_ignored_file:'Impossibile ${1} il file "${2}" - Corrisponde a uno dei filtri ignoreGlobs definiti.',no_import_file:"File di configurazione non specificato. Si prega di eseguire questo comando da un file di configurazione o dal menu di scelta rapida di Explorer.",import_file_not_supported:"Il formato del file di configurazione non è supportato. Attualmente, è supportato solo il formato SFTP Sublime.",settings_file_exists:"Un file di impostazioni esiste già in questa posizione. Vuoi sovrascriverlo?",requesting_password:"Richiesta di password ... (nota, le password possono essere salvate nel file delle impostazioni del servizio per evitare questo prompt).",added_watch_for:"Aggiunto orologio per ${1}",removed_watch_for:"Orologio rimosso per ${1}",cleared_all_watchers:"Hai cancellato tutti gli osservatori.",watched_paths:"Percorsi osservati:",path_with_trigger_count:"${1} (sparato ${2} p{2:volta:volte})",no_paths_watched:"Nessun percorso osservato.",directory_out_of_root_no_create:'La directory "${1}" non si trova nel percorso principale e non può essere creata.',directory_not_created_remote_mismatch:'Impossibile creare la directory "${1}" (esiste un file con lo stesso nome sul telecomando!)',file_class_description:"Trasferimenti di file locali / di rete",remote_file_not_found:'Il file remoto "${1}" non esiste.',sftp_class_description:"Trasferimenti di file SFTP / SSH",sftp_could_not_connect_server:"Impossibile connettersi all’host ${1}:${2} del server",sftp_client_connected:"Client SFTP connesso all’host ${1}:${2}",service_missing_root:'Push non ha potuto trovare o accedere al percorso root. Controllare il file delle impostazioni "${1}".',sftp_disconnected:"Client SFTP disconnesso dall’host ${1}:${2}",sftp_enter_ssh_pass:"Inserisci la password SSH (non verrà mantenuta)",stopping:"Arresto ...",queue_force_stopped:"La task force della coda ${1} si è arrestata dopo ${2} p{2:secondo:secondi}",queue_cancelled:"Coda ${1} annullata",num_to_upload:"${1} p{1:oggetto:elementi} da caricare",items_queued_for_upload:"Elementi in coda per il caricamento:",no_current_upload_queue:"Nessun elemento di coda di caricamento corrente",key_file_not_found:'Non è stato possibile trovare il file di chiave privata "${1}". Esiste in questa posizione? Ricorda: le scorciatoie del percorso della shell come "~" non possono essere utilizzate.',key_file_not_working:'Il file della chiave privata in "${1}" non ha autenticato l’utente ${2}. Sei sicuro che questo sia il file chiave corretto e gli è stato dato l\'accesso?',not_a_git_repo:'La directory di lavoro corrente "${1}" non contiene un repository Git.',stream_read:'Errore di lettura IO dello stream per il file "${1}". Errore: {2}',stream_write:'Errore di scrittura IO del flusso per il file "${1}". Errore: ${2}',cannot_list_directory:'La directory "${1}" non può essere elencata: ${2}',could_not_load_gateway_key:'Impossibile caricare un file di chiave privata sul gateway in "${1}". Errore del server: ${2}',error_from_gateway:'Errore occorso sul gateway SSH: "${1}"',invalid_uri_scheme:'Siamo spiacenti, lo schema del filesystem "${1}" non è supportato. Push non può funzionare su file di questo tipo.',invalid_path:'Il file "${1}" non sembra essere valido ed è stato saltato.',invalid_path_anonymous:"Il file sconosciuto non sembra valido ed è stato saltato.",no_servicefile_context:'Non è stato possibile trovare un contesto cartella / percorso per la creazione di un file di servizio. Si prega di aprire uno spazio di lavoro o selezionare "Crea / modifica configurazione Push" da una cartella o aprire il file.',env_tooltip:'L\'ambiente "${1}" è attivo per il file attualmente aperto.',select_env:"Seleziona un ambiente da attivare",error_writing_json:'Si è verificato un errore durante la scrittura nel file JSON del servizio. Errore: "${1}".',no_error:"Nessun messaggio di errore.",dir_read_error:'La directory "${1}" non può essere letta.',dir_read_error_with_error:'La directory "$ {1}" non può essere letta. L\'errore completo era: "${2}".',push_upgraded:"Push è stato aggiornato alla versione ${1}.",show_changelog:"Mostra registro modifiche",no_host_defined:"(Nessun host definito)",commit_no_files:"Il commit selezionato (${1}) non conteneva file caricabili.",commit_no_files_with_ignore:"Il commit selezionato (${1}) non conteneva file caricabili. (${2} file ignorati.)",server_v_local:"Server contro locale",continue:"Continuare",service_inactive_x_seconds:"L'ambiente ${1}\" è stato inattivo per ${2} p{2:secondo: secondi}. Push dovrebbe continuare questo trasferimento?",service_inactive:'L\'ambiente "${1}" non è stato ancora trasferito in questa sessione. Push dovrebbe continuare questo trasferimento?'}},function(e,t){e.exports={comm_push_settings1:"プッシュ設定ファイルは${1}に生成されました",comm_push_settings2:"注：コメントはプッシュ設定ファイルでサポートされています",comm_push_settings3:"プリセット環境ラベルは、prod、dev、stageです。 カスタム環境（およびその色）を設定で作成できます。",comm_add_service_config:"ここにサービス設定を追加...",comm_settings_imported:"${1}からインポートされた設定\n",upload_queue_disabled:"アップロードキューが無効です - ワークスペースの設定を確認してください。",upload_queue_cleared:"アップロードキューがクリアされました",select_workspace_root:"ワークスペースのルートディレクトリを選択します。",running_tasks_in_queue:"キューで${1}つのタスクを実行中...",processing:"処理(${1}/${2})",processing_with_state:"処理${1}(${2}/${3})",queue_empty:"キューは空です。",queue_running:"キューは操作可能です。",stopping_queue:"キューを停止しています...",queue_complete:"キューが完了しました。",queue_items_fail:"${1}p{1:項目:件}が失敗しました。",queue_items_skip:"${1} p{1:項目:件}合格者。",queue_items_success:"${1}p{1:項目:件}${2}。",cancel:"キャンセル",enter_service_settings_filename:"サービス設定ファイルのファイル名を入力します。",empty:"空の",empty_template:"空のテンプレート",select_service_type_template:"サービスタイプテンプレートを選択します。",filename_exists:'ファイル"${1}"は既に存在します。',filename_exists_ignore_times:'ファイル"${1}"はすでに存在します。',filename_exists_mismatch:'ファイル"${1}"はすでに存在し、異なるタイプです。',skip:"パス",stop:"やめる",skip_uploading_default:"ファイルのアップロードを渡す（デフォルト）",stop_transfer_empty_queue:"転送を停止し、現在のキューを空にする",overwrite:"上書き",replace_target_with_source:"ターゲットファイルをソースファイルに置き換えます。",rename:"名前を変更する",keep_both_files_by_rename:"ソースファイルの名前を変更して両方のファイルを保持する",skip_all:"すべてを渡す",skip_uploading_all_existing:"既存のファイルをすべてアップロードする",overwrite_all:"すべてを上書きする",replace_all_existing:"既存のファイルをすべて置換する",rename_all:"すべての名前を変更する",keep_all_existing_by_renaming_all:"すべてのソースファイルの名前を変更して、既存のファイルをすべて残します",transfer_cancelled:"転送がキャンセルされた",no_service_file:'プロジェクト内で設定ファイルが見つかりませんでした。 "${1}"という名前のファイルを作成しましたか？',service_not_defined:'転送ファイルが設定ファイル内で "${1}"に定義されていませんでした。',multiple_service_files_no_transfer:"選択したディレクトリ内に複数のサービス設定ファイルが見つかりました。 転送が完了できませんでした。",service_setting_missing:'"${2}"環境の "${1}"のサービスファイルに、必要な${3}オプション "${4}"がありません。 Pushはこの設定を行わないと続行できません。',cannot_action_ignored_file:"ファイルを${1}できません${2} - 定義されたignoreGlobsフィルターの1つと一致します。",no_import_file:"設定ファイルが指定されていません。 このコマンドは、設定ファイルまたはエクスプローラのコンテキストメニューから実行してください。",import_file_not_supported:"構成ファイル形式はサポートされていません。 現在、Sublime SFTP形式のみがサポートされています。",settings_file_exists:"この場所には設定ファイルが既に存在します。 上書きしますか？",requesting_password:"パスワードを要求しています（このプロンプトを避けるために、パスワードはサービス設定ファイルに保存できます）。",added_watch_for:"${1}の時計を追加しました",removed_watch_for:"${1}の時計を削除しました",cleared_all_watchers:"すべてのウォッチャーをクリアしました。",watched_paths:"監視対象パス：",path_with_trigger_count:"${1}（${2}回p{2:発砲:点火}）",no_paths_watched:"パスは監視されませんでした。",directory_out_of_root_no_create:'ディレクトリ "${1}"はルートパスに含まれていないため作成できません。',directory_not_created_remote_mismatch:"ディレクトリ${1}を作成できませんでした（同じ名前のファイルがリモートに存在します）。",file_class_description:"ローカル/ネットワークファイル転送",remote_file_not_found:"リモートファイル${1}は存在しません。",sftp_class_description:"SFTP / SSHファイル転送",sftp_could_not_connect_server:"サーバーホスト${1}:${2}に接続できませんでした",sftp_client_connected:"ホスト${1}:${2}に接続されたSFTPクライアント",service_missing_root:'Pushがルートパスを見つけられない、またはアクセスできませんでした。 "${1}"設定ファイルを確認してください。',sftp_disconnected:"ホスト${1}:${2}から切断されたSFTPクライアント",sftp_enter_ssh_pass:"SSHパスワードを入力してください（保存されません）",stopping:"停止しています...",queue_force_stopped:"キュー${1}p{2:タスクフォ:のタスクフォ}ースが${2}秒後に停止しました",queue_cancelled:"キュー${1}がキャンセルされました",num_to_upload:"p{1::アップロードする}${1}p{1:アイテムをアップロードする:項目}",items_queued_for_upload:"アップロード待ちのアイテム：",no_current_upload_queue:"現在のアップロードキューアイテムはありません",key_file_not_found:'秘密鍵ファイル "${1}"が見つかりませんでした。 この場所には存在しますか？ 覚えておいてください - "~"のようなシェルパスショートカットは使用できません。',key_file_not_working:'"${1}"の秘密鍵ファイルは、ユーザー${2}を認証しませんでした。 これが正しいキーファイルで、アクセス権が与えられていますか？',continue:"継続する",service_inactive:'このセッションでは、環境"${1}"はまだ転送されていません。 プッシュはこの転送を続行する必要がありますか？',service_inactive_x_seconds:'環境"${1}"は、"${2}"以来非アクティブになっています。 プッシュはこの転送を続行する必要がありますか？'}},function(e,t,r){e.exports=f,f.sync=_;var n=r(19),i=r(1),s=r(3),o=void 0;try{o=r(27)}catch(e){}var a=parseInt("666",8),c={nosort:!0,silent:!0},u=0,h="win32"===process.platform;function l(e){if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((function(t){e[t]=e[t]||s[t],e[t+="Sync"]=e[t]||s[t]})),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,!1===e.glob&&(e.disableGlob=!0),!0!==e.disableGlob&&void 0===o)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");e.disableGlob=e.disableGlob||!1,e.glob=e.glob||c}function f(e,t,r){"function"==typeof t&&(r=t,t={}),n(e,"rimraf: missing path"),n.equal(typeof e,"string","rimraf: path should be a string"),n.equal(typeof r,"function","rimraf: callback function required"),n(t,"rimraf: invalid options argument provided"),n.equal(typeof t,"object","rimraf: options should be object"),l(t);var i=0,s=null,a=0;if(t.disableGlob||!o.hasMagic(e))return c(null,[e]);function c(e,n){return e?r(e):0===(a=n.length)?r():void n.forEach((function(e){p(e,t,(function n(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&i<t.maxBusyTries)return i++,setTimeout((function(){p(e,t,n)}),100*i);if("EMFILE"===o.code&&u<t.emfileWait)return setTimeout((function(){p(e,t,n)}),u++);"ENOENT"===o.code&&(o=null)}u=0,function(e){s=s||e,0==--a&&r(s)}(o)}))}))}t.lstat(e,(function(r,n){if(!r)return c(null,[e]);o(e,t.glob,c)}))}function p(e,t,r){n(e),n(t),n("function"==typeof r),t.lstat(e,(function(n,i){return n&&"ENOENT"===n.code?r(null):(n&&"EPERM"===n.code&&h&&d(e,t,n,r),i&&i.isDirectory()?m(e,t,n,r):void t.unlink(e,(function(n){if(n){if("ENOENT"===n.code)return r(null);if("EPERM"===n.code)return h?d(e,t,n,r):m(e,t,n,r);if("EISDIR"===n.code)return m(e,t,n,r)}return r(n)})))}))}function d(e,t,r,i){n(e),n(t),n("function"==typeof i),r&&n(r instanceof Error),t.chmod(e,a,(function(n){n?i("ENOENT"===n.code?null:r):t.stat(e,(function(n,s){n?i("ENOENT"===n.code?null:r):s.isDirectory()?m(e,t,r,i):t.unlink(e,i)}))}))}function g(e,t,r){n(e),n(t),r&&n(r instanceof Error);try{t.chmodSync(e,a)}catch(e){if("ENOENT"===e.code)return;throw r}try{var i=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw r}i.isDirectory()?y(e,t,r):t.unlinkSync(e)}function m(e,t,r,s){n(e),n(t),r&&n(r instanceof Error),n("function"==typeof s),t.rmdir(e,(function(o){!o||"ENOTEMPTY"!==o.code&&"EEXIST"!==o.code&&"EPERM"!==o.code?o&&"ENOTDIR"===o.code?s(r):s(o):function(e,t,r){n(e),n(t),n("function"==typeof r),t.readdir(e,(function(n,s){if(n)return r(n);var o,a=s.length;if(0===a)return t.rmdir(e,r);s.forEach((function(n){f(i.join(e,n),t,(function(n){if(!o)return n?r(o=n):void(0==--a&&t.rmdir(e,r))}))}))}))}(e,t,s)}))}function _(e,t){var r;if(l(t=t||{}),n(e,"rimraf: missing path"),n.equal(typeof e,"string","rimraf: path should be a string"),n(t,"rimraf: missing options"),n.equal(typeof t,"object","rimraf: options should be object"),t.disableGlob||!o.hasMagic(e))r=[e];else try{t.lstatSync(e),r=[e]}catch(n){r=o.sync(e,t.glob)}if(r.length)for(var i=0;i<r.length;i++){e=r[i];try{var s=t.lstatSync(e)}catch(r){if("ENOENT"===r.code)return;"EPERM"===r.code&&h&&g(e,t,r)}try{s&&s.isDirectory()?y(e,t,null):t.unlinkSync(e)}catch(r){if("ENOENT"===r.code)return;if("EPERM"===r.code)return h?g(e,t,r):y(e,t,r);if("EISDIR"!==r.code)throw r;y(e,t,r)}}}function y(e,t,r){n(e),n(t),r&&n(r instanceof Error);try{t.rmdirSync(e)}catch(s){if("ENOENT"===s.code)return;if("ENOTDIR"===s.code)throw r;"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code||function(e,t){n(e),n(t),t.readdirSync(e).forEach((function(r){_(i.join(e,r),t)}));var r=h?100:1,s=0;for(;;){var o=!0;try{var a=t.rmdirSync(e,t);return o=!1,a}finally{if(++s<r&&o)continue}}}(e,t)}}},function(e,t,r){var n=r(1),i="win32"===process.platform,s=r(3),o=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function a(e){return"function"==typeof e?e:function(){var e;if(o){var t=new Error;e=function(e){e&&(t.message=e.message,r(e=t))}}else e=r;return e;function r(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}n.normalize;if(i)var c=/(.*?)(?:[\/\\]+|$)/g;else c=/(.*?)(?:[\/]+|$)/g;if(i)var u=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else u=/^[\/]*/;t.realpathSync=function(e,t){if(e=n.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var r,o,a,h,l=e,f={},p={};function d(){var t=u.exec(e);r=t[0].length,o=t[0],a=t[0],h="",i&&!p[a]&&(s.lstatSync(a),p[a]=!0)}for(d();r<e.length;){c.lastIndex=r;var g=c.exec(e);if(h=o,o+=g[0],a=h+g[1],r=c.lastIndex,!(p[a]||t&&t[a]===a)){var m;if(t&&Object.prototype.hasOwnProperty.call(t,a))m=t[a];else{var _=s.lstatSync(a);if(!_.isSymbolicLink()){p[a]=!0,t&&(t[a]=a);continue}var y=null;if(!i){var v=_.dev.toString(32)+":"+_.ino.toString(32);f.hasOwnProperty(v)&&(y=f[v])}null===y&&(s.statSync(a),y=s.readlinkSync(a)),m=n.resolve(h,y),t&&(t[a]=m),i||(f[v]=y)}e=n.resolve(m,e.slice(r)),d()}}return t&&(t[l]=e),e},t.realpath=function(e,t,r){if("function"!=typeof r&&(r=a(t),t=null),e=n.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(r.bind(null,null,t[e]));var o,h,l,f,p=e,d={},g={};function m(){var t=u.exec(e);o=t[0].length,h=t[0],l=t[0],f="",i&&!g[l]?s.lstat(l,(function(e){if(e)return r(e);g[l]=!0,_()})):process.nextTick(_)}function _(){if(o>=e.length)return t&&(t[p]=e),r(null,e);c.lastIndex=o;var n=c.exec(e);return f=h,h+=n[0],l=f+n[1],o=c.lastIndex,g[l]||t&&t[l]===l?process.nextTick(_):t&&Object.prototype.hasOwnProperty.call(t,l)?E(t[l]):s.lstat(l,y)}function y(e,n){if(e)return r(e);if(!n.isSymbolicLink())return g[l]=!0,t&&(t[l]=l),process.nextTick(_);if(!i){var o=n.dev.toString(32)+":"+n.ino.toString(32);if(d.hasOwnProperty(o))return v(null,d[o],l)}s.stat(l,(function(e){if(e)return r(e);s.readlink(l,(function(e,t){i||(d[o]=t),v(e,t)}))}))}function v(e,i,s){if(e)return r(e);var o=n.resolve(f,i);t&&(t[s]=o),E(o)}function E(t){e=n.resolve(t,e.slice(o)),m()}m()}},function(e,t,r){var n=r(92),i=r(93);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function e(t,r){var s=[],o=i("{","}",t);if(!o||/\$$/.test(o.pre))return[t];var c,u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body),l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body),m=u||l,_=o.body.indexOf(",")>=0;if(!m&&!_)return o.post.match(/,.*\}/)?(t=o.pre+"{"+o.body+a+o.post,e(t)):[t];if(m)c=o.body.split(/\.\./);else{if(1===(c=function e(t){if(!t)return[""];var r=[],n=i("{","}",t);if(!n)return t.split(",");var s=n.pre,o=n.body,a=n.post,c=s.split(",");c[c.length-1]+="{"+o+"}";var u=e(a);a.length&&(c[c.length-1]+=u.shift(),c.push.apply(c,u));return r.push.apply(r,c),r}(o.body)).length)if(1===(c=e(c[0],!1).map(f)).length)return(E=o.post.length?e(o.post,!1):[""]).map((function(e){return o.pre+c[0]+e}))}var y,v=o.pre,E=o.post.length?e(o.post,!1):[""];if(m){var w=h(c[0]),b=h(c[1]),S=Math.max(c[0].length,c[1].length),T=3==c.length?Math.abs(h(c[2])):1,A=d;b<w&&(T*=-1,A=g);var k=c.some(p);y=[];for(var C=w;A(C,b);C+=T){var R;if(l)"\\"===(R=String.fromCharCode(C))&&(R="");else if(R=String(C),k){var O=S-R.length;if(O>0){var x=new Array(O+1).join("0");R=C<0?"-"+x+R.slice(1):x+R}}y.push(R)}}else y=n(c,(function(t){return e(t,!1)}));for(var P=0;P<y.length;P++)for(var N=0;N<E.length;N++){var L=v+y[P]+E[N];(!r||m||L)&&s.push(L)}return s}(function(e){return e.split("\\\\").join(s).split("\\{").join(o).split("\\}").join(a).split("\\,").join(c).split("\\.").join(u)}(e),!0).map(l)};var s="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function h(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function l(e){return e.split(s).join("\\").split(o).join("{").split(a).join("}").split(c).join(",").split(u).join(".")}function f(e){return"{"+e+"}"}function p(e){return/^-?0\d/.test(e)}function d(e,t){return e<=t}function g(e,t){return e>=t}},function(e,t){e.exports=function(e,t){for(var n=[],i=0;i<e.length;i++){var s=t(e[i],i);r(s)?n.push.apply(n,s):n.push(s)}return n};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";function n(e,t,r){e instanceof RegExp&&(e=i(e,r)),t instanceof RegExp&&(t=i(t,r));var n=s(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function i(e,t){var r=t.match(e);return r?r[0]:null}function s(e,t,r){var n,i,s,o,a,c=r.indexOf(e),u=r.indexOf(t,c+1),h=c;if(c>=0&&u>0){for(n=[],s=r.length;h>=0&&!a;)h==c?(n.push(h),c=r.indexOf(e,h+1)):1==n.length?a=[n.pop(),u]:((i=n.pop())<s&&(s=i,o=u),u=r.indexOf(t,h+1)),h=c<u&&c>=0?c:u;n.length&&(a=[s,o])}return a}e.exports=n,n.range=s},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){e.exports=d,d.GlobSync=g;var n=r(3),i=r(45),s=r(28),o=(s.Minimatch,r(27).Glob,r(2),r(1)),a=r(19),c=r(29),u=r(46),h=(u.alphasort,u.alphasorti,u.setopts),l=u.ownProp,f=u.childrenIgnored,p=u.isIgnored;function d(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new g(e,t).found}function g(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof g))return new g(e,t);if(h(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}g.prototype._finish=function(){if(a(this instanceof g),this.realpath){var e=this;this.matches.forEach((function(t,r){var n=e.matches[r]=Object.create(null);for(var s in t)try{s=e._makeAbs(s),n[i.realpathSync(s,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;n[e._makeAbs(s)]=!0}}))}u.finish(this)},g.prototype._process=function(e,t,r){a(this instanceof g);for(var n,i=0;"string"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join("/"),t);case 0:n=null;break;default:n=e.slice(0,i).join("/")}var o,u=e.slice(i);null===n?o=".":c(n)||c(e.join("/"))?(n&&c(n)||(n="/"+n),o=n):o=n;var h=this._makeAbs(o);f(this,o)||(u[0]===s.GLOBSTAR?this._processGlobStar(n,o,h,u,t,r):this._processReaddir(n,o,h,u,t,r))},g.prototype._processReaddir=function(e,t,r,n,i,s){var a=this._readdir(r,s);if(a){for(var c=n[0],u=!!this.minimatch.negate,h=c._glob,l=this.dot||"."===h.charAt(0),f=[],p=0;p<a.length;p++){if("."!==(m=a[p]).charAt(0)||l)(u&&!e?!m.match(c):m.match(c))&&f.push(m)}var d=f.length;if(0!==d)if(1!==n.length||this.mark||this.stat){n.shift();for(p=0;p<d;p++){var g;m=f[p];g=e?[e,m]:[m],this._process(g.concat(n),i,s)}}else{this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<d;p++){var m=f[p];e&&(m="/"!==e.slice(-1)?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=o.join(this.root,m)),this._emitMatch(i,m)}}}},g.prototype._emitMatch=function(e,t){if(!p(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},g.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r;try{r=n.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var i=r&&r.isSymbolicLink();return this.symlinks[e]=i,i||!r||r.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},g.prototype._readdir=function(e,t){if(t&&!l(this.symlinks,e))return this._readdirInGlobStar(e);if(l(this.cache,e)){var r=this.cache[e];if(!r||"FILE"===r)return null;if(Array.isArray(r))return r}try{return this._readdirEntries(e,n.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},g.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];n="/"===e?e+n:e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t},g.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},g.prototype._processGlobStar=function(e,t,r,n,i,s){var o=this._readdir(r,s);if(o){var a=n.slice(1),c=e?[e]:[],u=c.concat(a);this._process(u,i,!1);var h=o.length;if(!this.symlinks[r]||!s)for(var l=0;l<h;l++){if("."!==o[l].charAt(0)||this.dot){var f=c.concat(o[l],a);this._process(f,i,!0);var p=c.concat(o[l],n);this._process(p,i,!0)}}}},g.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),r){if(e&&c(e)&&!this.nomount){var n=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=o.join(this.root,e):(e=o.resolve(this.root,e),n&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},g.prototype._stat=function(e){var t=this._makeAbs(e),r="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&l(this.cache,t)){var i=this.cache[t];if(Array.isArray(i)&&(i="DIR"),!r||"DIR"===i)return i;if(r&&"FILE"===i)return!1}var s=this.statCache[t];if(!s){var o;try{o=n.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(o&&o.isSymbolicLink())try{s=n.statSync(t)}catch(e){s=o}else s=o}this.statCache[t]=s;i=!0;return s&&(i=s.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||i,(!r||"FILE"!==i)&&i},g.prototype._mark=function(e){return u.mark(this,e)},g.prototype._makeAbs=function(e){return u.makeAbs(this,e)}},function(e,t,r){var n=r(47),i=Object.create(null),s=r(48);function o(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n]=e[n];return r}e.exports=n((function(e,t){return i[e]?(i[e].push(t),null):(i[e]=[t],function(e){return s((function t(){var r=i[e],n=r.length,s=o(arguments);try{for(var a=0;a<n;a++)r[a].apply(null,s)}finally{r.length>n?(r.splice(0,n),process.nextTick((function(){t.apply(null,s)}))):delete i[e]}}))}(e))}))},function(e,t,r){const n=r(0),i=r(30),s=r(111),o=r(148),a=r(149),c=r(64),u=r(66),h=r(7),l=r(8),f=r(18),p=r(6),d=r(67),g=r(4);e.exports=class extends u{constructor(e){super(),p.trace("Service","Begin instantiation",!0),this.setOptions(e),this.services={SFTP:s,File:o},this.settings=new a({serviceList:this.getList(),onServiceFileUpdate:this.options.onServiceFileUpdate}),this.getStateProgress=this.getStateProgress.bind(this),this.activeService=null,this.paths=new h}setConfigEnv(e){return this.settings.setConfigEnv(e,this.config.settingsFileGlob)}setOptions(e){this.options=Object.assign({},{onDisconnect:null,onServiceFileUpdate:null},e)}getList(){let e,t,r=[];for(e in this.services)t={env:"default",default:{service:e}},t.default.options=this.getServiceDefaults(e),r.push(new c(e,this.services[e].description,this.services[e].detail,t,this.services[e].required));return r}setConfig(e){let t=void 0!==e&&e.serviceName!==this.config.serviceName;if(p.trace("Service#setConfig",`Service config setting${t?" (restarting service)":""}`),e&&!this.services[e.serviceName])throw new l(g.t("service_name_invalid",e.serviceName,this.paths.getNormalPath(e.serviceUri)));this.config=Object.assign({},f.get(),e),t&&this.restartServiceInstance()}getStateProgress(){return this.activeService&&this.activeService.progress||null}exec(e,t,r=[]){return this.setConfig(t),this.config&&this.config.service&&this.activeService?(this.activeService.setConfig(this.config),this.checkEnvSafety().then(()=>{let t=this.activeService[e].apply(this.activeService,r);if(!(t instanceof Promise))throw new Error(`Method ${e} does not return a Promise. This method cannot `+"be used with exec(). Try execSync()?");return t},e=>{throw e})):Promise.reject(new l(g.t("no_service_file",this.config.settingsFileGlob)))}execSync(e,t,r=[]){return this.setConfig(t),!!(this.config&&this.config.service&&this.activeService)&&(this.activeService.setConfig(this.config),this.activeService[e].apply(this.activeService,r))}checkEnvSafety(){const e=d.get("Service#checkEnvSafety"),t=d.getEvent("windowBlurred");let r,i=this.getEnvReminderTimeout();return t.lastRun()>e.lastRun()&&i>0&&(i/=2),void 0===this.config.env||!this.config.service.reminder||e.hasRunOnce()&&e.runWithin(i)?(e.add(),Promise.resolve()):(r=g.moment().subtract(e.age(),"seconds"),n.window.showWarningMessage(0===e.age()?g.t("service_inactive",this.config.env):g.t("service_inactive_x_seconds",this.config.env,r.fromNow()),{modal:!0},{id:"continue",title:g.t("continue")},{id:"cancel",isCloseAffordance:!0,title:g.t("cancel")}).then(t=>{if(t=!(!t||"continue"!==t.id))return e.add(),!0;throw new l(g.t("transfer_cancelled"))}))}getEnvReminderTimeout(){return null!==this.config.service.reminderTimeout&&!isNaN(this.config.service.reminderTimeout)&&this.config.service.reminderTimeout>0?this.config.service.reminderTimeout:!isNaN(this.config.envReminderTimeout)&&this.config.envReminderTimeout>0?this.config.envReminderTimeout:30}stop(){return this.activeService?new Promise((e,t)=>{this.activeService.stop().then(()=>{e(this.activeService.type)}).catch(t)}):Promise.reject()}restartServiceInstance(){this.config.serviceName&&this.config.service&&(this.activeService&&this.activeService.destructor(),this.activeService=null,this.startServiceInstance())}startServiceInstance(){this.config.serviceName&&this.config.service&&(p.trace("Service#startServiceInstance",`Instantiating service provider "${this.config.serviceName}"`),this.activeService=new this.services[this.config.serviceName]({onDisconnect:this.options.onDisconnect},this.getServiceDefaults(this.config.serviceName),this.services[this.config.serviceName].required))}getServiceDefaults(e){return Object.assign({},i.defaults,this.services[e].defaults)}}},function(e,t,r){var n=r(1),i=r(3),s=parseInt("0777",8);function o(e,t,r,a){"function"==typeof t?(r=t,t={}):t&&"object"==typeof t||(t={mode:t});var c=t.mode,u=t.fs||i;void 0===c&&(c=s&~process.umask()),a||(a=null);var h=r||function(){};e=n.resolve(e),u.mkdir(e,c,(function(r){if(!r)return h(null,a=a||e);switch(r.code){case"ENOENT":o(n.dirname(e),t,(function(r,n){r?h(r,n):o(e,t,h,n)}));break;default:u.stat(e,(function(e,t){e||!t.isDirectory()?h(r,a):h(null,a)}))}}))}e.exports=o.mkdirp=o.mkdirP=o,o.sync=function e(t,r,o){r&&"object"==typeof r||(r={mode:r});var a=r.mode,c=r.fs||i;void 0===a&&(a=s&~process.umask()),o||(o=null),t=n.resolve(t);try{c.mkdirSync(t,a),o=o||t}catch(i){switch(i.code){case"ENOENT":o=e(n.dirname(t),r,o),e(t,r,o);break;default:var u;try{u=c.statSync(t)}catch(e){throw i}if(!u.isDirectory())throw i}}return o}},function(e,t,r){"use strict";const n=r(32),i=r(100),s=r(103),o=r(104),a=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let e=a.create(n,t);Array.isArray(e)?r.push(...e):r.push(e)}else r=[].concat(a.create(e,t));return t&&!0===t.expand&&!0===t.nodupes&&(r=[...new Set(r)]),r};a.parse=(e,t={})=>o(e,t),a.stringify=(e,t={})=>n("string"==typeof e?a.parse(e,t):e,t),a.compile=(e,t={})=>("string"==typeof e&&(e=a.parse(e,t)),i(e,t)),a.expand=(e,t={})=>{"string"==typeof e&&(e=a.parse(e,t));let r=s(e,t);return!0===t.noempty&&(r=r.filter(Boolean)),!0===t.nodupes&&(r=[...new Set(r)]),r},a.create=(e,t={})=>""===e||e.length<3?[e]:!0!==t.expand?a.compile(e,t):a.expand(e,t),e.exports=a},function(e,t,r){"use strict";const n=r(49),i=r(33);e.exports=(e,t={})=>{let r=(e,s={})=>{let o=i.isInvalidBrace(s),a=!0===e.invalid&&!0===t.escapeInvalid,c=!0===o||!0===a,u=!0===t.escapeInvalid?"\\":"",h="";if(!0===e.isOpen)return u+e.value;if(!0===e.isClose)return u+e.value;if("open"===e.type)return c?u+e.value:"(";if("close"===e.type)return c?u+e.value:")";if("comma"===e.type)return"comma"===e.prev.type?"":c?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){let r=i.reduce(e.nodes),s=n(...r,{...t,wrap:!1,toRegex:!0});if(0!==s.length)return r.length>1&&s.length>1?`(${s})`:s}if(e.nodes)for(let t of e.nodes)h+=r(t,e);return h};return r(e)}},function(e,t,r){"use strict";
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const n=r(102),i=(e,t,r)=>{if(!1===n(e))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===t||e===t)return String(e);if(!1===n(t))throw new TypeError("toRegexRange: expected the second argument to be a number.");let s={relaxZeros:!0,...r};"boolean"==typeof s.strictZeros&&(s.relaxZeros=!1===s.strictZeros);let c=e+":"+t+"="+String(s.relaxZeros)+String(s.shorthand)+String(s.capture)+String(s.wrap);if(i.cache.hasOwnProperty(c))return i.cache[c].result;let u=Math.min(e,t),h=Math.max(e,t);if(1===Math.abs(u-h)){let r=e+"|"+t;return s.capture?`(${r})`:!1===s.wrap?r:`(?:${r})`}let l=d(e)||d(t),f={min:e,max:t,a:u,b:h},p=[],g=[];if(l&&(f.isPadded=l,f.maxLen=String(f.max).length),u<0){g=o(h<0?Math.abs(h):1,Math.abs(u),f,s),u=f.a=0}return h>=0&&(p=o(u,h,f,s)),f.negatives=g,f.positives=p,f.result=function(e,t,r){let n=a(e,t,"-",!1,r)||[],i=a(t,e,"",!1,r)||[],s=a(e,t,"-?",!0,r)||[];return n.concat(s).concat(i).join("|")}(g,p,s),!0===s.capture?f.result=`(${f.result})`:!1!==s.wrap&&p.length+g.length>1&&(f.result=`(?:${f.result})`),i.cache[c]=f,f.result};function s(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=function(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}(e,t),i=n.length,s="",o=0;for(let e=0;e<i;e++){let[t,i]=n[e];t===i?s+=t:"0"!==t||"9"!==i?s+=p(t,i,r):o++}return o&&(s+=!0===r.shorthand?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function o(e,t,r,n){let i,o=function(e,t){let r=1,n=1,i=h(e,r),s=new Set([t]);for(;e<=i&&i<=t;)s.add(i),r+=1,i=h(e,r);for(i=l(t+1,n)-1;e<i&&i<=t;)s.add(i),n+=1,i=l(t+1,n)-1;return s=[...s],s.sort(c),s}(e,t),a=[],u=e;for(let e=0;e<o.length;e++){let t=o[e],c=s(String(u),String(t),n),h="";r.isPadded||!i||i.pattern!==c.pattern?(r.isPadded&&(h=g(t,r,n)),c.string=h+c.pattern+f(c.count),a.push(c),u=t+1,i=c):(i.count.length>1&&i.count.pop(),i.count.push(c.count[0]),i.string=i.pattern+f(i.count),u=t+1)}return a}function a(e,t,r,n,i){let s=[];for(let i of e){let{string:e}=i;n||u(t,"string",e)||s.push(r+e),n&&u(t,"string",e)&&s.push(r+e)}return s}function c(e,t){return e>t?1:t>e?-1:0}function u(e,t,r){return e.some(e=>e[t]===r)}function h(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function l(e,t){return e-e%Math.pow(10,t)}function f(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function p(e,t,r){return`[${e}${t-e==1?"":"-"}${t}]`}function d(e){return/^-?(0+)\d/.test(e)}function g(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=!1!==r.relaxZeros;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}i.cache={},i.clearCache=()=>i.cache={},e.exports=i},function(e,t,r){"use strict";
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */e.exports=function(e){return"number"==typeof e?e-e==0:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))}},function(e,t,r){"use strict";const n=r(49),i=r(32),s=r(33),o=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),!(t=[].concat(t)).length)return e;if(!e.length)return r?s.flatten(t).map(e=>`{${e}}`):t;for(let i of e)if(Array.isArray(i))for(let e of i)n.push(o(e,t,r));else for(let e of t)!0===r&&"string"==typeof e&&(e=`{${e}}`),n.push(Array.isArray(e)?o(i,e,r):i+e);return s.flatten(n)};e.exports=(e,t={})=>{let r=void 0===t.rangeLimit?1e3:t.rangeLimit,a=(e,c={})=>{e.queue=[];let u=c,h=c.queue;for(;"brace"!==u.type&&"root"!==u.type&&u.parent;)u=u.parent,h=u.queue;if(e.invalid||e.dollar)return void h.push(o(h.pop(),i(e,t)));if("brace"===e.type&&!0!==e.invalid&&2===e.nodes.length)return void h.push(o(h.pop(),["{}"]));if(e.nodes&&e.ranges>0){let a=s.reduce(e.nodes);if(s.exceedsLimit(...a,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let c=n(...a,t);return 0===c.length&&(c=i(e,t)),h.push(o(h.pop(),c)),void(e.nodes=[])}let l=s.encloseBrace(e),f=e.queue,p=e;for(;"brace"!==p.type&&"root"!==p.type&&p.parent;)p=p.parent,f=p.queue;for(let t=0;t<e.nodes.length;t++){let r=e.nodes[t];"comma"!==r.type||"brace"!==e.type?"close"!==r.type?r.value&&"open"!==r.type?f.push(o(f.pop(),r.value)):r.nodes&&a(r,e):h.push(o(h.pop(),f,l)):(1===t&&f.push(""),f.push(""))}return f};return s.flatten(a(e))}},function(e,t,r){"use strict";const n=r(32),{MAX_LENGTH:i,CHAR_BACKSLASH:s,CHAR_BACKTICK:o,CHAR_COMMA:a,CHAR_DOT:c,CHAR_LEFT_PARENTHESES:u,CHAR_RIGHT_PARENTHESES:h,CHAR_LEFT_CURLY_BRACE:l,CHAR_RIGHT_CURLY_BRACE:f,CHAR_LEFT_SQUARE_BRACKET:p,CHAR_RIGHT_SQUARE_BRACKET:d,CHAR_DOUBLE_QUOTE:g,CHAR_SINGLE_QUOTE:m,CHAR_NO_BREAK_SPACE:_,CHAR_ZERO_WIDTH_NOBREAK_SPACE:y}=r(105);e.exports=(e,t={})=>{if("string"!=typeof e)throw new TypeError("Expected a string");let r=t||{},v="number"==typeof r.maxLength?Math.min(i,r.maxLength):i;if(e.length>v)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${v})`);let E,w={type:"root",input:e,nodes:[]},b=[w],S=w,T=w,A=0,k=e.length,C=0,R=0;const O=()=>e[C++],x=e=>{if("text"===e.type&&"dot"===T.type&&(T.type="text"),!T||"text"!==T.type||"text"!==e.type)return S.nodes.push(e),e.parent=S,e.prev=T,T=e,e;T.value+=e.value};for(x({type:"bos"});C<k;)if(S=b[b.length-1],E=O(),E!==y&&E!==_)if(E!==s)if(E!==d)if(E!==p)if(E!==u)if(E!==h)if(E!==g&&E!==m&&E!==o)if(E!==l)if(E!==f)if(E===a&&R>0){if(S.ranges>0){S.ranges=0;let e=S.nodes.shift();S.nodes=[e,{type:"text",value:n(S)}]}x({type:"comma",value:E}),S.commas++}else if(E===c&&R>0&&0===S.commas){let e=S.nodes;if(0===R||0===e.length){x({type:"text",value:E});continue}if("dot"===T.type){if(S.range=[],T.value+=E,T.type="range",3!==S.nodes.length&&5!==S.nodes.length){S.invalid=!0,S.ranges=0,T.type="text";continue}S.ranges++,S.args=[];continue}if("range"===T.type){e.pop();let t=e[e.length-1];t.value+=T.value+E,T=t,S.ranges--;continue}x({type:"dot",value:E})}else x({type:"text",value:E});else{if("brace"!==S.type){x({type:"text",value:E});continue}let e="close";S=b.pop(),S.close=!0,x({type:e,value:E}),R--,S=b[b.length-1]}else{R++;let e=T.value&&"$"===T.value.slice(-1)||!0===S.dollar;S=x({type:"brace",open:!0,close:!1,dollar:e,depth:R,commas:0,ranges:0,nodes:[]}),b.push(S),x({type:"open",value:E})}else{let e,r=E;for(!0!==t.keepQuotes&&(E="");C<k&&(e=O());)if(e!==s){if(e===r){!0===t.keepQuotes&&(E+=e);break}E+=e}else E+=e+O();x({type:"text",value:E})}else{if("paren"!==S.type){x({type:"text",value:E});continue}S=b.pop(),x({type:"text",value:E}),S=b[b.length-1]}else S=x({type:"paren",nodes:[]}),b.push(S),x({type:"text",value:E});else{A++;let e;for(;C<k&&(e=O());)if(E+=e,e!==p)if(e!==s){if(e===d&&(A--,0===A))break}else E+=O();else A++;x({type:"text",value:E})}else x({type:"text",value:"\\"+E});else x({type:"text",value:(t.keepEscaping?E:"")+O()});do{if(S=b.pop(),"root"!==S.type){S.nodes.forEach(e=>{e.nodes||("open"===e.type&&(e.isOpen=!0),"close"===e.type&&(e.isClose=!0),e.nodes||(e.type="text"),e.invalid=!0)});let e=b[b.length-1],t=e.nodes.indexOf(S);e.nodes.splice(t,1,...S.nodes)}}while(b.length>0);return x({type:"eos"}),w}},function(e,t,r){"use strict";e.exports={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},function(e,t,r){"use strict";e.exports=r(107)},function(e,t,r){"use strict";const n=r(1),i=r(108),s=r(109),o=r(22),a=r(23),c=(e,t,r=!1)=>{if(Array.isArray(e)){const n=e.map(e=>c(e,t,r));return e=>{for(const t of n){const r=t(e);if(r)return r}return!1}}if("string"!=typeof e||""===e)throw new TypeError("Expected pattern to be a non-empty string");const n=t||{},i=o.isWindows(t),s=c.makeRe(e,t,!1,!0),a=s.state;delete s.state;let u=()=>!1;if(n.ignore){const e={...t,ignore:null,onMatch:null,onResult:null};u=c(n.ignore,e,r)}const h=(r,o=!1)=>{const{isMatch:h,match:l,output:f}=c.test(r,s,t,{glob:e,posix:i}),p={glob:e,state:a,regex:s,posix:i,input:r,output:f,match:l,isMatch:h};return"function"==typeof n.onResult&&n.onResult(p),!1===h?(p.isMatch=!1,!!o&&p):u(r)?("function"==typeof n.onIgnore&&n.onIgnore(p),p.isMatch=!1,!!o&&p):("function"==typeof n.onMatch&&n.onMatch(p),!o||p)};return r&&(h.state=a),h};c.test=(e,t,r,{glob:n,posix:i}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};const s=r||{},a=s.format||(i?o.toPosixSlashes:null);let u=e===n,h=u&&a?a(e):e;return!1===u&&(h=a?a(e):e,u=h===n),!1!==u&&!0!==s.capture||(u=!0===s.matchBase||!0===s.basename?c.matchBase(e,t,r,i):t.exec(h)),{isMatch:!!u,match:u,output:h}},c.matchBase=(e,t,r,i=o.isWindows(r))=>{return(t instanceof RegExp?t:c.makeRe(t,r)).test(n.basename(e))},c.isMatch=(e,t,r)=>c(t,r)(e),c.parse=(e,t)=>s(e,t),c.scan=(e,t)=>i(e,t),c.makeRe=(e,t,r=!1,n=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");const i=t||{},o=i.contains?"":"^",a=i.contains?"":"$";let u,h={negated:!1,fastpaths:!0},l="";if(e.startsWith("./")&&(e=e.slice(2),l=h.prefix="./"),!1===i.fastpaths||"."!==e[0]&&"*"!==e[0]||(u=s.fastpaths(e,t)),void 0===u&&(h=c.parse(e,t),h.prefix=l+(h.prefix||""),u=h.output),!0===r)return u;let f=`${o}(?:${u})${a}`;h&&!0===h.negated&&(f=`^(?!${f}).*$`);const p=c.toRegex(f,t);return!0===n&&(p.state=h),p},c.toRegex=(e,t)=>{try{const r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},c.constants=a,e.exports=c},function(e,t,r){"use strict";const n=r(22),{CHAR_ASTERISK:i,CHAR_AT:s,CHAR_BACKWARD_SLASH:o,CHAR_COMMA:a,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:u,CHAR_FORWARD_SLASH:h,CHAR_LEFT_CURLY_BRACE:l,CHAR_LEFT_PARENTHESES:f,CHAR_LEFT_SQUARE_BRACKET:p,CHAR_PLUS:d,CHAR_QUESTION_MARK:g,CHAR_RIGHT_CURLY_BRACE:m,CHAR_RIGHT_PARENTHESES:_,CHAR_RIGHT_SQUARE_BRACKET:y}=r(23);e.exports=(e,t)=>{const r=t||{},v=e.length-1;let E,w,b=-1,S=0,T=0,A=!1,k=!1,C=!1,R=0,O=!1;const x=()=>b>=v,P=()=>(E=w,e.charCodeAt(++b));for(;b<v;){let t;if(w=P(),w===o){k=!0,t=P(),t===l&&(O=!0);continue}if(!0===O||w===l)for(R++;!x()&&(t=P());)if(t!==o)if(t!==l){if(!O&&t===c&&(t=P())===c){A=!0;break}if(!O&&t===a){A=!0;break}if(t===m&&(R--,0===R)){O=!1;break}}else R++;else k=!0,t=P();if(w===h){if(E===c&&b===S+1){S+=2;continue}T=b+1;continue}if(w===i){A=!0;break}if(w===i||w===g){A=!0;break}if(w===p)for(;!x()&&(t=P());)if(t!==o){if(t===y){A=!0;break}}else k=!0,t=P();if((w===d||w===s||w===u)&&e.charCodeAt(b+1)===f){A=!0;break}if(r.nonegate||w!==u||b!==S){if(!0!==r.noparen&&w===f)for(;!x()&&(w=P());)if(w!==o){if(w===_){A=!0;break}}else k=!0,w=P();if(A)break}else C=!0,S++}!0===r.noext&&(A=!1);let N="";const L=e;let D=e,U="";return S>0&&(N=e.slice(0,S),e=e.slice(S),T-=S),D&&!0===A&&T>0?(D=e.slice(0,T),U=e.slice(T)):!0===A?(D="",U=e):D=e,D&&""!==D&&"/"!==D&&D!==e&&(e=>e===h||e===o)(D.charCodeAt(D.length-1))&&(D=D.slice(0,-1)),!0===r.unescape&&(U&&(U=n.removeBackslashes(U)),D&&!0===k&&(D=n.removeBackslashes(D))),{prefix:N,input:L,base:D,glob:U,negated:C,isGlob:A}}},function(e,t,r){"use strict";const n=r(23),i=r(22),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:o,REGEX_NON_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:u}=n,h=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();const r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map(e=>i.escapeRegex(e)).join("..")}return r},l=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,f=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=u[e]||e;const r={...t},f="number"==typeof r.maxLength?Math.min(s,r.maxLength):s;let p=e.length;if(p>f)throw new SyntaxError(`Input length: ${p}, exceeds maximum allowed length: ${f}`);const d={type:"bos",value:"",output:r.prepend||""},g=[d],m=r.capture?"":"?:",_=i.isWindows(t),y=n.globChars(_),v=n.extglobChars(y),{DOT_LITERAL:E,PLUS_LITERAL:w,SLASH_LITERAL:b,ONE_CHAR:S,DOTS_SLASH:T,NO_DOT:A,NO_DOT_SLASH:k,NO_DOTS_SLASH:C,QMARK:R,QMARK_NO_DOT:O,STAR:x,START_ANCHOR:P}=y,N=e=>`(${m}(?:(?!${P}${e.dot?T:E}).)*?)`,L=r.dot?"":A,D=r.dot?R:O;let U=!0===r.bash?N(r):x;r.capture&&(U=`(${U})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);const I={input:e,index:-1,start:0,dot:!0===r.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:g};e=i.removePrefix(e,I),p=e.length;const B=[],M=[];let H,F=d;const G=()=>I.index===p-1,$=I.peek=(t=1)=>e[I.index+t],W=I.advance=()=>e[++I.index],j=()=>e.slice(I.index+1),q=(e="",t=0)=>{I.consumed+=e,I.index+=t},Y=e=>{I.output+=null!=e.output?e.output:e.value,q(e.value)},K=()=>{let e=1;for(;"!"===$()&&("("!==$(2)||"?"===$(3));)W(),I.start++,e++;return e%2!=0&&(I.negated=!0,I.start++,!0)},Q=e=>{I[e]++,M.push(e)},V=e=>{I[e]--,M.pop()},X=e=>{if("globstar"===F.type){const t=I.braces>0&&("comma"===e.type||"brace"===e.type),r=!0===e.extglob||B.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||(I.output=I.output.slice(0,-F.output.length),F.type="star",F.value="*",F.output=U,I.output+=F.output)}B.length&&"paren"!==e.type&&!v[e.value]&&(B[B.length-1].inner+=e.value),(e.value||e.output)&&Y(e),F&&"text"===F.type&&"text"===e.type?F.value+=e.value:(e.prev=F,g.push(e),F=e)},z=(e,t)=>{const n={...v[t],conditions:1,inner:""};n.prev=F,n.parens=I.parens,n.output=I.output;const i=(r.capture?"(":"")+n.open;Q("parens"),X({type:e,value:t,output:I.output?"":S}),X({type:"paren",extglob:!0,value:W(),output:i}),B.push(n)},Z=e=>{let t=e.close+(r.capture?")":"");if("negate"===e.type){let n=U;e.inner&&e.inner.length>1&&e.inner.includes("/")&&(n=N(r)),(n!==U||G()||/^\)+$/.test(j()))&&(t=e.close=")$))"+n),"bos"===e.prev.type&&G()&&(I.negatedExtglob=!0)}X({type:"paren",extglob:!0,value:H,output:t}),V("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(e)){let n=!1,s=e.replace(c,(e,t,r,i,s,o)=>"\\"===i?(n=!0,e):"?"===i?t?t+i+(s?R.repeat(s.length):""):0===o?D+(s?R.repeat(s.length):""):R.repeat(r.length):"."===i?E.repeat(r.length):"*"===i?t?t+i+(s?U:""):U:t?e:"\\"+e);return!0===n&&(s=!0===r.unescape?s.replace(/\\/g,""):s.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),s===e&&!0===r.contains?(I.output=e,I):(I.output=i.wrapOutput(s,I,t),I)}for(;!G();){if(H=W(),"\0"===H)continue;if("\\"===H){const e=$();if("/"===e&&!0!==r.bash)continue;if("."===e||";"===e)continue;if(!e){H+="\\",X({type:"text",value:H});continue}const t=/^\\+/.exec(j());let n=0;if(t&&t[0].length>2&&(n=t[0].length,I.index+=n,n%2!=0&&(H+="\\")),!0===r.unescape?H=W()||"":H+=W()||"",0===I.brackets){X({type:"text",value:H});continue}}if(I.brackets>0&&("]"!==H||"["===F.value||"[^"===F.value)){if(!1!==r.posix&&":"===H){const e=F.value.slice(1);if(e.includes("[")&&(F.posix=!0,e.includes(":"))){const e=F.value.lastIndexOf("["),t=F.value.slice(0,e),r=F.value.slice(e+2),n=o[r];if(n){F.value=t+n,I.backtrack=!0,W(),d.output||1!==g.indexOf(F)||(d.output=S);continue}}}("["===H&&":"!==$()||"-"===H&&"]"===$())&&(H="\\"+H),"]"!==H||"["!==F.value&&"[^"!==F.value||(H="\\"+H),!0===r.posix&&"!"===H&&"["===F.value&&(H="^"),F.value+=H,Y({value:H});continue}if(1===I.quotes&&'"'!==H){H=i.escapeRegex(H),F.value+=H,Y({value:H});continue}if('"'===H){I.quotes=1===I.quotes?0:1,!0===r.keepQuotes&&X({type:"text",value:H});continue}if("("===H){Q("parens"),X({type:"paren",value:H});continue}if(")"===H){if(0===I.parens&&!0===r.strictBrackets)throw new SyntaxError(l("opening","("));const e=B[B.length-1];if(e&&I.parens===e.parens+1){Z(B.pop());continue}X({type:"paren",value:H,output:I.parens?")":"\\)"}),V("parens");continue}if("["===H){if(!0!==r.nobracket&&j().includes("]"))Q("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(l("closing","]"));H="\\"+H}X({type:"bracket",value:H});continue}if("]"===H){if(!0===r.nobracket||F&&"bracket"===F.type&&1===F.value.length){X({type:"text",value:H,output:"\\"+H});continue}if(0===I.brackets){if(!0===r.strictBrackets)throw new SyntaxError(l("opening","["));X({type:"text",value:H,output:"\\"+H});continue}V("brackets");const e=F.value.slice(1);if(!0===F.posix||"^"!==e[0]||e.includes("/")||(H="/"+H),F.value+=H,Y({value:H}),!1===r.literalBrackets||i.hasRegexChars(e))continue;const t=i.escapeRegex(F.value);if(I.output=I.output.slice(0,-F.value.length),!0===r.literalBrackets){I.output+=t,F.value=t;continue}F.value=`(${m}${t}|${F.value})`,I.output+=F.value;continue}if("{"===H&&!0!==r.nobrace){Q("braces"),X({type:"brace",value:H,output:"("});continue}if("}"===H){if(!0===r.nobrace||0===I.braces){X({type:"text",value:H,output:H});continue}let e=")";if(!0===I.dots){const t=g.slice(),n=[];for(let e=t.length-1;e>=0&&(g.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&n.unshift(t[e].value);e=h(n,r),I.backtrack=!0}X({type:"brace",value:H,output:e}),V("braces");continue}if("|"===H){B.length>0&&B[B.length-1].conditions++,X({type:"text",value:H});continue}if(","===H){let e=H;I.braces>0&&"braces"===M[M.length-1]&&(e="|"),X({type:"comma",value:H,output:e});continue}if("/"===H){if("dot"===F.type&&I.index===I.start+1){I.start=I.index+1,I.consumed="",I.output="",g.pop(),F=d;continue}X({type:"slash",value:H,output:b});continue}if("."===H){if(I.braces>0&&"dot"===F.type){"."===F.value&&(F.output=E),F.type="dots",F.output+=H,F.value+=H,I.dots=!0;continue}if(I.braces+I.parens===0&&"bos"!==F.type&&"slash"!==F.type){X({type:"text",value:H,output:E});continue}X({type:"dot",value:H,output:E});continue}if("?"===H){if(!(F&&"("===F.value)&&!0!==r.noextglob&&"("===$()&&"?"!==$(2)){z("qmark",H);continue}if(F&&"paren"===F.type){const e=$();let t=H;if("<"===e&&!i.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===F.value&&!/[!=<:]/.test(e)||"<"===e&&!/<([!=]|\w+>)/.test(j()))&&(t="\\"+H),X({type:"text",value:H,output:t});continue}if(!0!==r.dot&&("slash"===F.type||"bos"===F.type)){X({type:"qmark",value:H,output:O});continue}X({type:"qmark",value:H,output:R});continue}if("!"===H){if(!0!==r.noextglob&&"("===$()&&("?"!==$(2)||!/[!=<:]/.test($(3)))){z("negate",H);continue}if(!0!==r.nonegate&&0===I.index){K();continue}}if("+"===H){if(!0!==r.noextglob&&"("===$()&&"?"!==$(2)){z("plus",H);continue}if(F&&"("===F.value||!1===r.regex){X({type:"plus",value:H,output:w});continue}if(F&&("bracket"===F.type||"paren"===F.type||"brace"===F.type)||I.parens>0){X({type:"plus",value:H});continue}X({type:"plus",value:w});continue}if("@"===H){if(!0!==r.noextglob&&"("===$()&&"?"!==$(2)){X({type:"at",extglob:!0,value:H,output:""});continue}X({type:"text",value:H});continue}if("*"!==H){"$"!==H&&"^"!==H||(H="\\"+H);const e=a.exec(j());e&&(H+=e[0],I.index+=e[0].length),X({type:"text",value:H});continue}if(F&&("globstar"===F.type||!0===F.star)){F.type="star",F.star=!0,F.value+=H,F.output=U,I.backtrack=!0,q(H);continue}let t=j();if(!0!==r.noextglob&&/^\([^?]/.test(t)){z("star",H);continue}if("star"===F.type){if(!0===r.noglobstar){q(H);continue}const n=F.prev,i=n.prev,s="slash"===n.type||"bos"===n.type,o=i&&("star"===i.type||"globstar"===i.type);if(!0===r.bash&&(!s||t[0]&&"/"!==t[0])){X({type:"star",value:H,output:""});continue}const a=I.braces>0&&("comma"===n.type||"brace"===n.type),c=B.length&&("pipe"===n.type||"paren"===n.type);if(!s&&"paren"!==n.type&&!a&&!c){X({type:"star",value:H,output:""});continue}for(;"/**"===t.slice(0,3);){const r=e[I.index+4];if(r&&"/"!==r)break;t=t.slice(3),q("/**",3)}if("bos"===n.type&&G()){F.type="globstar",F.value+=H,F.output=N(r),I.output=F.output,q(H);continue}if("slash"===n.type&&"bos"!==n.prev.type&&!o&&G()){I.output=I.output.slice(0,-(n.output+F.output).length),n.output="(?:"+n.output,F.type="globstar",F.output=N(r)+(r.strictSlashes?")":"|$)"),F.value+=H,I.output+=n.output+F.output,q(H);continue}if("slash"===n.type&&"bos"!==n.prev.type&&"/"===t[0]){const e=void 0!==t[1]?"|$":"";I.output=I.output.slice(0,-(n.output+F.output).length),n.output="(?:"+n.output,F.type="globstar",F.output=`${N(r)}${b}|${b}${e})`,F.value+=H,I.output+=n.output+F.output,q(H+W()),X({type:"slash",value:H,output:""});continue}if("bos"===n.type&&"/"===t[0]){F.type="globstar",F.value+=H,F.output=`(?:^|${b}|${N(r)}${b})`,I.output=F.output,q(H+W()),X({type:"slash",value:H,output:""});continue}I.output=I.output.slice(0,-F.output.length),F.type="globstar",F.output=N(r),F.value+=H,I.output+=F.output,q(H);continue}const n={type:"star",value:H,output:U};!0!==r.bash?!F||"bracket"!==F.type&&"paren"!==F.type||!0!==r.regex?(I.index!==I.start&&"slash"!==F.type&&"dot"!==F.type||("dot"===F.type?(I.output+=k,F.output+=k):!0===r.dot?(I.output+=C,F.output+=C):(I.output+=L,F.output+=L),"*"!==$()&&(I.output+=S,F.output+=S)),X(n)):(n.output=H,X(n)):(n.output=".*?","bos"!==F.type&&"slash"!==F.type||(n.output=L+n.output),X(n))}for(;I.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(l("closing","]"));I.output=i.escapeLast(I.output,"["),V("brackets")}for(;I.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(l("closing",")"));I.output=i.escapeLast(I.output,"("),V("parens")}for(;I.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(l("closing","}"));I.output=i.escapeLast(I.output,"{"),V("braces")}if(!0===r.strictSlashes||"star"!==F.type&&"bracket"!==F.type||X({type:"maybe_slash",value:"",output:`${b}?`}),!0===I.backtrack){I.output="";for(const e of I.tokens)I.output+=null!=e.output?e.output:e.value,e.suffix&&(I.output+=e.suffix)}return I};f.fastpaths=(e,t)=>{const r={...t},o="number"==typeof r.maxLength?Math.min(s,r.maxLength):s,a=e.length;if(a>o)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${o}`);e=u[e]||e;const c=i.isWindows(t),{DOT_LITERAL:h,SLASH_LITERAL:l,ONE_CHAR:f,DOTS_SLASH:p,NO_DOT:d,NO_DOTS:g,NO_DOTS_SLASH:m,STAR:_,START_ANCHOR:y}=n.globChars(c),v=r.dot?g:d,E=r.dot?m:d,w=r.capture?"":"?:";let b=!0===r.bash?".*?":_;r.capture&&(b=`(${b})`);const S=e=>!0===e.noglobstar?b:`(${w}(?:(?!${y}${e.dot?p:h}).)*?)`,T=e=>{switch(e){case"*":return`${v}${f}${b}`;case".*":return`${h}${f}${b}`;case"*.*":return`${v}${b}${h}${f}${b}`;case"*/*":return`${v}${b}${l}${f}${E}${b}`;case"**":return v+S(r);case"**/*":return`(?:${v}${S(r)}${l})?${E}${f}${b}`;case"**/*.*":return`(?:${v}${S(r)}${l})?${E}${b}${h}${f}${b}`;case"**/.*":return`(?:${v}${S(r)}${l})?${h}${f}${b}`;default:{const r=/^(.*?)\.(\w+)$/.exec(e);if(!r)return;const n=T(r[1],t);if(!n)return;return n+h+r[2]}}},A=i.removePrefix(e,{negated:!1,prefix:""});let k=T(A);return k&&!0!==r.strictSlashes&&(k+=`${l}?`),k},e.exports=f},function(e,t,r){const n=r(52);e.exports=class{constructor(e){this.indices={},this.list=[],e&&this.push(e)}push(){[...arguments].forEach(e=>{Array.isArray(e)||(e=[e]),e.forEach(e=>{let t;if(!(e instanceof n))throw new Error("item must be an instance of Item.");void 0===(t=this.indices[e.pathName])?this.indices[e.pathName]=this.list.push(e)-1:this.list[t]=e})})}filter(){return Array.prototype.filter.apply(this.list,arguments)}indexOf(e){return e in this.indices?this.indices[e]:-1}getByPath(e){return-1!==this.indexOf(e)?this.list[this.indices[e]]:null}}},function(e,t,r){const n=r(0),i=r(112),s=r(34).Client,o=r(3),a=r(1),c=r(26).homedir,u=r(31),h=r(30),l=r(41),f=r(6),p=r(8),d=r(9),g=r(4),{TRANSFER_TYPES:m}=r(5);class _ extends h{constructor(e,t,r){super(e,t,r),this.mkDir=this.mkDir.bind(this),this.type="SFTP",this.clients={},this.sftpError=null,this.globalReject=null,this.options.maxClients=2,this.options.modeGlob={dot:!0,nocase:!0,strictSlashes:!0}}destructor(){Object.keys(this.clients).forEach(e=>{this.removeClient(e)})}mergeWithDefaults(e){let t=Object.assign({},this.serviceDefaults,e);return t.sshGateway&&(t.sshGateway=Object.assign({},_.gatewayDefaults,t.sshGateway)),t}init(e){return super.init(e).then(()=>{this.sftpError=null}).then(()=>this.pathCache.local.clear()).then(()=>this.pathCache.remote.clear())}connect(){let e=this.config.serviceSettingsHash;return this.getClient(e).then(e=>e.lastUsed?Promise.resolve(e.sftp):e.gateway?this.openGatewayConnection(e):this.openConnection(e)).catch(t=>{if("ERR_GENERIC_CLIENT"===t.code&&t.message.match(/all.*authentication.*failed/))throw this.destroyClient(this.clients[e]),new p(g.t("sftp_could_not_connect_server",this.config.service.host,this.config.service.port));throw t})}openConnection(e,t={}){return f.trace("ProviderSFTP#openConnection",`Connecting (${this.credentialStamp(e)})...`),e.sftp.connect(Object.assign({},e.options,t)).then(()=>(this.onConnect(),e.gateway?d.appendLocalisedInfo("sftp_client_connected_gateway",e.options.host,e.options.port,e.gatewayOptions.host,e.gatewayOptions.port):d.appendLocalisedInfo("sftp_client_connected",e.options.host,e.options.port),e)).then(e=>this.checkServiceRoot(e)).catch(t=>this.handleProviderSFTPError(t,e))}openGatewayConnection(e){return new Promise((t,r)=>{f.trace("ProviderSFTP#openGatewayConnection",`Connecting (${this.credentialStamp(e)})...`),e.gateway.on("ready",()=>{e.options.privateKeyFile?this.readWithSSH(e.gateway,e.options.privateKeyFile).then(n=>{e.options.privateKey=n,this.connectGatewayProviderSFTP(e).then(t,r)}).catch(t=>{r(g.t("could_not_load_gateway_key",e.options.privateKeyFile,t.message))}):this.connectGatewayProviderSFTP(e).then(t,r)}).on("error",e=>{this.channel.appendLocalisedError("error_from_gateway",e),r("Gateway SSH error: "+e.message)}).connect(e.gatewayOptions)})}connectGatewayProviderSFTP(e){return new Promise((t,r)=>{e.gateway.forwardOut("127.0.0.1",e.gatewayOptions.port,e.options.host,e.options.port,(n,i)=>{if(n)return e.gateway.end(),r(n);this.openConnection(e,{host:null,port:null,sock:i}).then(t).catch(r)})})}handleProviderSFTPError(e,t){return new Promise((r,n)=>{"ERR_GENERIC_CLIENT"===e.code&&e.message.match(/authentication.*failed/)?(""!==t.options.privateKeyFile&&d.appendLocalisedInfo("key_file_not_working",t.options.privateKeyFile,t.options.username),this.channel.appendLocalisedInfo("requesting_password"),this.requestAuthentication().then(i=>{void 0!==i?(t.options.password=i,r(this.openConnection(t,t.options))):(this.destroyClient(t),n(e))})):(this.destroyClient(t),n(e))})}checkServiceRoot(e){return e.sftp.list(this.config.service.root).then(()=>e.sftp).catch(()=>{throw new p(g.t("service_missing_root",this.config.settingsFilename))})}stop(){return this.disconnect()}disconnect(){let e,t=[];for(e in this.setProgress(!1),this.clients)t.push(this.clients[e].sftp.end().then(()=>{this.clients[e]=null,delete this.clients[e]}));return new Promise(e=>{Promise.all(t).then(e)})}destroyClient(e){let t=[];return e.sftp&&e.sftp.end&&(f.trace("ProviderSFTP#destroyClient","Ending client connection"),t.push(e.sftp.end())),e.gateway&&e.gateway.end&&(f.trace("ProviderSFTP#destroyClient","Ending client gateway connection"),t.push(e.gateway.end())),Promise.all(t).then(()=>{e.sftp=null,e.gateway=null}).catch(()=>{e.sftp=null,e.gateway=null})}getClient(e){let t,r=new Date,n=[];return new Promise(o=>{this.clients[e]&&this.clients[e].sftp&&!this.clients[e].sftp.endCalled?(this.clients[e].lastUsed=r.getTime(),f.trace("Push#getClient",`Getting cached client (${e})`),o(this.clients[e])):(t=Object.keys(this.clients),t.length===this.options.maxClients&&(f.trace("Push#getClient",`Purging ${t.length-this.options.maxClients} old client(s)...`),t.sort((e,t)=>this.clients[e].lastUsed-this.clients[t].lastUsed),t.slice(this.options.maxClients-1).forEach(e=>{n.push(this.removeClient(e))})),Promise.all(n).then(()=>{f.trace("Push#getClient",`Creating client (${e})`),this.clients[e]={lastUsed:0,sftp:new i,options:this.getClientOptions(this.config.service,!this.config.service.sshGateway)},this.config.service.sshGateway&&(this.clients[e].gatewayOptions=this.getClientOptions(this.config.service.sshGateway),this.clients[e].gateway=new s),this.clients[e].sftp.client.on("end",()=>{f.trace("Push#getClient","End event"),this.onDisconnect(!1,e)}).on("close",t=>{let r=t||this.sftpError;r&&r.level?(f.trace("Push#getClient",`Close event (with error ${r.level})`),r="client-authentication"!==r.level):(f.trace("Push#getClient","Close event"),r=!1),this.clients[e]&&this.clients[e].gateway&&this.clients[e].gateway.end(),this.onDisconnect(r,e)}).on("error",e=>this.sftpError=e),o(this.clients[e])}))})}getClientOptions(e,t=!0){let r,n={host:e.host,port:e.port,username:e.username,passphrase:e.keyPassphrase||this.config.privateSSHKeyPassphrase,keepaliveInterval:e.keepaliveInterval,tryKeyboard:!0};return t?(r=this._getPrivateKey(e),n.privateKey=r&&r.contents,n.privateKeyFile=r&&r.file):n.privateKeyFile=e.privateKey,e.password&&(n.password=e.password),e.debug&&(n.debug=e=>{d.appendLine(`ProviderSFTP: "${e}"`)}),n}removeClient(e){let t;return(t=this.clients[e])?t&&t.sftp?(d.appendLocalisedInfo("sftp_disconnected",t.options.host,t.options.port),this.destroyClient(t).then(()=>{this.clients[e]=null,delete this.clients[e]})):Promise.resolve(!1):Promise.reject(`Could not find client with supplied hash (${e})`)}onDisconnect(e,t){e&&(super.onDisconnect(e),"function"==typeof this.globalReject&&(this.globalReject(),this.globalReject=null)),this.removeClient(t)}put(e,t,r){let n=a.dirname(t),i=a.basename(t);return r=r||this.config.service.collisionUploadAction,this.setProgress(`${i}...`),this.connect().then(()=>this.mkDirRecursive(n,this.config.service.root,this.mkDir)).then(()=>this.getFileStats(t,e)).then(t=>t.local?super.checkCollision(t.local,t.remote,r):new l(e,new p(g.t("file_not_found",this.paths.getBaseName(e))),m.PUT)).then(r=>{if(r instanceof l)return r;if(!1===r)return this.clientPut(e,t);switch(this.setCollisionOption(r),r.option){case f.collisionOpts.stop:throw f.errors.stop;case f.collisionOpts.overwrite:return this.clientPut(e,t);case f.collisionOpts.rename:return this.list(n).then(t=>this.put(e,n+"/"+this.getNonCollidingName(i,t)));case f.collisionOpts.skip:default:return new l(e,!1,m.PUT)}}).then(e=>(this.pathCache.remote.clear(n),e instanceof l&&!e.error?this.setRemotePathMode(t,this.config.service.fileMode).then(()=>e):e)).then(e=>(this.setProgress(!1),e)).catch(e=>{throw this.setProgress(!1),e})}get(e,t,r){let i=this.paths.getNormalPath(e),s=a.dirname(i),o=a.dirname(t),c=a.basename(t);return r=r||this.config.service.collisionDownloadAction,this.setProgress(`${c}...`),this.connect().then(()=>this.list(o).catch(e=>{throw new p(g.t("cannot_list_directory",o,e.message))})).then(()=>this.getFileStats(t,e)).then(t=>t.remote?super.checkCollision(t.remote,t.local,r):new l(e,new p(g.t("remote_file_not_found",this.paths.getBaseName(c))),m.GET)).then(r=>{let o;if(r instanceof l)return r;if(!1===r)return this.clientGetByStream(e,t);switch(this.setCollisionOption(r),r.option){case f.collisionOpts.stop:throw f.errors.stop;case f.collisionOpts.overwrite:return this.clientGetByStream(e,t);case f.collisionOpts.rename:return o=a.basename(i),this.paths.listDirectory(s,this.pathCache.local).then(e=>{let r=s+"/"+this.getNonCollidingName(o,e);return this.clientGetByStream(n.Uri.file(r),t)});case f.collisionOpts.skip:default:return new l(e,!1,m.GET)}}).then(e=>(this.pathCache.local.clear(s),e)).catch(e=>{throw this.setProgress(!1),e})}readWithSSH(e,t){return new Promise((r,n)=>{e.sftp((e,i)=>{if(e)return n(e);i.open(t,"r",(e,t)=>{if(e)return n(e);i.fstat(t,(e,n)=>{let s=n.size,o=0,a="",c=new Buffer(s);i.read(t,c,0,s,0,(e,t,n)=>{o+=t,a+=n.toString("utf8"),o===s&&r(a)})})})})})}setRemotePathMode(e,t){return new Promise((r,n)=>{let i;if(Array.isArray(t)){try{i=this.config.service.fileMode.filter(t=>u.isMatch(e,t.glob,this.options.modeGlob))}catch(e){n(e)}i.length&&(t=i[0].mode)}if(""!==t&&"string"==typeof t&&t.length>=3)return this.connect().then(i=>{try{i.sftp.chmod(e,t,r),f.trace("ProviderSFTP#setRemotePathMode",`Setting mode of ${e} to ${t}`)}catch(e){n(e)}});r()})}clientPut(e,t){let r=this.paths.getNormalPath(e);return new Promise((n,i)=>{this.globalReject=i,this.connect().then(s=>{f.trace("ProviderSFTP#clientPut",t),s.put(r,t).then(()=>{n(new l(e,!0,m.PUT,{srcLabel:t}))}).catch(s=>{if("ENOENT"===s.code)return n(new l(e,new p(g.t("file_not_found",r)),m.PUT));i(new p(`${t}: ${s.message}`))})})})}clientGetByStream(e,t){let r,n=this.paths.getNormalPath(e);return this.connect().then(e=>{r=e}).then(()=>this.paths.ensureDirExists(this.paths.getDirName(e))).then(()=>this.getMimeCharset(t)).then(i=>new Promise((s,o)=>{this.globalReject=o,f.trace("ProviderSFTP#clientGetByStream",t),r.get(t,n,{encoding:"binary"===i?null:"utf8"}).then(()=>{s(new l(e,!0,m.GET))}).catch(t=>{s(new l(e,new p(t),m.GET))})}))}mkDir(e){return this.connect().then(t=>this.list(a.dirname(e)).then(()=>{let r=this.pathCache.remote.getFileByPath(e);return null===r?t.mkdir(e).then(()=>this.setRemotePathMode(this.paths.addTrailingSlash(e,"/"),this.config.service.fileMode)).then(()=>{this.pathCache.remote.addFilePath(e,(new Date).getTime()/1e3,"d")}):"f"===r.type?Promise.reject(g.t("directory_not_created_remote_mismatch",e)):void 0})).catch(e=>{throw e})}list(e,t){return this.pathCache.remote.dirIsCached(e)?(f.trace("ProviderSFTP#list",`Using cached path for ${e}`),Promise.resolve(this.pathCache.remote.getDir(e))):this.connect().then(r=>(f.trace("ProviderSFTP#list",`Getting path for ${e}`),r.list(e).then(r=>(f.trace("ProviderSFTP#list",`${r.length} item(s) found`),r.forEach(r=>{let n,i=f.addTrailingSeperator(e)+r.name;t&&t.length&&(n=u([i],t)),"d"!==r.type&&"-"!==r.type||n&&n.length||this.pathCache.remote.addFilePath(i,r.modifyTime/1e3,"d"===r.type?"d":"f")}),this.pathCache.remote.getDir(e)))))}listRecursiveFiles(e,t){let r={scanned:0,total:0};return new Promise((n,i)=>{this.cacheRecursiveList(e,r,t,()=>{r.scanned===r.total&&n(this.pathCache.remote.getRecursiveFiles(e))}).catch(i)})}cacheRecursiveList(e,t,r,n){return 0===t.total&&(t.total=1),this.list(e,r).then(i=>{let s;t.scanned+=1,null!==i&&(s=i.filter(e=>"d"===e.type),t.total+=s.length,s.forEach(i=>{this.cacheRecursiveList(e+"/"+i.name,t,r,n)})),n(t)}).catch(r=>{t.scanned+=1,r instanceof Error?d.appendError(g.t("dir_read_error_with_error",e,r&&r.message)):d.appendError(g.t("dir_read_error",e,r&&r.message)),n(t)})}getFileStats(e,t){const r=a.dirname(e);let n={};return this.list(r).then(()=>this.paths.getFileStats(this.paths.getNormalPath(t)).then(e=>{n.local=e})).then(()=>(n.remote=this.pathCache.remote.getFileByPath(e),n)).catch(e=>{throw new p(g.t("cannot_list_directory",r,e.message))})}_getPrivateKey(e){let t,r,n,i;if(t=String(e&&e.privateKey||this.config.privateSSHKey||"").trim(),o.existsSync(t))return f.trace("ProviderSFTP#_getPrivateKey",`Key retrieved from ${t}`),{file:t,contents:o.readFileSync(t,"UTF-8")};if(""!==t)return d.appendLocalisedError("key_file_not_found",t),!1;for(r=c(),n=[r+"/.ssh/identity",r+"/.ssh/id_dsa",r+"/.ssh/id_rsa"],i=0;i<n.length;i+=1)if(o.existsSync(n[i]))return e.privateKey=n[i],{file:n[i],contents:o.readFileSync(n[i],"UTF-8")}}getMimeCharset(e){return this.connect().then(t=>new Promise((r,n)=>{t.client.exec(`file --mime ${e}`,(t,i)=>{let s="",o="";t&&n(t),i.on("close",t=>{let n=s.match(/charset=([^\s\n]+)/);r(o||!s||null===n||0!==t?this.getBasicMimeCharset(e):n[1])}).on("data",e=>{s+=e}).stderr.on("data",e=>{o+=e})})}))}getBasicMimeCharset(e){const t=a.extname(e);return-1!==_.encodingByExtension.utf8.indexOf(t)?"utf8":"binary"}requestAuthentication(){return n.window.showInputBox({ignoreFocusOut:!0,password:!0,prompt:g.t("sftp_enter_ssh_pass")})}credentialStamp(e){return`${e.options.host}:${e.options.port}`+(e.options.username?` [${e.options.username} (pw: ${e.options.password?"YES":"NO"})]`:"")+(e.options.privateKey?" [KEY]":" [NO KEY]")}convertUriToRemote(e){let t,r=this.paths.getNormalPath(e);return t=this.paths.stripTrailingSlash(this.config.service.root)+f.filePathReplace(r,a.dirname(this.config.serviceFile),""),t=a.join(t).split(a.sep).join("/"),t}convertRemoteToUri(e){return this.paths.join(a.dirname(this.config.serviceFile),e.replace(this.paths.stripTrailingSlash(this.config.service.root,"/")+"/",""))}}_.description=g.t("sftp_class_description"),_.defaults={host:"",port:22,username:"",password:"",privateKey:"",keyPassphrase:"",root:"/",keepaliveInterval:3e3,debug:!1,fileMode:"",sshGateway:null},_.required={host:!0,username:!0,root:!0},_.gatewayDefaults={host:"",port:22,username:"",password:"",privateKey:"",keyPassphrase:"",keepaliveInterval:3e3,debug:!1},_.encodingByExtension={utf8:[".txt",".html",".shtml",".js",".jsx",".css",".less",".sass",".php",".asp",".aspx",".svg",".sql",".rb",".py",".log",".sh",".bat",".pl",".cgi",".htaccess"]},e.exports=_},function(e,t,r){"use strict";const n=r(34).Client,i=r(3),s=r(133),o=r(144),{posix:a,normalize:c}=r(1),u=r(147),h={generic:"ERR_GENERIC_CLIENT",connect:"ERR_NOT_CONNECTED",badPath:"ERR_BAD_PATH",permission:"ERR_NO_PERMISSON"};let l=function(e=""){this.client=new n,this.clientName=e,this.endCalled=!1,this.remotePathSep="/",this.remotePlatform="unix"};l.prototype.realPath=function(e){const t=this,r=t.sftp;let n;return new Promise((i,s)=>{try{r?(n=u.makeErrorListener(s),t.on("error",n),r.realpath(e,(r,o)=>{r&&(s(u.formatError(`${r.message} ${e}`,"sftp.realPath",r.code)),t.removeListener("error",n)),i(o),t.removeListener("error",n)})):s(u.formatError("No SFTP connection available","sftp.realPath",h.connect))}catch(r){s(u.formatError(`${r.message} ${e}`,"sftp.realPath",r.code)),t.removeListener("error",n)}})},l.prototype.cwd=function(){return this.realPath(".")},l.prototype._list=function(e,t=/.*/){const r=this,n=/-/gi;let i;return new Promise((s,o)=>{const a=r.sftp;i=u.makeErrorListener(o),r.on("error",i),a.readdir(e,(a,c)=>{if(a)o(u.formatError(`${a.message} ${e}`,"sftp.list",a.code)),r.removeListener("error",i);else{let e,o=[];if(c&&(o=c.map(e=>({type:e.longname.substr(0,1),name:e.filename,size:e.attrs.size,modifyTime:1e3*e.attrs.mtime,accessTime:1e3*e.attrs.atime,rights:{user:e.longname.substr(1,3).replace(n,""),group:e.longname.substr(4,3).replace(n,""),other:e.longname.substr(7,3).replace(n,"")},owner:e.attrs.uid,group:e.attrs.gid}))),t instanceof RegExp)e=t;else{let r=t.replace(/\*([^*])*?/gi,".*");e=new RegExp(r)}s(o.filter(t=>e.test(t.name))),r.removeListener("error",i)}})})},l.prototype.list=async function(e,t=/.*/){if(!this.sftp)throw u.formatError("No SFTP connection available","sftp.list",h.connect);let r=await this.realPath(e);return this._list(r,t)},l.prototype.auxList=function(e,t="*"){return console.log("auxList is deprecated and will be removed. Please use lis() instead"),this.list(e,t)},l.prototype._exists=function(e){const t=this;let r;return new Promise((n,i)=>{const s=this.sftp;r=u.makeErrorListener(i),t.on("error",r);let{dir:o,base:c}=a.parse(e);c?s.readdir(o,(e,s)=>{if(e)2===e.code?n(!1):i(u.formatError(e,"sftp.exists")),t.removeListener("error",r);else{let[e]=s.filter(e=>e.filename===c).map(e=>e.longname.substr(0,1));n(e||!1),t.removeListener("error",r)}}):(n("d"),t.removeListener("error",r))})},l.prototype.exists=async function(e){try{if(!this.sftp)throw u.formatError("No SFTP connection available","sftp.exists",h.connect);let t=await this.realPath(e);return"."===e?"d":this._exists(t)}catch(e){if(2===e.code)return!1;throw u.formatError(e,"sftp.exists")}},l.prototype._stat=function(e){const t=this;let r;return new Promise((n,i)=>{const s=t.sftp;r=u.makeErrorListener(i),t.on("error",r),s.stat(e,(function(s,o){s?(i(u.formatError(`${s.message} ${e}`,"sftp.stat",s.code)),t.removeListener("error",r)):(n({mode:o.mode,uid:o.uid,gid:o.gid,size:o.size,accessTime:1e3*o.atime,modifyTime:1e3*o.mtime,isDirectory:o.isDirectory(),isFile:o.isFile(),isBlockDevice:o.isBlockDevice(),isCharacterDevice:o.isCharacterDevice(),isSymbolicLink:o.isSymbolicLink(),isFIFO:o.isFIFO(),isSocket:o.isSocket()}),t.removeListener("error",r))}))})},l.prototype.stat=async function(e){if(!this.sftp)throw u.formatError("No SFTP connection available","sftp.stat",h.connect);let t=await this.realPath(e);return this._stat(t)},l.prototype._get=function(e,t,r){const n=this;let o;return new Promise((a,c)=>{const h=n.sftp;o=u.makeErrorListener(c),n.on("error",o);let l=h.createReadStream(e,r);if(l.on("error",t=>{u.removeListeners(l),c(u.formatError(`${t.message} ${e}`,"sftp.get",t.code)),n.removeListener("error",o)}),void 0===t){let e=s(e=>{l.removeAllListeners("error"),a(e),n.removeListener("error",o)});l.pipe(e)}else{let e;e="string"==typeof t?i.createWriteStream(t):t,e.on("error",e=>{u.removeListeners(l),c(u.formatError(`${e.message} ${"string"==typeof t?t:""}`,"sftp.get",e.code)),n.removeListener("error",o)}),e.on("finish",()=>{u.removeListeners(l),a("string"==typeof t?t:e),n.removeListener("error",o)}),l.pipe(e)}})},l.prototype.get=async function(e,t,r){if(!this.sftp)throw u.formatError("No SFTP connection available","sftp.get",h.connect);let n=await this.realPath(e);if(0==(292&(await this.stat(n)).mode))throw u.formatError(`No read permission for ${n}`,"sftp.get",h.permission);if("string"==typeof t){let e=c(t);return this._get(n,e,r)}return this._get(n,t,r)},l.prototype._fastGet=function(e,t,r){const n=this;let i;return new Promise((s,o)=>{const a=n.sftp;i=u.makeErrorListener(o),n.on("error",i),a.fastGet(e,t,r,(function(r){r&&o(u.formatError(`${r.message} ${e}`,"sftp.fastGet",r.code)),s(`${e} was successfully download to ${t}!`),n.removeListener("error",i)}))})},l.prototype.fastGet=async function(e,t,r){if(!this.sftp)throw u.formatError("No SFTP connection available","sftp.fastGet",h.connect);let n=await this.realPath(e),i=c(t);return this._fastGet(n,i,r)},l.prototype._fastPut=function(e,t,r){const n=this,i=n.sftp;let s;return new Promise((o,a)=>{s=u.makeErrorListener(a),n.on("error",s),i.fastPut(e,t,r,(function(r){r&&a(u.formatError(`${r.message} Local: ${e} Remote: ${t}`,"sftp.fastPut",r.code)),o(`${e} was successfully uploaded to ${t}!`),n.removeListener("error",s)}))})},l.prototype.fastPut=async function(e,t,r){if(!this.sftp)throw u.formatError("No SFTP connection available","sftp.fastPut",h.connect);let n=i.realpathSync(e),s=t;if(s.startsWith("..")){s=await this.realPath("..")+this.remotePathSep+s.substring(3)}else if(s.startsWith(".")){s=await this.realPath(".")+this.remotePathSep+s.substring(2)}return this._fastPut(n,s,r)},l.prototype._put=function(e,t,r){const n=this;let s;return new Promise((o,a)=>{const c=n.sftp;s=u.makeErrorListener(a),n.on("error",s);let h=c.createWriteStream(t,r);if(h.on("error",e=>{a(u.formatError(`${e.message} ${t}`,"sftp.put",e.code)),n.removeListener("error",s)}),h.on("finish",()=>{u.removeListeners(h),o(`Uploaded data stream to ${t}`),n.removeListener("error",s)}),e instanceof Buffer)h.end(e);else{let t;t="string"==typeof e?i.createReadStream(e):e,t.on("error",t=>{u.removeListeners(h),a(u.formatError(`${t.message} ${"string"==typeof e?e:""}`,"sftp.put",t.code)),n.removeListener("error",s)}),t.pipe(h)}})},l.prototype.put=async function(e,t,r){if(!this.sftp)throw u.formatError("No SFTP connections available","sftp.put",h.connect);let n=e;"string"==typeof n&&(n=i.realpathSync(n),i.accessSync(n,i.constants.R_OK));let s=t;if(s.startsWith("..")){s=await this.realPath("..")+this.remotePathSep+s.substring(3)}else if(s.startsWith(".")){s=await this.realPath(".")+this.remotePathSep+s.substring(2)}return this._put(n,s,r)},l.prototype._append=function(e,t,r){const n=this;let i;return new Promise((s,o)=>{const a=this.sftp;let c;i=u.makeErrorListener(o),n.on("error",i),r?(c=r,c.flags="a"):c={flags:"a"};let h=a.createWriteStream(t,c);h.on("error",e=>{u.removeListeners(h),o(u.formatError(`${e.message} ${t}`,"sftp.append",e.code)),n.removeListener("error",i)}),h.on("finish",()=>{u.removeListeners(h),s(`sftp.append: Uploaded data stream to ${t}`),n.removeListener("error",i)}),e instanceof Buffer?h.end(e):e.pipe(h)})},l.prototype.append=async function(e,t,r){if(!this.sftp)throw u.formatError("No SFTP connection available","sftp.append",h.connect);if("string"==typeof e)throw u.formatError("Cannot append one file to another","sftp.append",h.badPath);let n=await this.realPath(t),i=await this.stat(n);if(0==(32768&i.mode))throw u.formatError(`${t} Remote path must be a regular file`,"sftp-append",h.badPath);if(0==(292&i.mode))throw u.formatError(`${t} No write permission`,"sftp-append",h.permission);return this._append(e,n,r)},l.prototype.mkdir=async function(e,t=!1){const r=this,n=r.sftp;let i;function s(e){return new Promise((t,s)=>{i=u.makeErrorListener(s),r.on("error",i),n.mkdir(e,n=>{n&&s(u.formatError(`${n.message} ${e}`,"sftp.mkdir",n.code)),t(`${e} directory created`),r.removeListener("error",i)})})}try{if(!n)throw u.formatError("No SFTP connection available","sftp.mkdir",h.connect);let r=e;if(r.startsWith("..")){r=await this.realPath("..")+this.remotePathSep+r.substring(3)}else if(r.startsWith(".")){r=await this.realPath(".")+this.remotePathSep+r.substring(2)}if(!t)return s(r);let{dir:i}=a.parse(r),o=await this.exists(i);if(o){if("d"!==o)throw u.formatError("Bad directory path","sftp.mkdir",h.badPath)}else await this.mkdir(i,!0);return s(r)}catch(e){throw u.formatError(e,"sftp.mkdir",e.code)}},l.prototype.rmdir=async function(e,t=!1){const r=this,n=r.sftp;let i;function s(e){return new Promise((t,s)=>{i=u.makeErrorListener(s),r.on("error",i);try{n.rmdir(e,n=>{n&&s(u.formatError(`${n.message} ${e}`,"sftp.rmdir",n.code)),t("Successfully removed directory"),r.removeListener("error",i)})}catch(e){s(u.formatError(e,"sftp.rmdir",e.code)),r.removeListener("error",i)}})}try{if(!n)throw u.formatError("No SFTP connection available","sftp.rmdir",h.connect);let r=await this.realPath(e);if(!t)return s(r);let i=await this.list(r);if(i.length){let e=i.filter(e=>"d"!==e.type),t=i.filter(e=>"d"===e.type);for(let t of e)try{await this.delete(r+this.remotePathSep+t.name)}catch(e){throw u.formatError(e,"sftp.rmdir",e.code)}for(let e of t)try{await this.rmdir(r+this.remotePathSep+e.name,!0)}catch(e){throw u.formatError(e,"sftp.rmdir",e.code)}}return s(r)}catch(e){throw u.formatError(e,"sftp.rmdir",e.code)}},l.prototype._delete=function(e){const t=this;let r;return new Promise((n,i)=>{let s=t.sftp;r=u.makeErrorListener(i),t.on("error",r),s.unlink(e,s=>{s&&i(u.formatError(`${s.message} ${e}`,"sftp.delete",s.code)),n("Successfully deleted file"),t.removeListener("error",r)})})},l.prototype.delete=async function(e){if(!this.sftp)throw u.formatError("No SFTP connection available","sftp.delete",h.connect);let t=await this.realPath(e);return this._delete(t)},l.prototype._rename=function(e,t){const r=this;let n;return new Promise((i,s)=>{let o=r.sftp;n=u.makeErrorListener(s),r.on("error",n),o.rename(e,t,o=>{o&&s(u.formatError(`${o.message} From: ${e} To: ${t}`,"sftp.rename",o.code)),i(`Successfully renamed ${e} to ${t}`),r.removeListener("error",n)})})},l.prototype.rename=async function(e,t){if(!this.sftp)throw u.formatError("No SFTP connection available","sftp.rename",h.connect);let r=await this.realPath(e),n=t;if(n.startsWith("..")){n=await this.realPath("..")+this.remotePathSep+n.substring(3)}else if(n.startsWith(".")){n=await this.realPath(".")+this.remotePathSep+n.substring(2)}return this._rename(r,n)},l.prototype._chmod=function(e,t){const r=this;let n;return new Promise((i,s)=>{const o=r.sftp;n=u.makeErrorListener(s),r.on("error",n),o.chmod(e,t,t=>{t&&s(u.formatError(`${t.message} ${e}`,"sftp.chmod",t.code)),i("Successfully change file mode"),r.removeListener("error",n)})})},l.prototype.chmod=async function(e,t){if(!this.sftp)throw u.formatError("No SFTP connection available","sftp.chmod",h.connect);let r=await this.realPath(e);return this._chmod(r,t)},l.prototype.connect=function(e){let t=this;var r=o.operation({retries:e.retries||1,factor:e.retry_factor||2,minTimeout:e.retry_minTimeout||1e3});return new Promise((n,i)=>{t.sftp?i(u.formatError("An existing SFTP connection is already defined","sftp.connect",h.connect)):function(e,n){try{r.attempt((function(i){t.client.on("ready",()=>{t.client.sftp((e,s)=>{if(e){if(u.removeListeners(t.client),r.retry(e))return;n(u.formatError(e,"sftp.connect",e.code,i),null)}t.sftp=s,t.client.removeAllListeners("error"),t.client.removeAllListeners("end"),t.client.on("close",u.makeCloseListener(t)),n(null,s)})}).on("error",e=>{u.removeListeners(t.client),r.retry(e)||n(u.formatError(e,"sftp.connect",e.code,i),null)}).on("end",()=>{n(u.formatError("Connection ended unexpectedly by remote server",t.clientName,h.connect))}).connect(e)}))}catch(e){u.removeListeners(t.client),n(u.formatError(e,"sftp.connect",e.code),null)}}(e,(e,r)=>{e?i(e):r.realpath(".",(e,s)=>{e?i(u.formatError(`Failed to determine remote server type: ${e.message}`,"sftp.connect",e.code)):(s.startsWith("/")?(t.remotePathSep="/",t.remotePlatform="unix"):(t.remotePathSep="\\",t.remotePlatform="windows"),n(r))})})})},l.prototype.end=function(){let e=this;return new Promise((t,r)=>{try{e.endCalled=!0,e.client.on("close",()=>{u.removeListeners(e.client),t(!0),e.sftp=void 0,e.endCalled=!1}),e.client.end()}catch(e){r(u.formatError(e,"sftp.end",e.code))}})},l.prototype.on=function(e,t){this.client.on(e,t)},l.prototype.removeListener=function(e,t){this.client.removeListener(e,t)},e.exports=l},function(e,t){e.exports=require("dns")},function(e,t,r){var n=r(10).Transform,i=r(10).Readable,s=r(10).Writable,o=r(3).constants||process.binding("constants"),a=r(2),c=a.inherits,u=a.isDate,h=r(13).EventEmitter.listenerCount,l=r(3),f=r(11).readString,p=r(11).readInt,d=r(15).readUInt32BE,g=r(15).writeUInt32BE,m={SIZE:1,UIDGID:2,PERMISSIONS:4,ACMODTIME:8,EXTENDED:2147483648},_={OK:0,EOF:1,NO_SUCH_FILE:2,PERMISSION_DENIED:3,FAILURE:4,BAD_MESSAGE:5,NO_CONNECTION:6,CONNECTION_LOST:7,OP_UNSUPPORTED:8};Object.keys(_).forEach((function(e){_[_[e]]=e}));var y={0:"No error",1:"End of file",2:"No such file or directory",3:"Permission denied",4:"Failure",5:"Bad message",6:"No connection",7:"Connection lost",8:"Operation unsupported"};R.STATUS_CODE=_;var v={INIT:1,OPEN:3,CLOSE:4,READ:5,WRITE:6,LSTAT:7,FSTAT:8,SETSTAT:9,FSETSTAT:10,OPENDIR:11,READDIR:12,REMOVE:13,MKDIR:14,RMDIR:15,REALPATH:16,STAT:17,RENAME:18,READLINK:19,SYMLINK:20,EXTENDED:200};Object.keys(v).forEach((function(e){v[v[e]]=e}));var E={VERSION:2,STATUS:101,HANDLE:102,DATA:103,NAME:104,ATTRS:105,EXTENDED:201};Object.keys(E).forEach((function(e){E[E[e]]=e}));var w={READ:1,WRITE:2,APPEND:4,CREAT:8,TRUNC:16,EXCL:32};R.OPEN_MODE=w;var b=Math.pow(2,32)-1,S=Buffer.from([0,0,0,5,v.INIT,0,0,0,3]),T=Buffer.from([0,0,0,5,E.VERSION,0,0,0,3]),A=/^SSH-2.0-(?:OpenSSH|dropbear)/,k=260096;function C(e){}function R(e,t){"string"!=typeof e||t||(t=e,e=void 0),"object"==typeof e&&e||(e={}),n.call(this,{highWaterMark:"number"==typeof e.highWaterMark?e.highWaterMark:32768}),this.debug="function"==typeof e.debug?e.debug:C,this.server=!!e.server,this._isOpenSSH=t&&A.test(t),this._needContinue=!1,this._state={status:"packet_header",writeReqid:-1,pktLeft:void 0,pktHdrBuf:Buffer.allocUnsafe(9),pktBuf:void 0,pktType:void 0,version:void 0,extensions:{},maxDataLen:this._isOpenSSH?k:32768,requests:{}};var r=this;function i(){r.writable=!1,r._cleanup(!1)}this.on("end",(function(){r.readable=!1})).on("finish",i).on("prefinish",i),this.server||this.push(S)}function O(e,t,r,n,i,s){var o,a,c,u,h=64,f=32768;"function"==typeof i?s=i:"object"==typeof i&&null!==i&&("number"==typeof i.concurrency&&i.concurrency>0&&!isNaN(i.concurrency)&&(h=i.concurrency),"number"==typeof i.chunkSize&&i.chunkSize>0&&!isNaN(i.chunkSize)&&(f=i.chunkSize),"number"==typeof i.fileSize&&i.fileSize>0&&!isNaN(i.fileSize)&&(c=i.fileSize),"function"==typeof i.step&&(o=i.step),"string"!=typeof i.mode&&"number"!=typeof i.mode||(a=U(i.mode)));var p,d,g,m=0,_=0,y=!1,v=f*h;function E(r){if(!y){y=!0;var n,i=0;p||d?(n=function(){0==--i&&s(r)},p&&(e===l||e.writable)&&++i,d&&(t===l||t.writable)&&++i,p&&(e===l||e.writable)&&e.close(p,n),d&&(t===l||t.writable)&&t.close(d,n)):s(r)}}e.open(r,"r",(function(i,y){if(i)return E(i);function w(i,c){if(i)return e!==l?void e.stat(r,(function(e,t){if(e)return E(i);w(null,t)})):E(i);u=c.size,t.open(n,"w",(function(r,i){if(r)return E(r);if(d=i,u<=0)return E();for(;v>u;){if(1===h){v=u;break}v-=f,--h}if((g=function(e){try{return Buffer.allocUnsafe(e)}catch(e){return e}}(v))instanceof Error)return E(g);function c(r,n,i,a,c,h){if(r)return E(r);function y(r){if(r)return E(r);if(_+=n,o&&o(_,n,u),n<h)return w(c,a+n,h-n);if(_!==u){if(!(m>=u)){var i=m+f>u?u-m:f;w(c,m,i),m+=i}}else t.close(d,(function(t){if(d=void 0,t)return E(t);e.close(p,(function(e){if(p=void 0,e)return E(e);s()}))}))}c=c||0,e===l?t.writeData(d,g,c,n,a,y):t.write(d,g,c,n,a,y)}function y(e,t,r){return function(n,i,s){c(n,i,0,t,e,r)}}function w(t,r,n){e===l?e.read(p,g,t,n,r,y(t,r,n)):e.readData(p,g,t,n,r,y(t,r,n))}function b(){for(var e=0,t=0;m<u&&e<h;){var r=m+f>u?u-m:f;w(t,m,r),t+=r,m+=r,++e}}void 0!==a?t.fchmod(d,a,(function e(r){r?t.chmod(n,a,(function(t){e()})):b()})):b()}))}p=y,void 0===c?e.fstat(p,w):w(null,{size:c})}))}function x(e,t,r,n,i,s,o){var a="function"==typeof o?o:void 0;e.writeData(t,r,n,i,s,(function(o,c){if(o)return e.close(t,(function(){a&&a(o)}));c===i?e.close(t,a):x(e,t,r,n+=c,i-=c,s+=c,a)}))}function P(e,t,r,n){var i=d(e,t),s=new H;if(t+=4,i&m.SIZE){var o=N(e,t,r,n);if(!1===o)return!1;s.size=o,t+=8}if(i&m.UIDGID){var a,c;if(!1===(a=p(e,t,this,n)))return!1;if(s.uid=a,!1===(c=p(e,t+=4,this,n)))return!1;s.gid=c,t+=4}if(i&m.PERMISSIONS){var u=p(e,t,this,n);if(!1===u)return!1;s.mode=u,s.permissions=u,t+=4}if(i&m.ACMODTIME){var h,l;if(!1===(h=p(e,t,this,n)))return!1;if(s.atime=h,!1===(l=p(e,t+=4,this,n)))return!1;s.mtime=l,t+=4}if(i&m.EXTENDED){var f=p(e,t,this,n);if(!1===f)return!1;t+=4;for(var g,_=0;_<f;++_){if(!1===(g=p(e,t,this,n)))return!1;t+=4+g}}return e._pos=t,s}function N(e,t,r,n){if(e.length-t<8)return r&&r._cleanup(n),!1;for(var i=0,s=t+8;t<s;++t)i*=256,i+=e[t];return e._pos=t,i}function L(e){var t=0,r=0,n=[],i=0;if("object"!=typeof e||null===e)return{flags:t,nbytes:r,bytes:n};if("number"==typeof e.size){t|=m.SIZE,r+=8;var s=new Array(8),o=e.size;for(i=7;i>=0;--i)s[i]=255&o,o/=256;n.push(s)}if("number"==typeof e.uid&&"number"==typeof e.gid&&(t|=m.UIDGID,r+=8,n.push([e.uid>>24&255,e.uid>>16&255,e.uid>>8&255,255&e.uid]),n.push([e.gid>>24&255,e.gid>>16&255,e.gid>>8&255,255&e.gid])),"number"==typeof e.permissions||"string"==typeof e.permissions||"number"==typeof e.mode||"string"==typeof e.mode){var a=U(e.mode||e.permissions);t|=m.PERMISSIONS,r+=4,n.push([a>>24&255,a>>16&255,a>>8&255,255&a])}if(("number"==typeof e.atime||u(e.atime))&&("number"==typeof e.mtime||u(e.mtime))){var c=D(e.atime),h=D(e.mtime);t|=m.ACMODTIME,r+=8,n.push([c>>24&255,c>>16&255,c>>8&255,255&c]),n.push([h>>24&255,h>>16&255,h>>8&255,255&h])}return{flags:t,nbytes:r,bytes:n}}function D(e){if("number"==typeof e&&!isNaN(e))return e;if(u(e))return parseInt(e.getTime()/1e3,10);throw new Error("Cannot parse time: "+e)}function U(e){if("number"==typeof e&&!isNaN(e))return e;if("string"==typeof e)return U(parseInt(e,8));throw new Error("Cannot parse mode: "+e)}c(R,n),R.prototype.__read=n.prototype._read,R.prototype._read=function(e){return this._needContinue&&(this._needContinue=!1,this.emit("continue")),this.__read(e)},R.prototype.__push=n.prototype.push,R.prototype.push=function(e,t){if(!this.readable)return!1;null===e&&(this.readable=!1);var r=this.__push(e,t);return this._needContinue=!1===r,r},R.prototype._cleanup=function(e){var t=this._state;t.pktBuf=void 0;var r=t.requests,n=Object.keys(r),i=n.length;if(i){if(this.readable)for(var s,o=new Error("SFTP session ended early"),a=0;a<i;++a)(s=r[n[a]].cb)&&s(o);t.requests={}}this.readable&&this.push(null),this._readableState.endEmitted||this._readableState.flowing||this.resume(),!1!==e&&(this.debug("DEBUG[SFTP]: Parser: Malformed packet"),e&&e(new Error("Malformed packet")))},R.prototype._transform=function(e,t,r){for(var n,i,s,o=this._state,a=this.server,c=o.status,u=o.pktType,l=o.pktBuf,m=o.pktLeft,w=o.version,b=o.pktHdrBuf,S=o.requests,A=this.debug,k=e.length,C=0;;){if("discard"===c){if(!(m<=(i=k-C))){m-=i;break}C+=m,m=0,c="packet_header",n=l=void 0}else{if(void 0!==l){if(m<=(i=k-C)){e.copy(l,l.length-m,C,C+m),C+=m,m=0,n=l,l=void 0;continue}e.copy(l,l.length-m,C),m-=i;break}if("packet_header"===c)if(n){if(m=d(n,4)-1,u=n[8],a){if(void 0===w&&u!==v.INIT)return A("DEBUG[SFTP]: Parser: Unexpected packet before init"),this._cleanup(!1),r(new Error("Unexpected packet before init"));if(void 0!==w&&u===v.INIT)A("DEBUG[SFTP]: Parser: Unexpected duplicate init"),c="bad_pkt";else{if(m>34e3)return A("DEBUG[SFTP]: Parser: "+(K="Packet length ("+m+") exceeds max length (34000)")),this._cleanup(!1),r(new Error(K));u===v.EXTENDED?c="bad_pkt":void 0===v[u]&&(A("DEBUG[SFTP]: Parser: Unsupported packet type: "+u),c="discard")}}else{if(void 0===w&&u!==E.VERSION)return A("DEBUG[SFTP]: Parser: Unexpected packet before version"),this._cleanup(!1),r(new Error("Unexpected packet before version"));void 0!==w&&u===E.VERSION?(A("DEBUG[SFTP]: Parser: Unexpected duplicate version"),c="bad_pkt"):void 0===E[u]&&(c="discard")}"bad_pkt"===c?(g(b,m+1,0),b[4]=u,m=4,l=b):(l=Buffer.allocUnsafe(m),c="payload")}else m=5,l=b;else if("payload"===c){if(u===E.VERSION||u===v.INIT){if(!1===(w=o.version=p(n,0,this,r)))return;if(w<3)return this._cleanup(!1),r(new Error("Incompatible SFTP version: "+w));a&&this.push(T);var R,O,x=n.length;for(n._pos=4;n._pos<x;){if(!1===(R=f(n,n._pos,"ascii",this,r)))return;if(!1===(O=f(n,n._pos,"ascii",this,r)))return;o.extensions[R]?o.extensions[R].push(O):o.extensions[R]=[O]}this.emit("ready")}else{if(!1===(s=p(n,0,this,r)))return;var L,D,U,I;if(a){var B,M,H=v[u];if(A("DEBUG[SFTP]: Parser: Request: "+H),h(this,H)){if(u===v.OPEN){if(!1===(L=f(n,4,"utf8",this,r)))return;var F=p(n,n._pos,this,r);if(!1===F)return;if(!1===(D=P(n,n._pos+4,this,r)))return;this.emit(H,s,L,F,D)}else if(u===v.CLOSE||u===v.FSTAT||u===v.READDIR){if(!1===(U=f(n,4,this,r)))return;this.emit(H,s,U)}else if(u===v.READ){if(!1===(U=f(n,4,this,r)))return;if(!1===(B=N(n,n._pos,this,r)))return;var G=p(n,n._pos,this,r);if(!1===G)return;this.emit(H,s,U,B,G)}else if(u===v.WRITE){if(!1===(U=f(n,4,this,r)))return;if(!1===(B=N(n,n._pos,this,r)))return;if(!1===(I=f(n,n._pos,this,r)))return;this.emit(H,s,U,B,I)}else if(u===v.LSTAT||u===v.STAT||u===v.OPENDIR||u===v.REMOVE||u===v.RMDIR||u===v.REALPATH||u===v.READLINK){if(!1===(M=f(n,4,"utf8",this,r)))return;this.emit(H,s,M)}else if(u===v.SETSTAT||u===v.MKDIR){if(!1===(M=f(n,4,"utf8",this,r)))return;if(!1===(D=P(n,n._pos,this,r)))return;this.emit(H,s,M,D)}else if(u===v.FSETSTAT){if(!1===(U=f(n,4,this,r)))return;if(!1===(D=P(n,n._pos,this,r)))return;this.emit(H,s,U,D)}else if(u===v.RENAME||u===v.SYMLINK){var $,W;if(!1===($=f(n,4,"utf8",this,r)))return;if(!1===(W=f(n,n._pos,"utf8",this,r)))return;u===v.SYMLINK&&this._isOpenSSH?this.emit(H,s,W,$):this.emit(H,s,$,W)}}else this.status(s,_.OP_UNSUPPORTED)}else{var j=S[s],q=j&&j.cb;if(A("DEBUG[SFTP]: Parser: Response: "+E[u]),j&&q)if(u===E.STATUS){var Y=p(n,4,this,r);if(!1===Y)return;if(Y===_.OK)q();else{var K,Q="";if(n.length>=12){if(!1===(K=f(n,8,"utf8",this,r)))return;if(n._pos+4<n.length&&!1===(Q=f(n,n._pos,"ascii",this,r)))return}var V=new Error(K||y[Y]||"Unknown status");V.code=Y,V.lang=Q,q(V)}}else if(u===E.HANDLE){if(!1===(U=f(n,4,this,r)))return;q(void 0,U)}else if(u===E.DATA)if(j.buffer){var X=p(n,4,this,r);if(!1===X)return;var z=j.buffer.length;if(X>z&&g(n,z,4),!1===(I=f(n,4,j.buffer,this,r)))return;q(void 0,I,X)}else{if(!1===(I=f(n,4,this,r)))return;q(void 0,I)}else if(u===E.NAME){var Z=p(n,4,this,r);if(!1===Z)return;var J,ee=[];n._pos=8;for(var te=0;te<Z;++te){if(!1===(L=f(n,n._pos,"utf8",this,r)))return;if(!1===(J=f(n,n._pos,"utf8",this,r)))return;if(!1===(D=P(n,n._pos,this,r)))return;ee.push({filename:L,longname:J,attrs:D})}q(void 0,ee)}else if(u===E.ATTRS){if(!1===(D=P(n,4,this,r)))return;q(void 0,D)}else if(u===E.EXTENDED){if(j.extended)switch(j.extended){case"statvfs@openssh.com":case"fstatvfs@openssh.com":var re={f_bsize:void 0,f_frsize:void 0,f_blocks:void 0,f_bfree:void 0,f_bavail:void 0,f_files:void 0,f_ffree:void 0,f_favail:void 0,f_sid:void 0,f_flag:void 0,f_namemax:void 0};if(re.f_bsize=N(n,4,this,r),!1===re.f_bsize)return;if(re.f_frsize=N(n,12,this,r),!1===re.f_frsize)return;if(re.f_blocks=N(n,20,this,r),!1===re.f_blocks)return;if(re.f_bfree=N(n,28,this,r),!1===re.f_bfree)return;if(re.f_bavail=N(n,36,this,r),!1===re.f_bavail)return;if(re.f_files=N(n,44,this,r),!1===re.f_files)return;if(re.f_ffree=N(n,52,this,r),!1===re.f_ffree)return;if(re.f_favail=N(n,60,this,r),!1===re.f_favail)return;if(re.f_sid=N(n,68,this,r),!1===re.f_sid)return;if(re.f_flag=N(n,76,this,r),!1===re.f_flag)return;if(re.f_namemax=N(n,84,this,r),!1===re.f_namemax)return;q(void 0,re)}q()}j&&delete S[s]}}c="packet_header",n=l=void 0}else if("bad_pkt"===c){if(a&&n[4]!==v.INIT){var ne=n[4]===v.EXTENDED?_.OP_UNSUPPORTED:_.FAILURE;if(n[4]===v.INIT||n[4]===E.VERSION)return this._cleanup(r);if(!1===(s=p(n,5,this,r)))return;this.status(s,ne)}m=d(n,0)-5,c="discard"}}if(C>=k)break}o.status=c,o.pktType=u,o.pktBuf=l,o.pktLeft=m,o.version=w,r()},R.prototype.createReadStream=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");return new V(this,e,t)},R.prototype.createWriteStream=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");return new z(this,e,t)},R.prototype.open=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i=this._state;"function"==typeof r&&(n=r,r=void 0);var s="number"==typeof t?t:M(t);if(null===s)throw new Error("Unknown flags string: "+t);var o=0,a=0;"string"!=typeof r&&"number"!=typeof r||(r={mode:r}),"object"==typeof r&&null!==r&&(o=(r=L(r)).flags,a=r.nbytes,r=r.bytes);var c=Buffer.byteLength(e),u=9,h=Buffer.allocUnsafe(13+c+4+4+a);g(h,h.length-4,0),h[4]=v.OPEN;var l=i.writeReqid=(i.writeReqid+1)%b;if(g(h,l,5),g(h,c,u),h.write(e,u+=4,c,"utf8"),g(h,s,u+=c),g(h,o,u+=4),r&&o){u+=4;for(var f=0,p=r.length;f<p;++f)for(var d=0,m=r[f].length;d<m;++d)h[u++]=r[f][d]}return i.requests[l]={cb:n},this.debug("DEBUG[SFTP]: Outgoing: Writing OPEN"),this.push(h)},R.prototype.close=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var r=this._state,n=e.length,i=9,s=Buffer.allocUnsafe(13+n);g(s,s.length-4,0),s[4]=v.CLOSE;var o=r.writeReqid=(r.writeReqid+1)%b;return g(s,o,5),g(s,n,i),e.copy(s,i+=4),r.requests[o]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing CLOSE"),this.push(s)},R.prototype.readData=function(e,t,r,n,i,s){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");if(!Buffer.isBuffer(t))throw new Error("buffer is not a Buffer");if(r>=t.length)throw new Error("offset is out of bounds");if(r+n>t.length)throw new Error("length extends beyond buffer");if(null===i)throw new Error("null position currently unsupported");var o=this._state,a=e.length,c=9,u=i,h=Buffer.allocUnsafe(13+a+8+4);g(h,h.length-4,0),h[4]=v.READ;var l=o.writeReqid=(o.writeReqid+1)%b;g(h,l,5),g(h,a,c),e.copy(h,c+=4),c+=a;for(var f=7;f>=0;--f)h[c+f]=255&u,u/=256;return g(h,n,c+=8),o.requests[l]={cb:function(e,t,r){if(e){if(s._wantEOFError||e.code!==_.EOF)return s(e)}else if(r>n)return s(new Error("Received more data than requested"));s(void 0,r||0,t,i)},buffer:t.slice(r,r+n)},this.debug("DEBUG[SFTP]: Outgoing: Writing READ"),this.push(h)},R.prototype.writeData=function(e,t,r,n,i,s){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");if(!Buffer.isBuffer(t))throw new Error("buffer is not a Buffer");if(r>t.length)throw new Error("offset is out of bounds");if(r+n>t.length)throw new Error("length extends beyond buffer");if(null===i)throw new Error("null position currently unsupported");var o=this,a=this._state;if(n){var c=n>a.maxDataLen?n-a.maxDataLen:0,u=i;c&&(n=a.maxDataLen);var h=e.length,l=9,f=Buffer.allocUnsafe(13+h+8+4+n);g(f,f.length-4,0),f[4]=v.WRITE;var p=a.writeReqid=(a.writeReqid+1)%b;g(f,p,5),g(f,h,l),e.copy(f,l+=4),l+=h;for(var d=7;d>=0;--d)f[l+d]=255&i,i/=256;return g(f,n,l+=8),t.copy(f,l+=4,r,r+n),a.requests[p]={cb:function(i){i?s&&s(i):c?o.writeData(e,t,r+n,c,u+n,s):s&&s(void 0,r+n)}},this.debug("DEBUG[SFTP]: Outgoing: Writing WRITE"),this.push(f)}s&&process.nextTick((function(){s(void 0,0)}))},R.prototype.fastGet=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");O(this,l,e,t,r,n)},R.prototype.fastPut=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");O(l,this,e,t,r,n)},R.prototype.readFile=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n;"function"==typeof r?n=r:"function"==typeof t&&(n=t,t=void 0);var i=this;if("string"==typeof t)t={encoding:t,flag:"r"};else if(t){if("object"!=typeof t)throw new TypeError("Bad arguments")}else t={encoding:null,flag:"r"};var s,o,a,c=t.encoding;if(c&&!Buffer.isEncoding(c))throw new Error("Unknown encoding: "+c);var u,h=0,l=0,f=t.flag||"r";function p(){0===s?(o=Buffer.allocUnsafe(8192),i.readData(u,o,0,8192,l,d)):i.readData(u,o,h,s-h,l,d)}function d(e,t){var r;if(e){if(!(r=e.code===_.EOF))return i.close(u,(function(){return n&&n(e)}))}else r=!1;if(r||0===s&&0===t)return g();l+=t,h+=t,0!==s?h===s?g():p():(a.push(o.slice(0,t)),p())}function g(){i.close(u,(function(e){return 0===s?o=Buffer.concat(a,h):h<s&&(o=o.slice(0,h)),c&&(o=o.toString(c)),n&&n(e,o)}))}this.open(e,f,438,(function(t,r){if(t)return n&&n(t);u=r,i.fstat(u,(function t(r,c){if(r)i.stat(e,(function(e,s){if(e)return i.close(u,(function(){n&&n(r)}));t(null,s)}));else{if(0===(s=c.size||0))return a=[],p();o=Buffer.allocUnsafe(s),p()}}))})),d._wantEOFError=!0},R.prototype.writeFile=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i;"function"==typeof n?i=n:"function"==typeof r&&(i=r,r=void 0);var s=this;if("string"==typeof r)r={encoding:r,mode:438,flag:"w"};else if(r){if("object"!=typeof r)throw new TypeError("Bad arguments")}else r={encoding:"utf8",mode:438,flag:"w"};if(r.encoding&&!Buffer.isEncoding(r.encoding))throw new Error("Unknown encoding: "+r.encoding);var o=r.flag||"w";this.open(e,o,r.mode,(function(n,a){if(n)i&&i(n);else{var c=Buffer.isBuffer(t)?t:Buffer.from(""+t,r.encoding||"utf8"),u=/a/.test(o)?null:0;if(null===u)return void s.fstat(a,(function t(r,n){r?s.stat(e,(function(e,n){if(e)return s.close(a,(function(){i&&i(r)}));t(null,n)})):x(s,a,c,0,c.length,n.size,i)}));x(s,a,c,0,c.length,u,i)}}))},R.prototype.appendFile=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i;if("function"==typeof n?i=n:"function"==typeof r&&(i=r,r=void 0),"string"==typeof r)r={encoding:r,mode:438,flag:"a"};else if(r){if("object"!=typeof r)throw new TypeError("Bad arguments")}else r={encoding:"utf8",mode:438,flag:"a"};r.flag||(r=a._extend({flag:"a"},r)),this.writeFile(e,t,r,i)},R.prototype.exists=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");this.stat(e,(function(e){t&&t(!e)}))},R.prototype.unlink=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,s=Buffer.allocUnsafe(13+n);g(s,s.length-4,0),s[4]=v.REMOVE;var o=r.writeReqid=(r.writeReqid+1)%b;return g(s,o,5),g(s,n,i),s.write(e,i+=4,n,"utf8"),r.requests[o]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing REMOVE"),this.push(s)},R.prototype.rename=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=this._state,i=Buffer.byteLength(e),s=Buffer.byteLength(t),o=9,a=Buffer.allocUnsafe(13+i+4+s);g(a,a.length-4,0),a[4]=v.RENAME;var c=n.writeReqid=(n.writeReqid+1)%b;return g(a,c,5),g(a,i,o),a.write(e,o+=4,i,"utf8"),g(a,s,o+=i),a.write(t,o+=4,s,"utf8"),n.requests[c]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing RENAME"),this.push(a)},R.prototype.mkdir=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=0,i=0,s=this._state;"function"==typeof t&&(r=t,t=void 0),"object"==typeof t&&null!==t&&(n=(t=L(t)).flags,i=t.nbytes,t=t.bytes);var o=Buffer.byteLength(e),a=9,c=Buffer.allocUnsafe(13+o+4+i);g(c,c.length-4,0),c[4]=v.MKDIR;var u=s.writeReqid=(s.writeReqid+1)%b;if(g(c,u,5),g(c,o,a),c.write(e,a+=4,o,"utf8"),g(c,n,a+=o),n){a+=4;for(var h=0,l=t.length;h<l;++h)for(var f=0,p=t[h].length;f<p;++f)c[a++]=t[h][f]}return s.requests[u]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing MKDIR"),this.push(c)},R.prototype.rmdir=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,s=Buffer.allocUnsafe(13+n);g(s,s.length-4,0),s[4]=v.RMDIR;var o=r.writeReqid=(r.writeReqid+1)%b;return g(s,o,5),g(s,n,i),s.write(e,i+=4,n,"utf8"),r.requests[o]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing RMDIR"),this.push(s)},R.prototype.readdir=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n,i=this._state;if("function"==typeof t&&(r=t,t={}),"object"==typeof t&&null!==t||(t={}),n=!t||!t.full,!Buffer.isBuffer(e)&&"string"!=typeof e)throw new Error("missing directory handle or path");if("string"==typeof e){var s=this,o=[],a=0;return this.opendir(e,(function e(n,i){if(n)return r(n);s.readdir(i,t,(function(t,n){var c=t&&t.code===_.EOF;if(t&&!c)return s.close(i,(function(){r(t)}));if(c)return s.close(i,(function(e){if(e)return r(e);r(void 0,o)}));for(var u=0,h=n.length;u<h;++u,++a)o[a]=n[u];e(void 0,i)}))}))}var c=e.length,u=9,h=Buffer.allocUnsafe(13+c);g(h,h.length-4,0),h[4]=v.READDIR;var l=i.writeReqid=(i.writeReqid+1)%b;return g(h,l,5),g(h,c,u),e.copy(h,u+=4),i.requests[l]={cb:n?function(e,t){if(e)return r(e);for(var n=t.length-1;n>=0;--n)"."!==t[n].filename&&".."!==t[n].filename||t.splice(n,1);r(void 0,t)}:r},this.debug("DEBUG[SFTP]: Outgoing: Writing READDIR"),this.push(h)},R.prototype.fstat=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var r=this._state,n=e.length,i=9,s=Buffer.allocUnsafe(13+n);g(s,s.length-4,0),s[4]=v.FSTAT;var o=r.writeReqid=(r.writeReqid+1)%b;return g(s,o,5),g(s,n,i),e.copy(s,i+=4),r.requests[o]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing FSTAT"),this.push(s)},R.prototype.stat=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,s=Buffer.allocUnsafe(13+n);g(s,s.length-4,0),s[4]=v.STAT;var o=r.writeReqid=(r.writeReqid+1)%b;return g(s,o,5),g(s,n,i),s.write(e,i+=4,n,"utf8"),r.requests[o]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing STAT"),this.push(s)},R.prototype.lstat=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,s=Buffer.allocUnsafe(13+n);g(s,s.length-4,0),s[4]=v.LSTAT;var o=r.writeReqid=(r.writeReqid+1)%b;return g(s,o,5),g(s,n,i),s.write(e,i+=4,n,"utf8"),r.requests[o]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing LSTAT"),this.push(s)},R.prototype.opendir=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,s=Buffer.allocUnsafe(13+n);g(s,s.length-4,0),s[4]=v.OPENDIR;var o=r.writeReqid=(r.writeReqid+1)%b;return g(s,o,5),g(s,n,i),s.write(e,i+=4,n,"utf8"),r.requests[o]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing OPENDIR"),this.push(s)},R.prototype.setstat=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=0,i=0,s=this._state;"object"==typeof t&&null!==t?(n=(t=L(t)).flags,i=t.nbytes,t=t.bytes):"function"==typeof t&&(r=t);var o=Buffer.byteLength(e),a=9,c=Buffer.allocUnsafe(13+o+4+i);g(c,c.length-4,0),c[4]=v.SETSTAT;var u=s.writeReqid=(s.writeReqid+1)%b;if(g(c,u,5),g(c,o,a),c.write(e,a+=4,o,"utf8"),g(c,n,a+=o),n){a+=4;for(var h=0,l=t.length;h<l;++h)for(var f=0,p=t[h].length;f<p;++f)c[a++]=t[h][f]}return s.requests[u]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing SETSTAT"),this.push(c)},R.prototype.fsetstat=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var n=0,i=0,s=this._state;"object"==typeof t&&null!==t?(n=(t=L(t)).flags,i=t.nbytes,t=t.bytes):"function"==typeof t&&(r=t);var o=e.length,a=9,c=Buffer.allocUnsafe(13+o+4+i);g(c,c.length-4,0),c[4]=v.FSETSTAT;var u=s.writeReqid=(s.writeReqid+1)%b;if(g(c,u,5),g(c,o,a),e.copy(c,a+=4),g(c,n,a+=o),n){a+=4;for(var h=0,l=t.length;h<l;++h)for(var f=0,p=t[h].length;f<p;++f)c[a++]=t[h][f]}return s.requests[u]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing FSETSTAT"),this.push(c)},R.prototype.futimes=function(e,t,r,n){return this.fsetstat(e,{atime:D(t),mtime:D(r)},n)},R.prototype.utimes=function(e,t,r,n){return this.setstat(e,{atime:D(t),mtime:D(r)},n)},R.prototype.fchown=function(e,t,r,n){return this.fsetstat(e,{uid:t,gid:r},n)},R.prototype.chown=function(e,t,r,n){return this.setstat(e,{uid:t,gid:r},n)},R.prototype.fchmod=function(e,t,r){return this.fsetstat(e,{mode:t},r)},R.prototype.chmod=function(e,t,r){return this.setstat(e,{mode:t},r)},R.prototype.readlink=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,s=Buffer.allocUnsafe(13+n);g(s,s.length-4,0),s[4]=v.READLINK;var o=r.writeReqid=(r.writeReqid+1)%b;return g(s,o,5),g(s,n,i),s.write(e,i+=4,n,"utf8"),r.requests[o]={cb:function(e,r){return e?t(e):r&&r.length?void t(void 0,r[0].filename):t(new Error("Response missing link info"))}},this.debug("DEBUG[SFTP]: Outgoing: Writing READLINK"),this.push(s)},R.prototype.symlink=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=this._state,i=Buffer.byteLength(t),s=Buffer.byteLength(e),o=9,a=Buffer.allocUnsafe(13+i+4+s);g(a,a.length-4,0),a[4]=v.SYMLINK;var c=n.writeReqid=(n.writeReqid+1)%b;return g(a,c,5),this._isOpenSSH?(g(a,s,o),a.write(e,o+=4,s,"utf8"),g(a,i,o+=s),a.write(t,o+=4,i,"utf8")):(g(a,i,o),a.write(t,o+=4,i,"utf8"),g(a,s,o+=i),a.write(e,o+=4,s,"utf8")),n.requests[c]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing SYMLINK"),this.push(a)},R.prototype.realpath=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,s=Buffer.allocUnsafe(13+n);g(s,s.length-4,0),s[4]=v.REALPATH;var o=r.writeReqid=(r.writeReqid+1)%b;return g(s,o,5),g(s,n,i),s.write(e,i+=4,n,"utf8"),r.requests[o]={cb:function(e,r){return e?t(e):r&&r.length?void t(void 0,r[0].filename):t(new Error("Response missing path info"))}},this.debug("DEBUG[SFTP]: Outgoing: Writing REALPATH"),this.push(s)},R.prototype.ext_openssh_rename=function(e,t,r){var n=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!n.extensions["posix-rename@openssh.com"]||-1===n.extensions["posix-rename@openssh.com"].indexOf("1"))throw new Error("Server does not support this extended request");var i=Buffer.byteLength(e),s=Buffer.byteLength(t),o=9,a=Buffer.allocUnsafe(41+i+4+s);g(a,a.length-4,0),a[4]=v.EXTENDED;var c=n.writeReqid=(n.writeReqid+1)%b;return g(a,c,5),g(a,24,o),a.write("posix-rename@openssh.com",o+=4,24,"ascii"),g(a,i,o+=24),a.write(e,o+=4,i,"utf8"),g(a,s,o+=i),a.write(t,o+=4,s,"utf8"),n.requests[c]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing posix-rename@openssh.com"),this.push(a)},R.prototype.ext_openssh_statvfs=function(e,t){var r=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!r.extensions["statvfs@openssh.com"]||-1===r.extensions["statvfs@openssh.com"].indexOf("2"))throw new Error("Server does not support this extended request");var n=Buffer.byteLength(e),i=9,s=Buffer.allocUnsafe(36+n);g(s,s.length-4,0),s[4]=v.EXTENDED;var o=r.writeReqid=(r.writeReqid+1)%b;return g(s,o,5),g(s,19,i),s.write("statvfs@openssh.com",i+=4,19,"ascii"),g(s,n,i+=19),s.write(e,i+=4,n,"utf8"),r.requests[o]={extended:"statvfs@openssh.com",cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing statvfs@openssh.com"),this.push(s)},R.prototype.ext_openssh_fstatvfs=function(e,t){var r=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!r.extensions["fstatvfs@openssh.com"]||-1===r.extensions["fstatvfs@openssh.com"].indexOf("2"))throw new Error("Server does not support this extended request");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var n=e.length,i=9,s=Buffer.allocUnsafe(37+n);g(s,s.length-4,0),s[4]=v.EXTENDED;var o=r.writeReqid=(r.writeReqid+1)%b;return g(s,o,5),g(s,20,i),s.write("fstatvfs@openssh.com",i+=4,20,"ascii"),g(s,n,i+=20),s.write(e,i+=4,n,"utf8"),r.requests[o]={extended:"fstatvfs@openssh.com",cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing fstatvfs@openssh.com"),this.push(s)},R.prototype.ext_openssh_hardlink=function(e,t,r){var n=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!n.extensions["hardlink@openssh.com"]||-1===n.extensions["hardlink@openssh.com"].indexOf("1"))throw new Error("Server does not support this extended request");var i=Buffer.byteLength(e),s=Buffer.byteLength(t),o=9,a=Buffer.allocUnsafe(37+i+4+s);g(a,a.length-4,0),a[4]=v.EXTENDED;var c=n.writeReqid=(n.writeReqid+1)%b;return g(a,c,5),g(a,20,o),a.write("hardlink@openssh.com",o+=4,20,"ascii"),g(a,i,o+=20),a.write(e,o+=4,i,"utf8"),g(a,s,o+=i),a.write(t,o+=4,s,"utf8"),n.requests[c]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing hardlink@openssh.com"),this.push(a)},R.prototype.ext_openssh_fsync=function(e,t){var r=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!r.extensions["fsync@openssh.com"]||-1===r.extensions["fsync@openssh.com"].indexOf("1"))throw new Error("Server does not support this extended request");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var n=e.length,i=9,s=Buffer.allocUnsafe(34+n);g(s,s.length-4,0),s[4]=v.EXTENDED;var o=r.writeReqid=(r.writeReqid+1)%b;return g(s,o,5),g(s,17,i),s.write("fsync@openssh.com",i+=4,17,"ascii"),g(s,n,i+=17),s.write(e,i+=4,n,"utf8"),r.requests[o]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing fsync@openssh.com"),this.push(s)},R.prototype.status=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");if(!_[t]||"number"!=typeof t)throw new Error("Bad status code: "+t);r||(r=""),n||(n="");var i=Buffer.byteLength(r),s=Buffer.byteLength(n),o=Buffer.allocUnsafe(17+i+4+s);return g(o,o.length-4,0),o[4]=E.STATUS,g(o,e,5),g(o,t,9),g(o,i,13),i&&o.write(r,17,i,"utf8"),g(o,s,17+i),s&&o.write(n,17+i+4,s,"ascii"),this.debug("DEBUG[SFTP]: Outgoing: Writing STATUS"),this.push(o)},R.prototype.handle=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if(!Buffer.isBuffer(t))throw new Error("handle is not a Buffer");var r=t.length;if(r>256)throw new Error("handle too large (> 256 bytes)");var n=Buffer.allocUnsafe(13+r);return g(n,n.length-4,0),n[4]=E.HANDLE,g(n,e,5),g(n,r,9),r&&t.copy(n,13),this.debug("DEBUG[SFTP]: Outgoing: Writing HANDLE"),this.push(n)},R.prototype.data=function(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");var n=Buffer.isBuffer(t);if(!n&&"string"!=typeof t)throw new Error("data is not a Buffer or string");n||r||(r="utf8");var i=n?t.length:Buffer.byteLength(t,r),s=Buffer.allocUnsafe(13+i);return g(s,s.length-4,0),s[4]=E.DATA,g(s,e,5),g(s,i,9),i&&(n?t.copy(s,13):s.write(t,13,i,r)),this.debug("DEBUG[SFTP]: Outgoing: Writing DATA"),this.push(s)},R.prototype.name=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if(!Array.isArray(t)){if("object"!=typeof t||null===t)throw new Error("names is not an object or array");t=[t]}var r,n,i,s,o,a,c,u,h,l,f,p,d=t.length,m=0,_=[];for(l=0;l<d;++l)i=(n=t[l])&&n.filename&&"string"==typeof n.filename?n.filename:"",m+=4+Buffer.byteLength(i),s=n&&n.longname&&"string"==typeof n.longname?n.longname:"",m+=4+Buffer.byteLength(s),"object"==typeof n.attrs&&null!==n.attrs?(m+=4+(r=L(n.attrs)).nbytes,_.push(r)):(m+=4,_.push(null));for(u=Buffer.allocUnsafe(13+m),g(u,u.length-4,0),u[4]=E.NAME,g(u,e,5),g(u,d,9),h=13,l=0;l<d;++l)if(i=(n=t[l])&&n.filename&&"string"==typeof n.filename?n.filename:"",a=Buffer.byteLength(i),g(u,a,h),h+=4,a&&(u.write(i,h,a,"utf8"),h+=a),s=n&&n.longname&&"string"==typeof n.longname?n.longname:"",a=Buffer.byteLength(s),g(u,a,h),h+=4,a&&(u.write(s,h,a,"utf8"),h+=a),o=_[l]){if(g(u,o.flags,h),h+=4,o.flags&&o.bytes){var y=o.bytes;for(f=0,a=y.length;f<a;++f)for(p=0,c=y[f].length;p<c;++p)u[h++]=y[f][p]}}else g(u,0,h),h+=4;return this.debug("DEBUG[SFTP]: Outgoing: Writing NAME"),this.push(u)},R.prototype.attrs=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if("object"!=typeof t||null===t)throw new Error("attrs is not an object");var r=L(t),n=Buffer.allocUnsafe(13+r.nbytes),i=13;if(g(n,n.length-4,0),n[4]=E.ATTRS,g(n,e,5),g(n,r.flags,9),r.flags&&r.bytes)for(var s=r.bytes,o=0,a=s.length;o<a;++o)for(var c=0,u=s[o].length;c<u;++c)n[i++]=s[o][c];return this.debug("DEBUG[SFTP]: Outgoing: Writing ATTRS"),this.push(n)};var I={r:w.READ,"r+":w.READ|w.WRITE,w:w.TRUNC|w.CREAT|w.WRITE,wx:w.TRUNC|w.CREAT|w.WRITE|w.EXCL,xw:w.TRUNC|w.CREAT|w.WRITE|w.EXCL,"w+":w.TRUNC|w.CREAT|w.READ|w.WRITE,"wx+":w.TRUNC|w.CREAT|w.READ|w.WRITE|w.EXCL,"xw+":w.TRUNC|w.CREAT|w.READ|w.WRITE|w.EXCL,a:w.APPEND|w.CREAT|w.WRITE,ax:w.APPEND|w.CREAT|w.WRITE|w.EXCL,xa:w.APPEND|w.CREAT|w.WRITE|w.EXCL,"a+":w.APPEND|w.CREAT|w.READ|w.WRITE,"ax+":w.APPEND|w.CREAT|w.READ|w.WRITE|w.EXCL,"xa+":w.APPEND|w.CREAT|w.READ|w.WRITE|w.EXCL},B=Object.keys(I);function M(e){var t=I[e];return void 0!==t?t:null}function H(e){this.mode=e&&e.mode,this.permissions=this.mode,this.uid=e&&e.uid,this.gid=e&&e.gid,this.size=e&&e.size,this.atime=e&&e.atime,this.mtime=e&&e.mtime}R.stringToFlags=M,R.flagsToString=function(e){for(var t=0;t<B.length;++t){var r=B[t];if(I[r]===e)return r}return null},H.prototype._checkModeProperty=function(e){return(this.mode&o.S_IFMT)===e},H.prototype.isDirectory=function(){return this._checkModeProperty(o.S_IFDIR)},H.prototype.isFile=function(){return this._checkModeProperty(o.S_IFREG)},H.prototype.isBlockDevice=function(){return this._checkModeProperty(o.S_IFBLK)},H.prototype.isCharacterDevice=function(){return this._checkModeProperty(o.S_IFCHR)},H.prototype.isSymbolicLink=function(){return this._checkModeProperty(o.S_IFLNK)},H.prototype.isFIFO=function(){return this._checkModeProperty(o.S_IFIFO)},H.prototype.isSocket=function(){return this._checkModeProperty(o.S_IFSOCK)},R.Stats=H;var F,G=r(121),$=G.validateNumber,W=G.destroyImpl,j=G.ERR_OUT_OF_RANGE,q=G.ERR_INVALID_ARG_TYPE,Y=[];function K(e,t){if(!Number.isSafeInteger(e)){if($(e,t),!Number.isInteger(e))throw new j(t,"an integer",e);throw new j(t,">= 0 and <= 2 ** 53 - 1",e)}if(e<0)throw new j(t,">= 0 and <= 2 ** 53 - 1",e)}function Q(e){return e+7&-8}function V(e,t,r){if(void 0===r)r={};else if("string"==typeof r)r={encoding:r};else{if(null===r||"object"!=typeof r)throw new TypeError('"options" argument must be a string or an object');r=Object.create(r)}if(void 0===r.highWaterMark&&(r.highWaterMark=65536),r.emitClose=!1,i.call(this,r),this.path=t,this.flags=void 0===r.flags?"r":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.end=r.end,this.autoClose=void 0===r.autoClose||r.autoClose,this.pos=0,this.bytesRead=0,this.closed=!1,this.handle=void 0===r.handle?null:r.handle,this.sftp=e,this._opening=!1,void 0!==this.start&&(K(this.start,"start"),this.pos=this.start),void 0===this.end)this.end=1/0;else if(this.end!==1/0&&(K(this.end,"end"),void 0!==this.start&&this.start>this.end))throw new j("start",`<= "end" (here: ${this.end})`,this.start);this.on("end",(function(){this.autoClose&&this.destroy()})),Buffer.isBuffer(this.handle)||this.open()}function X(e,t,r){if(!e.handle)return n();function n(n){t(n=n||r),e.closed=!0,n||e.emit("close")}e.sftp.close(e.handle,n)}function z(e,t,r){if(void 0===r)r={};else if("string"==typeof r)r={encoding:r};else{if(null===r||"object"!=typeof r)throw new TypeError('"options" argument must be a string or an object');r=Object.create(r)}r.emitClose=!1,s.call(this,r),this.path=t,this.flags=void 0===r.flags?"w":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.autoClose=void 0===r.autoClose||r.autoClose,this.pos=0,this.bytesWritten=0,this.closed=!1,this.handle=void 0===r.handle?null:r.handle,this.sftp=e,this._opening=!1,void 0!==this.start&&(K(this.start,"start"),this.pos=this.start),r.encoding&&this.setDefaultEncoding(r.encoding),this.on("finish",(function(){this._writableState.finalCalled||this.autoClose&&this.destroy()})),Buffer.isBuffer(this.handle)||this.open()}c(V,i),V.prototype.open=function(){this._opening||(this._opening=!0,this.sftp.open(this.path,this.flags,this.mode,(e,t)=>{if(this._opening=!1,e)return this.emit("error",e),void(this.autoClose&&this.destroy());this.handle=t,this.emit("open",t),this.emit("ready"),this.read()}))},V.prototype._read=function(e){if(!Buffer.isBuffer(this.handle))return this.once("open",(function(){this._read(e)}));if(!this.destroyed){var t;(!F||F.length-F.used<128)&&(t=this.readableHighWaterMark||this._readableState.highWaterMark,(F=Y.length>0?Y.pop():Buffer.allocUnsafe(t)).used=0);var r=F,n=Math.min(F.length-F.used,e),i=F.used;if(void 0!==this.end&&(n=Math.min(this.end-this.pos+1,n)),n<=0)return this.push(null);this.sftp.readData(this.handle,F,F.used,n,this.pos,(e,t)=>{if(e)return this.emit("error",e),void(this.autoClose&&this.destroy());var s=null;if(i+n===r.used&&r===F){var o=r.used+t-n;r.used=Q(o)}else{var a=i+n&-8,c=Q(i+t);a-c>=128&&Y.push(r.slice(c,a))}t>0&&(this.bytesRead+=t,s=r.slice(i,i+t)),this.pos+=t,this.push(s)}),F.used=Q(F.used+n)}},"function"!=typeof i.prototype.destroy&&(V.prototype.destroy=W),V.prototype._destroy=function(e,t){!this._opening||Buffer.isBuffer(this.handle)?(X(this,t,e),this.handle=null,this._opening=!1):this.once("open",X.bind(null,this,t,e))},V.prototype.close=function(e){this.destroy(null,e)},Object.defineProperty(V.prototype,"pending",{get(){return null===this.handle},configurable:!0}),c(z,s),z.prototype._final=function(e){this.autoClose&&this.destroy(),e()},z.prototype.open=function(){this._opening||(this._opening=!0,this.sftp.open(this.path,this.flags,this.mode,(e,t)=>{if(this._opening=!1,e)return this.emit("error",e),void(this.autoClose&&this.destroy());this.handle=t;var r=e=>{if(e)this.sftp.chmod(this.path,this.mode,e=>{r()});else if("a"!==this.flags[0])this.emit("open",t),this.emit("ready");else{var n=(e,r)=>{e?this.sftp.stat(this.path,(t,r)=>{if(t)return this.destroy(),void this.emit("error",e);n(null,r)}):(this.pos=r.size,this.emit("open",t),this.emit("ready"))};this.sftp.fstat(t,n)}};this.sftp.fchmod(t,this.mode,r)}))},z.prototype._write=function(e,t,r){if(!Buffer.isBuffer(e)){const t=new q("data","Buffer",e);return this.emit("error",t)}if(!Buffer.isBuffer(this.handle))return this.once("open",(function(){this._write(e,t,r)}));this.sftp.writeData(this.handle,e,0,e.length,this.pos,(e,t)=>{if(e)return this.autoClose&&this.destroy(),r(e);this.bytesWritten+=t,r()}),this.pos+=e.length},z.prototype._writev=function(e,t){if(!Buffer.isBuffer(this.handle))return this.once("open",(function(){this._writev(e,t)}));for(var r=this.sftp,n=this.handle,i=e.length,s=(e,r)=>{if(e)return this.destroy(),t(e);this.bytesWritten+=r,0==--i&&t()},o=0;o<e.length;++o){var a=e[o].chunk;r.writeData(n,a,0,a.length,this.pos,s),this.pos+=a.length}},"function"!=typeof s.prototype.destroy&&(z.prototype.destroy=V.prototype.destroy),z.prototype._destroy=V.prototype._destroy,z.prototype.close=function(e){if(e){if(this.closed)return void process.nextTick(e);this.on("close",e)}this.autoClose||this.on("finish",this.destroy.bind(this)),this.end()},z.prototype.destroySoon=z.prototype.end,Object.defineProperty(z.prototype,"pending",{get(){return null===this.handle},configurable:!0}),e.exports=R},function(e,t,r){var n=r(37),i=r(38),s=r(116),o=r(117);for(var a in e.exports={Reader:s,Writer:o},i)i.hasOwnProperty(a)&&(e.exports[a]=i[a]);for(var c in n)n.hasOwnProperty(c)&&(e.exports[c]=n[c])},function(e,t,r){var n=r(19),i=r(38),s=r(37).newInvalidAsn1Error;function o(e){if(!e||!Buffer.isBuffer(e))throw new TypeError("data must be a node Buffer");this._buf=e,this._size=e.length,this._len=0,this._offset=0}Object.defineProperty(o.prototype,"length",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(o.prototype,"remain",{get:function(){return this._size-this._offset}}),Object.defineProperty(o.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}}),o.prototype.readByte=function(e){if(this._size-this._offset<1)return null;var t=255&this._buf[this._offset];return e||(this._offset+=1),t},o.prototype.peek=function(){return this.readByte(!0)},o.prototype.readLength=function(e){if(void 0===e&&(e=this._offset),e>=this._size)return null;var t=255&this._buf[e++];if(null===t)return null;if(128==(128&t)){if(0==(t&=127))throw s("Indefinite length not supported");if(t>4)throw s("encoding too long");if(this._size-e<t)return null;this._len=0;for(var r=0;r<t;r++)this._len=(this._len<<8)+(255&this._buf[e++])}else this._len=t;return e},o.prototype.readSequence=function(e){var t=this.peek();if(null===t)return null;if(void 0!==e&&e!==t)throw s("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var r=this.readLength(this._offset+1);return null===r?null:(this._offset=r,t)},o.prototype.readInt=function(){return this._readTag(i.Integer)},o.prototype.readBoolean=function(){return 0!==this._readTag(i.Boolean)},o.prototype.readEnumeration=function(){return this._readTag(i.Enumeration)},o.prototype.readString=function(e,t){e||(e=i.OctetString);var r=this.peek();if(null===r)return null;if(r!==e)throw s("Expected 0x"+e.toString(16)+": got 0x"+r.toString(16));var n=this.readLength(this._offset+1);if(null===n)return null;if(this.length>this._size-n)return null;if(this._offset=n,0===this.length)return t?new Buffer(0):"";var o=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,t?o:o.toString("utf8")},o.prototype.readOID=function(e){e||(e=i.OID);var t=this.readString(e,!0);if(null===t)return null;for(var r=[],n=0,s=0;s<t.length;s++){var o=255&t[s];n<<=7,n+=127&o,0==(128&o)&&(r.push(n),n=0)}return n=r.shift(),r.unshift(n%40),r.unshift(n/40>>0),r.join(".")},o.prototype._readTag=function(e){n.ok(void 0!==e);var t=this.peek();if(null===t)return null;if(t!==e)throw s("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var r=this.readLength(this._offset+1);if(null===r)return null;if(this.length>4)throw s("Integer too long: "+this.length);if(this.length>this._size-r)return null;this._offset=r;for(var i=this._buf[this._offset],o=0,a=0;a<this.length;a++)o<<=8,o|=255&this._buf[this._offset++];return 128==(128&i)&&4!==a&&(o-=1<<8*a),o>>0},e.exports=o},function(e,t,r){var n=r(19),i=r(38),s=(r(37).newInvalidAsn1Error,{size:1024,growthFactor:8});function o(e){var t,r;t=s,r=e||{},n.ok(t),n.equal(typeof t,"object"),n.ok(r),n.equal(typeof r,"object"),Object.getOwnPropertyNames(t).forEach((function(e){if(!r[e]){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n)}})),e=r,this._buf=new Buffer(e.size||1024),this._size=this._buf.length,this._offset=0,this._options=e,this._seq=[]}Object.defineProperty(o.prototype,"buffer",{get:function(){if(this._seq.length)throw new InvalidAsn1Error(this._seq.length+" unended sequence(s)");return this._buf.slice(0,this._offset)}}),o.prototype.writeByte=function(e){if("number"!=typeof e)throw new TypeError("argument must be a Number");this._ensure(1),this._buf[this._offset++]=e},o.prototype.writeInt=function(e,t){if("number"!=typeof e)throw new TypeError("argument must be a Number");"number"!=typeof t&&(t=i.Integer);for(var r=4;(0==(4286578688&e)||-8388608==(4286578688&e))&&r>1;)r--,e<<=8;if(r>4)throw new InvalidAsn1Error("BER ints cannot be > 0xffffffff");for(this._ensure(2+r),this._buf[this._offset++]=t,this._buf[this._offset++]=r;r-- >0;)this._buf[this._offset++]=(4278190080&e)>>>24,e<<=8},o.prototype.writeNull=function(){this.writeByte(i.Null),this.writeByte(0)},o.prototype.writeEnumeration=function(e,t){if("number"!=typeof e)throw new TypeError("argument must be a Number");return"number"!=typeof t&&(t=i.Enumeration),this.writeInt(e,t)},o.prototype.writeBoolean=function(e,t){if("boolean"!=typeof e)throw new TypeError("argument must be a Boolean");"number"!=typeof t&&(t=i.Boolean),this._ensure(3),this._buf[this._offset++]=t,this._buf[this._offset++]=1,this._buf[this._offset++]=e?255:0},o.prototype.writeString=function(e,t){if("string"!=typeof e)throw new TypeError("argument must be a string (was: "+typeof e+")");"number"!=typeof t&&(t=i.OctetString);var r=Buffer.byteLength(e);this.writeByte(t),this.writeLength(r),r&&(this._ensure(r),this._buf.write(e,this._offset),this._offset+=r)},o.prototype.writeBuffer=function(e,t){if("number"!=typeof t)throw new TypeError("tag must be a number");if(!Buffer.isBuffer(e))throw new TypeError("argument must be a buffer");this.writeByte(t),this.writeLength(e.length),this._ensure(e.length),e.copy(this._buf,this._offset,0,e.length),this._offset+=e.length},o.prototype.writeStringArray=function(e){if(!e instanceof Array)throw new TypeError("argument must be an Array[String]");var t=this;e.forEach((function(e){t.writeString(e)}))},o.prototype.writeOID=function(e,t){if("string"!=typeof e)throw new TypeError("argument must be a string");if("number"!=typeof t&&(t=i.OID),!/^([0-9]+\.){3,}[0-9]+$/.test(e))throw new Error("argument is not a valid OID string");var r=e.split("."),n=[];n.push(40*parseInt(r[0],10)+parseInt(r[1],10)),r.slice(2).forEach((function(e){!function(e,t){t<128?e.push(t):t<16384?(e.push(t>>>7|128),e.push(127&t)):t<2097152?(e.push(t>>>14|128),e.push(255&(t>>>7|128)),e.push(127&t)):t<268435456?(e.push(t>>>21|128),e.push(255&(t>>>14|128)),e.push(255&(t>>>7|128)),e.push(127&t)):(e.push(255&(t>>>28|128)),e.push(255&(t>>>21|128)),e.push(255&(t>>>14|128)),e.push(255&(t>>>7|128)),e.push(127&t))}(n,parseInt(e,10))}));var s=this;this._ensure(2+n.length),this.writeByte(t),this.writeLength(n.length),n.forEach((function(e){s.writeByte(e)}))},o.prototype.writeLength=function(e){if("number"!=typeof e)throw new TypeError("argument must be a Number");if(this._ensure(4),e<=127)this._buf[this._offset++]=e;else if(e<=255)this._buf[this._offset++]=129,this._buf[this._offset++]=e;else if(e<=65535)this._buf[this._offset++]=130,this._buf[this._offset++]=e>>8,this._buf[this._offset++]=e;else{if(!(e<=16777215))throw new InvalidAsn1ERror("Length too long (> 4 bytes)");this._buf[this._offset++]=131,this._buf[this._offset++]=e>>16,this._buf[this._offset++]=e>>8,this._buf[this._offset++]=e}},o.prototype.startSequence=function(e){"number"!=typeof e&&(e=i.Sequence|i.Constructor),this.writeByte(e),this._seq.push(this._offset),this._ensure(3),this._offset+=3},o.prototype.endSequence=function(){var e=this._seq.pop(),t=e+3,r=this._offset-t;if(r<=127)this._shift(t,r,-2),this._buf[e]=r;else if(r<=255)this._shift(t,r,-1),this._buf[e]=129,this._buf[e+1]=r;else if(r<=65535)this._buf[e]=130,this._buf[e+1]=r>>8,this._buf[e+2]=r;else{if(!(r<=16777215))throw new InvalidAsn1Error("Sequence too long");this._shift(t,r,1),this._buf[e]=131,this._buf[e+1]=r>>16,this._buf[e+2]=r>>8,this._buf[e+3]=r}},o.prototype._shift=function(e,t,r){n.ok(void 0!==e),n.ok(void 0!==t),n.ok(r),this._buf.copy(this._buf,e+r,e,e+t),this._offset+=r},o.prototype._ensure=function(e){if(n.ok(e),this._size-this._offset<e){var t=this._size*this._options.growthFactor;t-this._offset<e&&(t+=e);var r=new Buffer(t);this._buf.copy(r,0,0,this._offset),this._buf=r,this._size=t}},e.exports=o},function(e,t,r){"use strict";var n=r(119).lowlevel.crypto_hash,i=0,s=function(){this.S=[new Uint32Array([3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946]),new Uint32Array([1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055]),new Uint32Array([3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504]),new Uint32Array([976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462])],this.P=new Uint32Array([608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731])};function o(e,t,r){return(e[0][t[r+3]]+e[1][t[r+2]]^e[2][t[r+1]])+e[3][t[r]]}function a(e,t){var r,n=0;for(r=0;r<4;r++,i++)i>=t&&(i=0),n=n<<8|e[i];return n}s.prototype.encipher=function(e,t){void 0===t&&(t=new Uint8Array(e.buffer),0!==e.byteOffset&&(t=t.subarray(e.byteOffset))),e[0]^=this.P[0];for(var r=1;r<16;r+=2)e[1]^=o(this.S,t,0)^this.P[r],e[0]^=o(this.S,t,4)^this.P[r+1];var n=e[0];e[0]=e[1]^this.P[17],e[1]=n},s.prototype.decipher=function(e){var t=new Uint8Array(e.buffer);0!==e.byteOffset&&(t=t.subarray(e.byteOffset)),e[0]^=this.P[17];for(var r=16;r>0;r-=2)e[1]^=o(this.S,t,0)^this.P[r],e[0]^=o(this.S,t,4)^this.P[r-1];var n=e[0];e[0]=e[1]^this.P[0],e[1]=n},s.prototype.expand0state=function(e,t){var r,n,s=new Uint32Array(2),o=new Uint8Array(s.buffer);for(r=0,i=0;r<18;r++)this.P[r]^=a(e,t);for(i=0,r=0;r<18;r+=2)this.encipher(s,o),this.P[r]=s[0],this.P[r+1]=s[1];for(r=0;r<4;r++)for(n=0;n<256;n+=2)this.encipher(s,o),this.S[r][n]=s[0],this.S[r][n+1]=s[1]},s.prototype.expandstate=function(e,t,r,n){var s,o,c=new Uint32Array(2);for(s=0,i=0;s<18;s++)this.P[s]^=a(r,n);for(s=0,i=0;s<18;s+=2)c[0]^=a(e,t),c[1]^=a(e,t),this.encipher(c),this.P[s]=c[0],this.P[s+1]=c[1];for(s=0;s<4;s++)for(o=0;o<256;o+=2)c[0]^=a(e,t),c[1]^=a(e,t),this.encipher(c),this.S[s][o]=c[0],this.S[s][o+1]=c[1];i=0},s.prototype.enc=function(e,t){for(var r=0;r<t;r++)this.encipher(e.subarray(2*r))},s.prototype.dec=function(e,t){for(var r=0;r<t;r++)this.decipher(e.subarray(2*r))};var c=8,u=32;function h(e,t,r){var n,i=new s,o=new Uint32Array(c),u=new Uint8Array([79,120,121,99,104,114,111,109,97,116,105,99,66,108,111,119,102,105,115,104,83,119,97,116,68,121,110,97,109,105,116,101]);for(i.expandstate(t,64,e,64),n=0;n<64;n++)i.expand0state(t,64),i.expand0state(e,64);for(n=0;n<c;n++)o[n]=a(u,u.byteLength);for(n=0;n<64;n++)i.enc(o,o.byteLength/8);for(n=0;n<c;n++)r[4*n+3]=o[n]>>>24,r[4*n+2]=o[n]>>>16,r[4*n+1]=o[n]>>>8,r[4*n+0]=o[n]}e.exports={BLOCKS:c,HASHSIZE:u,hash:h,pbkdf:function(e,t,r,i,s,o,a){var c,l,f,p,d,g,m=new Uint8Array(64),_=new Uint8Array(64),y=new Uint8Array(u),v=new Uint8Array(u),E=new Uint8Array(i+4),w=o;if(a<1)return-1;if(0===t||0===i||0===o||o>y.byteLength*y.byteLength||i>1<<20)return-1;for(p=Math.floor((o+y.byteLength-1)/y.byteLength),f=Math.floor((o+p-1)/p),c=0;c<i;c++)E[c]=r[c];for(n(m,e,t),g=1;o>0;g++){for(E[i+0]=g>>>24,E[i+1]=g>>>16,E[i+2]=g>>>8,E[i+3]=g,n(_,E,i+4),h(m,_,v),c=y.byteLength;c--;)y[c]=v[c];for(c=1;c<a;c++)for(n(_,v,v.byteLength),h(m,_,v),l=0;l<y.byteLength;l++)y[l]^=v[l];for(f=Math.min(f,o),c=0;c<f&&!((d=c*p+(g-1))>=w);c++)s[d]=y[c];o-=c}return 0}}},function(e,t,r){!function(e){"use strict";var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=t(),a=t([1]),c=t([56129,1]),u=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function g(e,t,r,n,i){var s,o=0;for(s=0;s<i;s++)o|=e[t+s]^r[n+s];return(1&o-1>>>8)-1}function m(e,t,r,n){return g(e,t,r,n,16)}function _(e,t,r,n){return g(e,t,r,n,32)}function y(e,t,r,n){!function(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,d=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,_=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,E=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=s,b=o,S=a,T=c,A=u,k=h,C=l,R=f,O=p,x=d,P=g,N=m,L=_,D=y,U=v,I=E,B=0;B<20;B+=2)w^=(i=(L^=(i=(O^=(i=(A^=(i=w+L|0)<<7|i>>>25)+w|0)<<9|i>>>23)+A|0)<<13|i>>>19)+O|0)<<18|i>>>14,k^=(i=(b^=(i=(D^=(i=(x^=(i=k+b|0)<<7|i>>>25)+k|0)<<9|i>>>23)+x|0)<<13|i>>>19)+D|0)<<18|i>>>14,P^=(i=(C^=(i=(S^=(i=(U^=(i=P+C|0)<<7|i>>>25)+P|0)<<9|i>>>23)+U|0)<<13|i>>>19)+S|0)<<18|i>>>14,I^=(i=(N^=(i=(R^=(i=(T^=(i=I+N|0)<<7|i>>>25)+I|0)<<9|i>>>23)+T|0)<<13|i>>>19)+R|0)<<18|i>>>14,w^=(i=(T^=(i=(S^=(i=(b^=(i=w+T|0)<<7|i>>>25)+w|0)<<9|i>>>23)+b|0)<<13|i>>>19)+S|0)<<18|i>>>14,k^=(i=(A^=(i=(R^=(i=(C^=(i=k+A|0)<<7|i>>>25)+k|0)<<9|i>>>23)+C|0)<<13|i>>>19)+R|0)<<18|i>>>14,P^=(i=(x^=(i=(O^=(i=(N^=(i=P+x|0)<<7|i>>>25)+P|0)<<9|i>>>23)+N|0)<<13|i>>>19)+O|0)<<18|i>>>14,I^=(i=(U^=(i=(D^=(i=(L^=(i=I+U|0)<<7|i>>>25)+I|0)<<9|i>>>23)+L|0)<<13|i>>>19)+D|0)<<18|i>>>14;w=w+s|0,b=b+o|0,S=S+a|0,T=T+c|0,A=A+u|0,k=k+h|0,C=C+l|0,R=R+f|0,O=O+p|0,x=x+d|0,P=P+g|0,N=N+m|0,L=L+_|0,D=D+y|0,U=U+v|0,I=I+E|0,e[0]=w>>>0&255,e[1]=w>>>8&255,e[2]=w>>>16&255,e[3]=w>>>24&255,e[4]=b>>>0&255,e[5]=b>>>8&255,e[6]=b>>>16&255,e[7]=b>>>24&255,e[8]=S>>>0&255,e[9]=S>>>8&255,e[10]=S>>>16&255,e[11]=S>>>24&255,e[12]=T>>>0&255,e[13]=T>>>8&255,e[14]=T>>>16&255,e[15]=T>>>24&255,e[16]=A>>>0&255,e[17]=A>>>8&255,e[18]=A>>>16&255,e[19]=A>>>24&255,e[20]=k>>>0&255,e[21]=k>>>8&255,e[22]=k>>>16&255,e[23]=k>>>24&255,e[24]=C>>>0&255,e[25]=C>>>8&255,e[26]=C>>>16&255,e[27]=C>>>24&255,e[28]=R>>>0&255,e[29]=R>>>8&255,e[30]=R>>>16&255,e[31]=R>>>24&255,e[32]=O>>>0&255,e[33]=O>>>8&255,e[34]=O>>>16&255,e[35]=O>>>24&255,e[36]=x>>>0&255,e[37]=x>>>8&255,e[38]=x>>>16&255,e[39]=x>>>24&255,e[40]=P>>>0&255,e[41]=P>>>8&255,e[42]=P>>>16&255,e[43]=P>>>24&255,e[44]=N>>>0&255,e[45]=N>>>8&255,e[46]=N>>>16&255,e[47]=N>>>24&255,e[48]=L>>>0&255,e[49]=L>>>8&255,e[50]=L>>>16&255,e[51]=L>>>24&255,e[52]=D>>>0&255,e[53]=D>>>8&255,e[54]=D>>>16&255,e[55]=D>>>24&255,e[56]=U>>>0&255,e[57]=U>>>8&255,e[58]=U>>>16&255,e[59]=U>>>24&255,e[60]=I>>>0&255,e[61]=I>>>8&255,e[62]=I>>>16&255,e[63]=I>>>24&255}(e,t,r,n)}function v(e,t,r,n){!function(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,d=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,_=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,E=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=0;w<20;w+=2)s^=(i=(_^=(i=(p^=(i=(u^=(i=s+_|0)<<7|i>>>25)+s|0)<<9|i>>>23)+u|0)<<13|i>>>19)+p|0)<<18|i>>>14,h^=(i=(o^=(i=(y^=(i=(d^=(i=h+o|0)<<7|i>>>25)+h|0)<<9|i>>>23)+d|0)<<13|i>>>19)+y|0)<<18|i>>>14,g^=(i=(l^=(i=(a^=(i=(v^=(i=g+l|0)<<7|i>>>25)+g|0)<<9|i>>>23)+v|0)<<13|i>>>19)+a|0)<<18|i>>>14,E^=(i=(m^=(i=(f^=(i=(c^=(i=E+m|0)<<7|i>>>25)+E|0)<<9|i>>>23)+c|0)<<13|i>>>19)+f|0)<<18|i>>>14,s^=(i=(c^=(i=(a^=(i=(o^=(i=s+c|0)<<7|i>>>25)+s|0)<<9|i>>>23)+o|0)<<13|i>>>19)+a|0)<<18|i>>>14,h^=(i=(u^=(i=(f^=(i=(l^=(i=h+u|0)<<7|i>>>25)+h|0)<<9|i>>>23)+l|0)<<13|i>>>19)+f|0)<<18|i>>>14,g^=(i=(d^=(i=(p^=(i=(m^=(i=g+d|0)<<7|i>>>25)+g|0)<<9|i>>>23)+m|0)<<13|i>>>19)+p|0)<<18|i>>>14,E^=(i=(v^=(i=(y^=(i=(_^=(i=E+v|0)<<7|i>>>25)+E|0)<<9|i>>>23)+_|0)<<13|i>>>19)+y|0)<<18|i>>>14;e[0]=s>>>0&255,e[1]=s>>>8&255,e[2]=s>>>16&255,e[3]=s>>>24&255,e[4]=h>>>0&255,e[5]=h>>>8&255,e[6]=h>>>16&255,e[7]=h>>>24&255,e[8]=g>>>0&255,e[9]=g>>>8&255,e[10]=g>>>16&255,e[11]=g>>>24&255,e[12]=E>>>0&255,e[13]=E>>>8&255,e[14]=E>>>16&255,e[15]=E>>>24&255,e[16]=l>>>0&255,e[17]=l>>>8&255,e[18]=l>>>16&255,e[19]=l>>>24&255,e[20]=f>>>0&255,e[21]=f>>>8&255,e[22]=f>>>16&255,e[23]=f>>>24&255,e[24]=p>>>0&255,e[25]=p>>>8&255,e[26]=p>>>16&255,e[27]=p>>>24&255,e[28]=d>>>0&255,e[29]=d>>>8&255,e[30]=d>>>16&255,e[31]=d>>>24&255}(e,t,r,n)}var E=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(e,t,r,n,i,s,o){var a,c,u=new Uint8Array(16),h=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=s[c];for(;i>=64;){for(y(h,u,o,E),c=0;c<64;c++)e[t+c]=r[n+c]^h[c];for(a=1,c=8;c<16;c++)a=a+(255&u[c])|0,u[c]=255&a,a>>>=8;i-=64,t+=64,n+=64}if(i>0)for(y(h,u,o,E),c=0;c<i;c++)e[t+c]=r[n+c]^h[c];return 0}function b(e,t,r,n,i){var s,o,a=new Uint8Array(16),c=new Uint8Array(64);for(o=0;o<16;o++)a[o]=0;for(o=0;o<8;o++)a[o]=n[o];for(;r>=64;){for(y(c,a,i,E),o=0;o<64;o++)e[t+o]=c[o];for(s=1,o=8;o<16;o++)s=s+(255&a[o])|0,a[o]=255&s,s>>>=8;r-=64,t+=64}if(r>0)for(y(c,a,i,E),o=0;o<r;o++)e[t+o]=c[o];return 0}function S(e,t,r,n,i){var s=new Uint8Array(32);v(s,n,i,E);for(var o=new Uint8Array(8),a=0;a<8;a++)o[a]=n[a+16];return b(e,t,r,o,s)}function T(e,t,r,n,i,s,o){var a=new Uint8Array(32);v(a,s,o,E);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=s[u+16];return w(e,t,r,n,i,c,a)}var A=function(e){var t,r,n,i,s,o,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),s=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|s<<12),this.r[5]=s>>>1&8190,o=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(s>>>14|o<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(o>>>11|a<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function k(e,t,r,n,i,s){var o=new A(s);return o.update(r,n,i),o.finish(e,t),0}function C(e,t,r,n,i,s){var o=new Uint8Array(16);return k(o,0,r,n,i,s),m(e,t,o,0)}function R(e,t,r,n,i){var s;if(r<32)return-1;for(T(e,0,t,0,r,n,i),k(e,16,e,32,r-32,e),s=0;s<16;s++)e[s]=0;return 0}function O(e,t,r,n,i){var s,o=new Uint8Array(32);if(r<32)return-1;if(S(o,0,32,n,i),0!==C(t,16,t,32,r-32,o))return-1;for(T(e,0,t,0,r,n,i),s=0;s<32;s++)e[s]=0;return 0}function x(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function P(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function N(e,t,r){for(var n,i=~(r-1),s=0;s<16;s++)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}function L(e,r){var n,i,s,o=t(),a=t();for(n=0;n<16;n++)a[n]=r[n];for(P(a),P(a),P(a),i=0;i<2;i++){for(o[0]=a[0]-65517,n=1;n<15;n++)o[n]=a[n]-65535-(o[n-1]>>16&1),o[n-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),s=o[15]>>16&1,o[14]&=65535,N(a,o,1-s)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function D(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return L(r,e),L(n,t),_(r,0,n,0)}function U(e){var t=new Uint8Array(32);return L(t,e),1&t[0]}function I(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function B(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function M(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function H(e,t,r){var n,i,s=0,o=0,a=0,c=0,u=0,h=0,l=0,f=0,p=0,d=0,g=0,m=0,_=0,y=0,v=0,E=0,w=0,b=0,S=0,T=0,A=0,k=0,C=0,R=0,O=0,x=0,P=0,N=0,L=0,D=0,U=0,I=r[0],B=r[1],M=r[2],H=r[3],F=r[4],G=r[5],$=r[6],W=r[7],j=r[8],q=r[9],Y=r[10],K=r[11],Q=r[12],V=r[13],X=r[14],z=r[15];s+=(n=t[0])*I,o+=n*B,a+=n*M,c+=n*H,u+=n*F,h+=n*G,l+=n*$,f+=n*W,p+=n*j,d+=n*q,g+=n*Y,m+=n*K,_+=n*Q,y+=n*V,v+=n*X,E+=n*z,o+=(n=t[1])*I,a+=n*B,c+=n*M,u+=n*H,h+=n*F,l+=n*G,f+=n*$,p+=n*W,d+=n*j,g+=n*q,m+=n*Y,_+=n*K,y+=n*Q,v+=n*V,E+=n*X,w+=n*z,a+=(n=t[2])*I,c+=n*B,u+=n*M,h+=n*H,l+=n*F,f+=n*G,p+=n*$,d+=n*W,g+=n*j,m+=n*q,_+=n*Y,y+=n*K,v+=n*Q,E+=n*V,w+=n*X,b+=n*z,c+=(n=t[3])*I,u+=n*B,h+=n*M,l+=n*H,f+=n*F,p+=n*G,d+=n*$,g+=n*W,m+=n*j,_+=n*q,y+=n*Y,v+=n*K,E+=n*Q,w+=n*V,b+=n*X,S+=n*z,u+=(n=t[4])*I,h+=n*B,l+=n*M,f+=n*H,p+=n*F,d+=n*G,g+=n*$,m+=n*W,_+=n*j,y+=n*q,v+=n*Y,E+=n*K,w+=n*Q,b+=n*V,S+=n*X,T+=n*z,h+=(n=t[5])*I,l+=n*B,f+=n*M,p+=n*H,d+=n*F,g+=n*G,m+=n*$,_+=n*W,y+=n*j,v+=n*q,E+=n*Y,w+=n*K,b+=n*Q,S+=n*V,T+=n*X,A+=n*z,l+=(n=t[6])*I,f+=n*B,p+=n*M,d+=n*H,g+=n*F,m+=n*G,_+=n*$,y+=n*W,v+=n*j,E+=n*q,w+=n*Y,b+=n*K,S+=n*Q,T+=n*V,A+=n*X,k+=n*z,f+=(n=t[7])*I,p+=n*B,d+=n*M,g+=n*H,m+=n*F,_+=n*G,y+=n*$,v+=n*W,E+=n*j,w+=n*q,b+=n*Y,S+=n*K,T+=n*Q,A+=n*V,k+=n*X,C+=n*z,p+=(n=t[8])*I,d+=n*B,g+=n*M,m+=n*H,_+=n*F,y+=n*G,v+=n*$,E+=n*W,w+=n*j,b+=n*q,S+=n*Y,T+=n*K,A+=n*Q,k+=n*V,C+=n*X,R+=n*z,d+=(n=t[9])*I,g+=n*B,m+=n*M,_+=n*H,y+=n*F,v+=n*G,E+=n*$,w+=n*W,b+=n*j,S+=n*q,T+=n*Y,A+=n*K,k+=n*Q,C+=n*V,R+=n*X,O+=n*z,g+=(n=t[10])*I,m+=n*B,_+=n*M,y+=n*H,v+=n*F,E+=n*G,w+=n*$,b+=n*W,S+=n*j,T+=n*q,A+=n*Y,k+=n*K,C+=n*Q,R+=n*V,O+=n*X,x+=n*z,m+=(n=t[11])*I,_+=n*B,y+=n*M,v+=n*H,E+=n*F,w+=n*G,b+=n*$,S+=n*W,T+=n*j,A+=n*q,k+=n*Y,C+=n*K,R+=n*Q,O+=n*V,x+=n*X,P+=n*z,_+=(n=t[12])*I,y+=n*B,v+=n*M,E+=n*H,w+=n*F,b+=n*G,S+=n*$,T+=n*W,A+=n*j,k+=n*q,C+=n*Y,R+=n*K,O+=n*Q,x+=n*V,P+=n*X,N+=n*z,y+=(n=t[13])*I,v+=n*B,E+=n*M,w+=n*H,b+=n*F,S+=n*G,T+=n*$,A+=n*W,k+=n*j,C+=n*q,R+=n*Y,O+=n*K,x+=n*Q,P+=n*V,N+=n*X,L+=n*z,v+=(n=t[14])*I,E+=n*B,w+=n*M,b+=n*H,S+=n*F,T+=n*G,A+=n*$,k+=n*W,C+=n*j,R+=n*q,O+=n*Y,x+=n*K,P+=n*Q,N+=n*V,L+=n*X,D+=n*z,E+=(n=t[15])*I,o+=38*(b+=n*M),a+=38*(S+=n*H),c+=38*(T+=n*F),u+=38*(A+=n*G),h+=38*(k+=n*$),l+=38*(C+=n*W),f+=38*(R+=n*j),p+=38*(O+=n*q),d+=38*(x+=n*Y),g+=38*(P+=n*K),m+=38*(N+=n*Q),_+=38*(L+=n*V),y+=38*(D+=n*X),v+=38*(U+=n*z),s=(n=(s+=38*(w+=n*B))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),E=(n=E+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=(s+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),E=(n=E+i+65535)-65536*(i=Math.floor(n/65536)),s+=i-1+37*(i-1),e[0]=s,e[1]=o,e[2]=a,e[3]=c,e[4]=u,e[5]=h,e[6]=l,e[7]=f,e[8]=p,e[9]=d,e[10]=g,e[11]=m,e[12]=_,e[13]=y,e[14]=v,e[15]=E}function F(e,t){H(e,t,t)}function G(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)F(i,i),2!==n&&4!==n&&H(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function $(e,r,n){var i,s,o=new Uint8Array(32),a=new Float64Array(80),u=t(),h=t(),l=t(),f=t(),p=t(),d=t();for(s=0;s<31;s++)o[s]=r[s];for(o[31]=127&r[31]|64,o[0]&=248,I(a,n),s=0;s<16;s++)h[s]=a[s],f[s]=u[s]=l[s]=0;for(u[0]=f[0]=1,s=254;s>=0;--s)N(u,h,i=o[s>>>3]>>>(7&s)&1),N(l,f,i),B(p,u,l),M(u,u,l),B(l,h,f),M(h,h,f),F(f,p),F(d,u),H(u,l,u),H(l,h,p),B(p,u,l),M(u,u,l),F(h,u),M(l,f,d),H(u,l,c),B(u,u,f),H(l,l,u),H(u,f,d),H(f,h,a),F(h,p),N(u,h,i),N(l,f,i);for(s=0;s<16;s++)a[s+16]=u[s],a[s+32]=l[s],a[s+48]=h[s],a[s+64]=f[s];var g=a.subarray(32),m=a.subarray(16);return G(g,g),H(m,m,g),L(e,m),0}function W(e,t){return $(e,t,s)}function j(e,t){return n(t,32),W(e,t)}function q(e,t,r){var n=new Uint8Array(32);return $(n,r,t),v(e,i,n,E)}A.prototype.blocks=function(e,t,r){for(var n,i,s,o,a,c,u,h,l,f,p,d,g,m,_,y,v,E,w,b=this.fin?0:2048,S=this.h[0],T=this.h[1],A=this.h[2],k=this.h[3],C=this.h[4],R=this.h[5],O=this.h[6],x=this.h[7],P=this.h[8],N=this.h[9],L=this.r[0],D=this.r[1],U=this.r[2],I=this.r[3],B=this.r[4],M=this.r[5],H=this.r[6],F=this.r[7],G=this.r[8],$=this.r[9];r>=16;)f=l=0,f+=(S+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*L,f+=(T+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*$),f+=(A+=8191&(i>>>10|(s=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*G),f+=(k+=8191&(s>>>7|(o=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*F),l=(f+=(C+=8191&(o>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*H))>>>13,f&=8191,f+=(R+=a>>>1&8191)*(5*M),f+=(O+=8191&(a>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*B),f+=(x+=8191&(c>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*I),f+=(P+=8191&(u>>>8|(h=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*U),p=l+=(f+=(N+=h>>>5|b)*(5*D))>>>13,p+=S*D,p+=T*L,p+=A*(5*$),p+=k*(5*G),l=(p+=C*(5*F))>>>13,p&=8191,p+=R*(5*H),p+=O*(5*M),p+=x*(5*B),p+=P*(5*I),l+=(p+=N*(5*U))>>>13,p&=8191,d=l,d+=S*U,d+=T*D,d+=A*L,d+=k*(5*$),l=(d+=C*(5*G))>>>13,d&=8191,d+=R*(5*F),d+=O*(5*H),d+=x*(5*M),d+=P*(5*B),g=l+=(d+=N*(5*I))>>>13,g+=S*I,g+=T*U,g+=A*D,g+=k*L,l=(g+=C*(5*$))>>>13,g&=8191,g+=R*(5*G),g+=O*(5*F),g+=x*(5*H),g+=P*(5*M),m=l+=(g+=N*(5*B))>>>13,m+=S*B,m+=T*I,m+=A*U,m+=k*D,l=(m+=C*L)>>>13,m&=8191,m+=R*(5*$),m+=O*(5*G),m+=x*(5*F),m+=P*(5*H),_=l+=(m+=N*(5*M))>>>13,_+=S*M,_+=T*B,_+=A*I,_+=k*U,l=(_+=C*D)>>>13,_&=8191,_+=R*L,_+=O*(5*$),_+=x*(5*G),_+=P*(5*F),y=l+=(_+=N*(5*H))>>>13,y+=S*H,y+=T*M,y+=A*B,y+=k*I,l=(y+=C*U)>>>13,y&=8191,y+=R*D,y+=O*L,y+=x*(5*$),y+=P*(5*G),v=l+=(y+=N*(5*F))>>>13,v+=S*F,v+=T*H,v+=A*M,v+=k*B,l=(v+=C*I)>>>13,v&=8191,v+=R*U,v+=O*D,v+=x*L,v+=P*(5*$),E=l+=(v+=N*(5*G))>>>13,E+=S*G,E+=T*F,E+=A*H,E+=k*M,l=(E+=C*B)>>>13,E&=8191,E+=R*I,E+=O*U,E+=x*D,E+=P*L,w=l+=(E+=N*(5*$))>>>13,w+=S*$,w+=T*G,w+=A*F,w+=k*H,l=(w+=C*M)>>>13,w&=8191,w+=R*B,w+=O*I,w+=x*U,w+=P*D,S=f=8191&(l=(l=((l+=(w+=N*L)>>>13)<<2)+l|0)+(f&=8191)|0),T=p+=l>>>=13,A=d&=8191,k=g&=8191,C=m&=8191,R=_&=8191,O=y&=8191,x=v&=8191,P=E&=8191,N=w&=8191,t+=16,r-=16;this.h[0]=S,this.h[1]=T,this.h[2]=A,this.h[3]=k,this.h[4]=C,this.h[5]=R,this.h[6]=O,this.h[7]=x,this.h[8]=P,this.h[9]=N},A.prototype.finish=function(e,t){var r,n,i,s,o=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=r,r=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,o[0]=this.h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this.h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,n=(1^r)-1,s=0;s<10;s++)o[s]&=n;for(n=~n,s=0;s<10;s++)this.h[s]=this.h[s]&n|o[s];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,s=1;s<8;s++)i=(this.h[s]+this.pad[s]|0)+(i>>>16)|0,this.h[s]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},A.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var Y=R,K=O;var Q=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function V(e,t,r,n){for(var i,s,o,a,c,u,h,l,f,p,d,g,m,_,y,v,E,w,b,S,T,A,k,C,R,O,x=new Int32Array(16),P=new Int32Array(16),N=e[0],L=e[1],D=e[2],U=e[3],I=e[4],B=e[5],M=e[6],H=e[7],F=t[0],G=t[1],$=t[2],W=t[3],j=t[4],q=t[5],Y=t[6],K=t[7],V=0;n>=128;){for(b=0;b<16;b++)S=8*b+V,x[b]=r[S+0]<<24|r[S+1]<<16|r[S+2]<<8|r[S+3],P[b]=r[S+4]<<24|r[S+5]<<16|r[S+6]<<8|r[S+7];for(b=0;b<80;b++)if(i=N,s=L,o=D,a=U,c=I,u=B,h=M,H,f=F,p=G,d=$,g=W,m=j,_=q,y=Y,K,k=65535&(A=K),C=A>>>16,R=65535&(T=H),O=T>>>16,k+=65535&(A=(j>>>14|I<<18)^(j>>>18|I<<14)^(I>>>9|j<<23)),C+=A>>>16,R+=65535&(T=(I>>>14|j<<18)^(I>>>18|j<<14)^(j>>>9|I<<23)),O+=T>>>16,k+=65535&(A=j&q^~j&Y),C+=A>>>16,R+=65535&(T=I&B^~I&M),O+=T>>>16,T=Q[2*b],k+=65535&(A=Q[2*b+1]),C+=A>>>16,R+=65535&T,O+=T>>>16,T=x[b%16],C+=(A=P[b%16])>>>16,R+=65535&T,O+=T>>>16,R+=(C+=(k+=65535&A)>>>16)>>>16,k=65535&(A=w=65535&k|C<<16),C=A>>>16,R=65535&(T=E=65535&R|(O+=R>>>16)<<16),O=T>>>16,k+=65535&(A=(F>>>28|N<<4)^(N>>>2|F<<30)^(N>>>7|F<<25)),C+=A>>>16,R+=65535&(T=(N>>>28|F<<4)^(F>>>2|N<<30)^(F>>>7|N<<25)),O+=T>>>16,C+=(A=F&G^F&$^G&$)>>>16,R+=65535&(T=N&L^N&D^L&D),O+=T>>>16,l=65535&(R+=(C+=(k+=65535&A)>>>16)>>>16)|(O+=R>>>16)<<16,v=65535&k|C<<16,k=65535&(A=g),C=A>>>16,R=65535&(T=a),O=T>>>16,C+=(A=w)>>>16,R+=65535&(T=E),O+=T>>>16,L=i,D=s,U=o,I=a=65535&(R+=(C+=(k+=65535&A)>>>16)>>>16)|(O+=R>>>16)<<16,B=c,M=u,H=h,N=l,G=f,$=p,W=d,j=g=65535&k|C<<16,q=m,Y=_,K=y,F=v,b%16==15)for(S=0;S<16;S++)T=x[S],k=65535&(A=P[S]),C=A>>>16,R=65535&T,O=T>>>16,T=x[(S+9)%16],k+=65535&(A=P[(S+9)%16]),C+=A>>>16,R+=65535&T,O+=T>>>16,E=x[(S+1)%16],k+=65535&(A=((w=P[(S+1)%16])>>>1|E<<31)^(w>>>8|E<<24)^(w>>>7|E<<25)),C+=A>>>16,R+=65535&(T=(E>>>1|w<<31)^(E>>>8|w<<24)^E>>>7),O+=T>>>16,E=x[(S+14)%16],C+=(A=((w=P[(S+14)%16])>>>19|E<<13)^(E>>>29|w<<3)^(w>>>6|E<<26))>>>16,R+=65535&(T=(E>>>19|w<<13)^(w>>>29|E<<3)^E>>>6),O+=T>>>16,O+=(R+=(C+=(k+=65535&A)>>>16)>>>16)>>>16,x[S]=65535&R|O<<16,P[S]=65535&k|C<<16;k=65535&(A=F),C=A>>>16,R=65535&(T=N),O=T>>>16,T=e[0],C+=(A=t[0])>>>16,R+=65535&T,O+=T>>>16,O+=(R+=(C+=(k+=65535&A)>>>16)>>>16)>>>16,e[0]=N=65535&R|O<<16,t[0]=F=65535&k|C<<16,k=65535&(A=G),C=A>>>16,R=65535&(T=L),O=T>>>16,T=e[1],C+=(A=t[1])>>>16,R+=65535&T,O+=T>>>16,O+=(R+=(C+=(k+=65535&A)>>>16)>>>16)>>>16,e[1]=L=65535&R|O<<16,t[1]=G=65535&k|C<<16,k=65535&(A=$),C=A>>>16,R=65535&(T=D),O=T>>>16,T=e[2],C+=(A=t[2])>>>16,R+=65535&T,O+=T>>>16,O+=(R+=(C+=(k+=65535&A)>>>16)>>>16)>>>16,e[2]=D=65535&R|O<<16,t[2]=$=65535&k|C<<16,k=65535&(A=W),C=A>>>16,R=65535&(T=U),O=T>>>16,T=e[3],C+=(A=t[3])>>>16,R+=65535&T,O+=T>>>16,O+=(R+=(C+=(k+=65535&A)>>>16)>>>16)>>>16,e[3]=U=65535&R|O<<16,t[3]=W=65535&k|C<<16,k=65535&(A=j),C=A>>>16,R=65535&(T=I),O=T>>>16,T=e[4],C+=(A=t[4])>>>16,R+=65535&T,O+=T>>>16,O+=(R+=(C+=(k+=65535&A)>>>16)>>>16)>>>16,e[4]=I=65535&R|O<<16,t[4]=j=65535&k|C<<16,k=65535&(A=q),C=A>>>16,R=65535&(T=B),O=T>>>16,T=e[5],C+=(A=t[5])>>>16,R+=65535&T,O+=T>>>16,O+=(R+=(C+=(k+=65535&A)>>>16)>>>16)>>>16,e[5]=B=65535&R|O<<16,t[5]=q=65535&k|C<<16,k=65535&(A=Y),C=A>>>16,R=65535&(T=M),O=T>>>16,T=e[6],C+=(A=t[6])>>>16,R+=65535&T,O+=T>>>16,O+=(R+=(C+=(k+=65535&A)>>>16)>>>16)>>>16,e[6]=M=65535&R|O<<16,t[6]=Y=65535&k|C<<16,k=65535&(A=K),C=A>>>16,R=65535&(T=H),O=T>>>16,T=e[7],C+=(A=t[7])>>>16,R+=65535&T,O+=T>>>16,O+=(R+=(C+=(k+=65535&A)>>>16)>>>16)>>>16,e[7]=H=65535&R|O<<16,t[7]=K=65535&k|C<<16,V+=128,n-=128}return n}function X(e,t,r){var n,i=new Int32Array(8),s=new Int32Array(8),o=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,s[0]=4089235720,s[1]=2227873595,s[2]=4271175723,s[3]=1595750129,s[4]=2917565137,s[5]=725511199,s[6]=4215389547,s[7]=327033209,V(i,s,t,r),r%=128,n=0;n<r;n++)o[n]=t[a-r+n];for(o[r]=128,o[(r=256-128*(r<112?1:0))-9]=0,d(o,r-8,a/536870912|0,a<<3),V(i,s,o,r),n=0;n<8;n++)d(e,8*n,i[n],s[n]);return 0}function z(e,r){var n=t(),i=t(),s=t(),o=t(),a=t(),c=t(),u=t(),l=t(),f=t();M(n,e[1],e[0]),M(f,r[1],r[0]),H(n,n,f),B(i,e[0],e[1]),B(f,r[0],r[1]),H(i,i,f),H(s,e[3],r[3]),H(s,s,h),H(o,e[2],r[2]),B(o,o,o),M(a,i,n),M(c,o,s),B(u,o,s),B(l,i,n),H(e[0],a,c),H(e[1],l,u),H(e[2],u,c),H(e[3],a,l)}function Z(e,t,r){var n;for(n=0;n<4;n++)N(e[n],t[n],r)}function J(e,r){var n=t(),i=t(),s=t();G(s,r[2]),H(n,r[0],s),H(i,r[1],s),L(e,i),e[31]^=U(n)<<7}function ee(e,t,r){var n,i;for(x(e[0],o),x(e[1],a),x(e[2],a),x(e[3],o),i=255;i>=0;--i)Z(e,t,n=r[i/8|0]>>(7&i)&1),z(t,e),z(e,e),Z(e,t,n)}function te(e,r){var n=[t(),t(),t(),t()];x(n[0],l),x(n[1],f),x(n[2],a),H(n[3],l,f),ee(e,n,r)}function re(e,r,i){var s,o=new Uint8Array(64),a=[t(),t(),t(),t()];for(i||n(r,32),X(o,r,32),o[0]&=248,o[31]&=127,o[31]|=64,te(a,o),J(e,a),s=0;s<32;s++)r[s+32]=e[s];return 0}var ne=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ie(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*ne[i-(n-32)],r=t[i]+128>>8,t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ne[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ne[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function se(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;ie(e,r)}function oe(e,r,n,i){var s,o,a=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),h=new Float64Array(64),l=[t(),t(),t(),t()];X(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var f=n+64;for(s=0;s<n;s++)e[64+s]=r[s];for(s=0;s<32;s++)e[32+s]=a[32+s];for(X(u,e.subarray(32),n+32),se(u),te(l,u),J(e,l),s=32;s<64;s++)e[s]=i[s];for(X(c,e,n+64),se(c),s=0;s<64;s++)h[s]=0;for(s=0;s<32;s++)h[s]=u[s];for(s=0;s<32;s++)for(o=0;o<32;o++)h[s+o]+=c[s]*a[o];return ie(e.subarray(32),h),f}function ae(e,r){var n=t(),i=t(),s=t(),c=t(),h=t(),l=t(),f=t();return x(e[2],a),I(e[1],r),F(s,e[1]),H(c,s,u),M(s,s,e[2]),B(c,e[2],c),F(h,c),F(l,h),H(f,l,h),H(n,f,s),H(n,n,c),function(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)F(i,i),1!==n&&H(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}(n,n),H(n,n,s),H(n,n,c),H(n,n,c),H(e[0],n,c),F(i,e[0]),H(i,i,c),D(i,s)&&H(e[0],e[0],p),F(i,e[0]),H(i,i,c),D(i,s)?-1:(U(e[0])===r[31]>>7&&M(e[0],o,e[0]),H(e[3],e[0],e[1]),0)}function ce(e,r,n,i){var s,o=new Uint8Array(32),a=new Uint8Array(64),c=[t(),t(),t(),t()],u=[t(),t(),t(),t()];if(-1,n<64)return-1;if(ae(u,i))return-1;for(s=0;s<n;s++)e[s]=r[s];for(s=0;s<32;s++)e[s+32]=i[s];if(X(a,e,n),se(a),ee(c,u,a),te(u,r.subarray(32)),z(c,u),J(o,c),n-=64,_(r,0,o,0)){for(s=0;s<n;s++)e[s]=0;return-1}for(s=0;s<n;s++)e[s]=r[s+64];return n}var ue=32,he=24,le=32,fe=32,pe=he;function de(e,t){if(e.length!==ue)throw new Error("bad key size");if(t.length!==he)throw new Error("bad nonce size")}function ge(){var e,t;for(t=0;t<arguments.length;t++)if("[object Uint8Array]"!==(e=Object.prototype.toString.call(arguments[t])))throw new TypeError("unexpected type "+e+", use Uint8Array")}function me(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:v,crypto_stream_xor:T,crypto_stream:S,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:b,crypto_onetimeauth:k,crypto_onetimeauth_verify:C,crypto_verify_16:m,crypto_verify_32:_,crypto_secretbox:R,crypto_secretbox_open:O,crypto_scalarmult:$,crypto_scalarmult_base:W,crypto_box_beforenm:q,crypto_box_afternm:Y,crypto_box:function(e,t,r,n,i,s){var o=new Uint8Array(32);return q(o,i,s),Y(e,t,r,n,o)},crypto_box_open:function(e,t,r,n,i,s){var o=new Uint8Array(32);return q(o,i,s),K(e,t,r,n,o)},crypto_box_keypair:j,crypto_hash:X,crypto_sign:oe,crypto_sign_keypair:re,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:ue,crypto_secretbox_NONCEBYTES:he,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:le,crypto_box_SECRETKEYBYTES:fe,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:pe,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},e.util||(e.util={},e.util.decodeUTF8=e.util.encodeUTF8=e.util.encodeBase64=e.util.decodeBase64=function(){throw new Error("nacl.util moved into separate package: https://github.com/dchest/tweetnacl-util-js")}),e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){ge(e,t,r),de(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+32]=e[s];return R(i,n,n.length,t,r),i.subarray(16)},e.secretbox.open=function(e,t,r){ge(e,t,r),de(r,t);for(var n=new Uint8Array(16+e.length),i=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+16]=e[s];return!(n.length<32)&&(0===O(i,n,n.length,t,r)&&i.subarray(32))},e.secretbox.keyLength=ue,e.secretbox.nonceLength=he,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(ge(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return $(r,e,t),r},e.scalarMult.base=function(e){if(ge(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return W(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var s=e.box.before(n,i);return e.secretbox(t,r,s)},e.box.before=function(e,t){ge(e,t),function(e,t){if(e.length!==le)throw new Error("bad public key size");if(t.length!==fe)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return q(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var s=e.box.before(n,i);return e.secretbox.open(t,r,s)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(le),t=new Uint8Array(fe);return j(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(ge(e),e.length!==fe)throw new Error("bad secret key size");var t=new Uint8Array(le);return W(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=le,e.box.secretKeyLength=fe,e.box.sharedKeyLength=32,e.box.nonceLength=pe,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(ge(e,t),64!==t.length)throw new Error("bad secret key size");var r=new Uint8Array(64+e.length);return oe(r,e,e.length,t),r},e.sign.open=function(e,t){if(2!==arguments.length)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");if(ge(e,t),32!==t.length)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ce(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),s=0;s<i.length;s++)i[s]=r[s];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(64),s=0;s<i.length;s++)i[s]=n[s];return i},e.sign.detached.verify=function(e,t,r){if(ge(e,t,r),64!==t.length)throw new Error("bad signature size");if(32!==r.length)throw new Error("bad public key size");var n,i=new Uint8Array(64+e.length),s=new Uint8Array(64+e.length);for(n=0;n<64;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+64]=e[n];return ce(s,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(ge(e),64!==e.length)throw new Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(ge(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=e[n];return re(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){ge(e);var t=new Uint8Array(64);return X(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return ge(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===g(e,0,t,0,e.length))},e.setPRNG=function(e){n=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];me(i)}))}else(t=r(12))&&t.randomBytes&&e.setPRNG((function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];me(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})},function(e,t){function r(e,t,r){null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function n(){return new r(null)}r.prototype.am=function(e,t,r,n,i,s){for(var o=16383&t,a=t>>14;--s>=0;){var c=16383&this[e],u=this[e++]>>14,h=a*c+u*o;i=((c=o*c+((16383&h)<<14)+r[n]+i)>>28)+(h>>14)+a*u,r[n++]=268435455&c}return i},r.prototype.DB=28,r.prototype.DM=268435455,r.prototype.DV=1<<28;r.prototype.FV=Math.pow(2,52),r.prototype.F1=24,r.prototype.F2=4;var i,s,o="0123456789abcdefghijklmnopqrstuvwxyz",a=new Array;for(i="0".charCodeAt(0),s=0;s<=9;++s)a[i++]=s;for(i="a".charCodeAt(0),s=10;s<36;++s)a[i++]=s;for(i="A".charCodeAt(0),s=10;s<36;++s)a[i++]=s;function c(e){return o.charAt(e)}function u(e,t){var r=a[e.charCodeAt(t)];return null==r?-1:r}function h(e){var t=n();return t.fromInt(e),t}function l(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function f(e){this.m=e}function p(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function d(e,t){return e&t}function g(e,t){return e|t}function m(e,t){return e^t}function _(e,t){return e&~t}function y(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function v(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function E(){}function w(e){return e}function b(e){this.r2=n(),this.q3=n(),r.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}f.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},f.prototype.revert=function(e){return e},f.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},f.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},f.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},p.prototype.convert=function(e){var t=n();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(r.ZERO)>0&&this.m.subTo(t,t),t},p.prototype.revert=function(e){var t=n();return e.copyTo(t),this.reduce(t),t},p.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},p.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},p.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},r.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},r.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},r.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var i=e.length,s=!1,o=0;--i>=0;){var a=8==n?255&e[i]:u(e,i);a<0?"-"==e.charAt(i)&&(s=!0):(s=!1,0==o?this[this.t++]=a:o+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=n)>=this.DB&&(o-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),s&&r.ZERO.subTo(this,this)},r.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},r.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},r.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},r.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,i=this.DB-n,s=(1<<i)-1,o=Math.floor(e/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t[r+o+1]=this[r]>>i|a,a=(this[r]&s)<<n;for(r=o-1;r>=0;--r)t[r]=0;t[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()},r.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,s=(1<<n)-1;t[0]=this[r]>>n;for(var o=r+1;o<this.t;++o)t[o-r-1]|=(this[o]&s)<<i,t[o-r]=this[o]>>n;n>0&&(t[this.t-r-1]|=(this.s&s)<<i),t.t=this.t-r,t.clamp()}},r.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},r.prototype.multiplyTo=function(e,t){var n=this.abs(),i=e.abs(),s=n.t;for(t.t=s+i.t;--s>=0;)t[s]=0;for(s=0;s<i.t;++s)t[s+n.t]=n.am(0,i[s],t,s,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&r.ZERO.subTo(t,t)},r.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},r.prototype.divRemTo=function(e,t,i){var s=e.abs();if(!(s.t<=0)){var o=this.abs();if(o.t<s.t)return null!=t&&t.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=n());var a=n(),c=this.s,u=e.s,h=this.DB-l(s[s.t-1]);h>0?(s.lShiftTo(h,a),o.lShiftTo(h,i)):(s.copyTo(a),o.copyTo(i));var f=a.t,p=a[f-1];if(0!=p){var d=p*(1<<this.F1)+(f>1?a[f-2]>>this.F2:0),g=this.FV/d,m=(1<<this.F1)/d,_=1<<this.F2,y=i.t,v=y-f,E=null==t?n():t;for(a.dlShiftTo(v,E),i.compareTo(E)>=0&&(i[i.t++]=1,i.subTo(E,i)),r.ONE.dlShiftTo(f,E),E.subTo(a,a);a.t<f;)a[a.t++]=0;for(;--v>=0;){var w=i[--y]==p?this.DM:Math.floor(i[y]*g+(i[y-1]+_)*m);if((i[y]+=a.am(0,w,i,v,0,f))<w)for(a.dlShiftTo(v,E),i.subTo(E,i);i[y]<--w;)i.subTo(E,i)}null!=t&&(i.drShiftTo(f,t),c!=u&&r.ZERO.subTo(t,t)),i.t=f,i.clamp(),h>0&&i.rShiftTo(h,i),c<0&&r.ZERO.subTo(i,i)}}},r.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},r.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},r.prototype.exp=function(e,t){if(e>4294967295||e<1)return r.ONE;var i=n(),s=n(),o=t.convert(this),a=l(e)-1;for(o.copyTo(i);--a>=0;)if(t.sqrTo(i,s),(e&1<<a)>0)t.mulTo(s,o,i);else{var c=i;i=s,s=c}return t.revert(i)},r.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,i=!1,s="",o=this.t,a=this.DB-o*this.DB%t;if(o-- >0)for(a<this.DB&&(r=this[o]>>a)>0&&(i=!0,s=c(r));o>=0;)a<t?(r=(this[o]&(1<<a)-1)<<t-a,r|=this[--o]>>(a+=this.DB-t)):(r=this[o]>>(a-=t)&n,a<=0&&(a+=this.DB,--o)),r>0&&(i=!0),i&&(s+=c(r));return i?s:"0"},r.prototype.negate=function(){var e=n();return r.ZERO.subTo(this,e),e},r.prototype.abs=function(){return this.s<0?this.negate():this},r.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},r.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+l(this[this.t-1]^this.s&this.DM)},r.prototype.mod=function(e){var t=n();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(r.ZERO)>0&&e.subTo(t,t),t},r.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new f(t):new p(t),this.exp(e,r)},r.ZERO=h(0),r.ONE=h(1),E.prototype.convert=w,E.prototype.revert=w,E.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},E.prototype.sqrTo=function(e,t){e.squareTo(t)},b.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=n();return e.copyTo(t),this.reduce(t),t},b.prototype.revert=function(e){return e},b.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},b.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},b.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var S=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],T=(1<<26)/S[S.length-1];r.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},r.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),i=h(r),s=n(),o=n(),a="";for(this.divRemTo(i,s,o);s.signum()>0;)a=(r+o.intValue()).toString(e).substr(1)+a,s.divRemTo(i,s,o);return o.intValue().toString(e)+a},r.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),i=Math.pow(t,n),s=!1,o=0,a=0,c=0;c<e.length;++c){var h=u(e,c);h<0?"-"==e.charAt(c)&&0==this.signum()&&(s=!0):(a=t*a+h,++o>=n&&(this.dMultiply(i),this.dAddOffset(a,0),o=0,a=0))}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(a,0)),s&&r.ZERO.subTo(this,this)},r.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(r.ONE.shiftLeft(e-1),g,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(r.ONE.shiftLeft(e-1),this);else{var i=new Array,s=7&e;i.length=1+(e>>3),t.nextBytes(i),s>0?i[0]&=(1<<s)-1:i[0]=0,this.fromString(i,256)}},r.prototype.bitwiseTo=function(e,t,r){var n,i,s=Math.min(e.t,this.t);for(n=0;n<s;++n)r[n]=t(this[n],e[n]);if(e.t<this.t){for(i=e.s&this.DM,n=s;n<this.t;++n)r[n]=t(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<e.t;++n)r[n]=t(i,e[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},r.prototype.changeBit=function(e,t){var n=r.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},r.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()},r.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},r.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},r.prototype.multiplyLowerTo=function(e,t,r){var n,i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,e[i],r,i,0,this.t);for(n=Math.min(e.t,t);i<n;++i)this.am(0,e[i],r,i,0,t-i);r.clamp()},r.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r[this.t+n-t]=this.am(t-n,e[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},r.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this[n])%e;return r},r.prototype.millerRabin=function(e){var t=this.subtract(r.ONE),i=t.getLowestSetBit();if(i<=0)return!1;var s=t.shiftRight(i);(e=e+1>>1)>S.length&&(e=S.length);for(var o=n(),a=0;a<e;++a){o.fromInt(S[Math.floor(Math.random()*S.length)]);var c=o.modPow(s,this);if(0!=c.compareTo(r.ONE)&&0!=c.compareTo(t)){for(var u=1;u++<i&&0!=c.compareTo(t);)if(0==(c=c.modPowInt(2,this)).compareTo(r.ONE))return!1;if(0!=c.compareTo(t))return!1}}return!0},r.prototype.clone=function(){var e=n();return this.copyTo(e),e},r.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},r.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},r.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},r.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},r.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(e-- >0)for(n<this.DB&&(r=this[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this[e]&(1<<n)-1)<<8-n,r|=this[--e]>>(n+=this.DB-8)):(r=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t},r.prototype.equals=function(e){return 0==this.compareTo(e)},r.prototype.min=function(e){return this.compareTo(e)<0?this:e},r.prototype.max=function(e){return this.compareTo(e)>0?this:e},r.prototype.and=function(e){var t=n();return this.bitwiseTo(e,d,t),t},r.prototype.or=function(e){var t=n();return this.bitwiseTo(e,g,t),t},r.prototype.xor=function(e){var t=n();return this.bitwiseTo(e,m,t),t},r.prototype.andNot=function(e){var t=n();return this.bitwiseTo(e,_,t),t},r.prototype.not=function(){for(var e=n(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},r.prototype.shiftLeft=function(e){var t=n();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},r.prototype.shiftRight=function(e){var t=n();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},r.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+y(this[e]);return this.s<0?this.t*this.DB:-1},r.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=v(this[r]^t);return e},r.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},r.prototype.setBit=function(e){return this.changeBit(e,g)},r.prototype.clearBit=function(e){return this.changeBit(e,_)},r.prototype.flipBit=function(e){return this.changeBit(e,m)},r.prototype.add=function(e){var t=n();return this.addTo(e,t),t},r.prototype.subtract=function(e){var t=n();return this.subTo(e,t),t},r.prototype.multiply=function(e){var t=n();return this.multiplyTo(e,t),t},r.prototype.divide=function(e){var t=n();return this.divRemTo(e,t,null),t},r.prototype.remainder=function(e){var t=n();return this.divRemTo(e,null,t),t},r.prototype.divideAndRemainder=function(e){var t=n(),r=n();return this.divRemTo(e,t,r),new Array(t,r)},r.prototype.modPow=function(e,t){var r,i,s=e.bitLength(),o=h(1);if(s<=0)return o;r=s<18?1:s<48?3:s<144?4:s<768?5:6,i=s<8?new f(t):t.isEven()?new b(t):new p(t);var a=new Array,c=3,u=r-1,d=(1<<r)-1;if(a[1]=i.convert(this),r>1){var g=n();for(i.sqrTo(a[1],g);c<=d;)a[c]=n(),i.mulTo(g,a[c-2],a[c]),c+=2}var m,_,y=e.t-1,v=!0,E=n();for(s=l(e[y])-1;y>=0;){for(s>=u?m=e[y]>>s-u&d:(m=(e[y]&(1<<s+1)-1)<<u-s,y>0&&(m|=e[y-1]>>this.DB+s-u)),c=r;0==(1&m);)m>>=1,--c;if((s-=c)<0&&(s+=this.DB,--y),v)a[m].copyTo(o),v=!1;else{for(;c>1;)i.sqrTo(o,E),i.sqrTo(E,o),c-=2;c>0?i.sqrTo(o,E):(_=o,o=E,E=_),i.mulTo(E,a[m],o)}for(;y>=0&&0==(e[y]&1<<s);)i.sqrTo(o,E),_=o,o=E,E=_,--s<0&&(s=this.DB-1,--y)}return i.revert(o)},r.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return r.ZERO;for(var n=e.clone(),i=this.clone(),s=h(1),o=h(0),a=h(0),c=h(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(s.isEven()&&o.isEven()||(s.addTo(this,s),o.subTo(e,o)),s.rShiftTo(1,s)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;i.isEven();)i.rShiftTo(1,i),t?(a.isEven()&&c.isEven()||(a.addTo(this,a),c.subTo(e,c)),a.rShiftTo(1,a)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);n.compareTo(i)>=0?(n.subTo(i,n),t&&s.subTo(a,s),o.subTo(c,o)):(i.subTo(n,i),t&&a.subTo(s,a),c.subTo(o,c))}return 0!=i.compareTo(r.ONE)?r.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c},r.prototype.pow=function(e){return this.exp(e,new E)},r.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return t;for(i<s&&(s=i),s>0&&(t.rShiftTo(s,t),r.rShiftTo(s,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r},r.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r[0]<=S[S.length-1]){for(t=0;t<S.length;++t)if(r[0]==S[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<S.length;){for(var n=S[t],i=t+1;i<S.length&&n<T;)n*=S[i++];for(n=r.modInt(n);t<i;)if(n%S[t++]==0)return!1}return r.millerRabin(e)},r.prototype.square=function(){var e=n();return this.squareTo(e),e},r.prototype.Barrett=b,e.exports=r},function(e,t,r){"use strict";var n=r(2).inspect;function i(e,t){if(!e)throw new ERR_INTERNAL_ASSERTION(t)}function s(e){for(var t="",r=e.length,n="-"===e[0]?1:0;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function o(e,t){if(i("string"==typeof t,"`thing` has to be of type string"),Array.isArray(e)){var r=e.length;return i(r>0,"At least one expected value needs to be specified"),e=e.map(e=>String(e)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}i.fail=function(e){throw new ERR_INTERNAL_ASSERTION(e)},t.ERR_INTERNAL_ASSERTION=class e extends Error{constructor(t){super(),Error.captureStackTrace(this,e);var r="This is caused by either a bug in ssh2-streams or incorrect usage of ssh2-streams internals.\nPlease open an issue with this stack trace at https://github.com/mscdex/ssh2-streams/issues\n";this.message=void 0===t?r:`${t}\n${r}`}};var a=Math.pow(2,32),c=function(){try{return new Function("return 2n ** 32n")()}catch(e){}}();function u(e,t){emitErrorNT(e,t),h(e)}function h(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}t.ERR_OUT_OF_RANGE=class e extends RangeError{constructor(t,r,o,u){super(),Error.captureStackTrace(this,e),i(r,'Missing "range" argument');var h,l=u?t:`The value of "${t}" is out of range.`;Number.isInteger(o)&&Math.abs(o)>a?h=s(String(o)):"bigint"==typeof o?(h=String(o),(o>c||o<-c)&&(h=s(h)),h+="n"):h=n(o),l+=` It must be ${r}. Received ${h}`,this.message=l}},t.ERR_INVALID_ARG_TYPE=class e extends TypeError{constructor(t,r,n){var s,a;if(super(),Error.captureStackTrace(this,e),i("string"==typeof t,"'name' must be a string"),"string"==typeof r&&r.startsWith("not ")?(s="must not be",r=r.replace(/^not /,"")):s="must be",t.endsWith(" argument"))a=`The ${t} ${s} ${o(r,"type")}`;else{var c=t.includes(".")?"property":"argument";a=`The "${t}" ${c} ${s} ${o(r,"type")}`}a+=`. Received type ${typeof n}`,this.message=a}},t.validateNumber=function(e,t){if("number"!=typeof e)throw new ERR_INVALID_ARG_TYPE(t,"number",e)},t.destroyImpl=function(e,t){const r=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return r||n?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(emitErrorNT,this,e)):process.nextTick(emitErrorNT,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,e=>{!t&&e?this._writableState?this._writableState.errorEmitted?process.nextTick(h,this):(this._writableState.errorEmitted=!0,process.nextTick(u,this,e)):process.nextTick(u,this,e):t?(process.nextTick(h,this),t(e)):process.nextTick(h,this)}),this)}},function(e,t,r){var n=r(12),i=r(123),s=r(10).Transform,o=r(2).inherits,a=r(2).inspect,c=r(124),u=r(15).readUInt32BE,h=r(15).writeUInt32BE,l=r(39),f=r(11),p=f.iv_inc,d=f.readString,g=f.readInt,m=f.DSASigBERToBare,_=f.ECDSASigASN1ToSSH,y=f.sigSSHToASN1,v=r(54).parseDERKey,E=l.CIPHER_INFO,w=l.HMAC_INFO,b=l.MESSAGE,S=l.DYNAMIC_KEXDH_MESSAGE,T=l.KEXDH_MESSAGE,A=l.ALGORITHMS,k=l.DISCONNECT_REASON,C=l.CHANNEL_OPEN_FAILURE,R=l.SSH_TO_OPENSSL,O=l.TERMINAL_MODE,x=l.SIGNALS,P=(l.EDDSA_SUPPORTED,l.BUGS),N=l.BUGGY_IMPLS,L=N.length,D=r(125).version,U=0,I=U++,B=U++,M=U++,H=U++,F=U++,G=U++,$=U++,W=U++,j=U++,q=U++,Y=U++,K=4294967295,Q=35e3,V=2,X=i.Z_PARTIAL_FLUSH,z={flush:X},Z=/-(.+)$/,J=/^gex-/,ee=/\x00/g,te=Buffer.from("SSH-"),re=Buffer.allocUnsafe(0),ne=Buffer.allocUnsafe(9),ie=Buffer.from([b.GLOBAL_REQUEST,0,0,0,21,107,101,101,112,97,108,105,118,101,64,111,112,101,110,115,115,104,46,99,111,109,1]),se=Buffer.from([b.NEWKEYS]),oe=Buffer.from([b.USERAUTH_SUCCESS]),ae=Buffer.from([b.REQUEST_SUCCESS]),ce=Buffer.from([b.REQUEST_FAILURE]),ue=Buffer.from([O.TTY_OP_END]),he=Buffer.from([b.KEXDH_GEX_REQUEST,0,0,4,0,0,0,16,0,0,0,32,0]);function le(e){}function fe(e){"object"==typeof e&&null!==e||(e={}),s.call(this,{highWaterMark:"number"==typeof e.highWaterMark?e.highWaterMark:32768}),this._needContinue=!1,this.bytesSent=this.bytesReceived=0,this.debug="function"==typeof e.debug?e.debug:le,this.server=!0===e.server,this.maxPacketSize="number"==typeof e.maxPacketSize?e.maxPacketSize:Q,this.remoteBugs=0,this.server&&(this.remoteBugs=P.BAD_DHGEX),this.readable=!0;var t=this,r=e.hostKeys;if(this.server&&("object"!=typeof r||null===r))throw new Error("hostKeys must be an object keyed on host key type");if(this.config={hostKeys:r,ident:"SSH-2.0-"+(e.ident||"ssh2js"+D+(this.server?"srv":"")),algorithms:{kex:A.KEX,kexBuf:A.KEX_BUF,serverHostKey:A.SERVER_HOST_KEY,serverHostKeyBuf:A.SERVER_HOST_KEY_BUF,cipher:A.CIPHER,cipherBuf:A.CIPHER_BUF,hmac:A.HMAC,hmacBuf:A.HMAC_BUF,compress:A.COMPRESS,compressBuf:A.COMPRESS_BUF}},this.config.ident.replace(ee,""),this.config.ident.length+2>255)throw new Error("ident too long");if("object"==typeof e.algorithms&&null!==e.algorithms){var i=e.algorithms;Array.isArray(i.kex)&&i.kex.length>0&&(this.config.algorithms.kex=i.kex,Buffer.isBuffer(i.kexBuf)||(i.kexBuf=Buffer.from(i.kex.join(","),"ascii")),this.config.algorithms.kexBuf=i.kexBuf),Array.isArray(i.serverHostKey)&&i.serverHostKey.length>0&&(this.config.algorithms.serverHostKey=i.serverHostKey,Buffer.isBuffer(i.serverHostKeyBuf)||(i.serverHostKeyBuf=Buffer.from(i.serverHostKey.join(","),"ascii")),this.config.algorithms.serverHostKeyBuf=i.serverHostKeyBuf),Array.isArray(i.cipher)&&i.cipher.length>0&&(this.config.algorithms.cipher=i.cipher,Buffer.isBuffer(i.cipherBuf)||(i.cipherBuf=Buffer.from(i.cipher.join(","),"ascii")),this.config.algorithms.cipherBuf=i.cipherBuf),Array.isArray(i.hmac)&&i.hmac.length>0&&(this.config.algorithms.hmac=i.hmac,Buffer.isBuffer(i.hmacBuf)||(i.hmacBuf=Buffer.from(i.hmac.join(","),"ascii")),this.config.algorithms.hmacBuf=i.hmacBuf),Array.isArray(i.compress)&&i.compress.length>0&&(this.config.algorithms.compress=i.compress,Buffer.isBuffer(i.compressBuf)||(i.compressBuf=Buffer.from(i.compress.join(","),"ascii")),this.config.algorithms.compressBuf=i.compressBuf)}this.reset(!0),this.on("end",(function(){t.readable=!1,t._state=void 0,t.reset(),t._state.outgoing.bufSeqno=void 0})),this.on("DISCONNECT",(function(e,r,n,i){!function(e,t,r,n,i){if(r!==k.BY_APPLICATION){var s=new Error(n||t);s.code=r,e.emit("error",s)}e.reset()}(t,e,r,n)})),this.on("KEXINIT",(function(e,r){!function(e,t,r){var i=e._state,s=i.outgoing;s.status===q?(e.debug("DEBUG: Received re-key request"),s.status=Y,s.kexinit=void 0,Ee(e,o)):o();function o(){if(!0===function(e,t,r){var i,s,o,a,c,u=e._state,h=u.incoming,l=u.outgoing,f=e.debug;f("DEBUG: Comparing KEXINITs ...");var p=e.config.algorithms,d=p.kex;if(e.remoteBugs&P.BAD_DHGEX)for(var g=!1,m=d.length-1;m>=0;--m)-1!==d[m].indexOf("group-exchange")&&(g||(d=d.slice(),g=!0),d.splice(m,1));f("DEBUG: (local) KEX algorithms: "+d),f("DEBUG: (remote) KEX algorithms: "+t.algorithms.kex),e.server?(i=d,s=t.algorithms.kex):(i=t.algorithms.kex,s=d);for(c=0,a=s.length;c<a&&-1===i.indexOf(s[c]);++c);if(c===a){return f("DEBUG: No matching key exchange algorithm"),(y=new Error("Handshake failed: no matching key exchange algorithm")).level="handshake",e.emit("error",y),e.disconnect(k.KEY_EXCHANGE_FAILED),!1}var _=s[c];f("DEBUG: KEX algorithm: "+_),!r||t.algorithms.kex.length&&_===t.algorithms.kex[0]||(h.ignoreNext=!0);f("DEBUG: (local) Host key formats: "+p.serverHostKey),f("DEBUG: (remote) Host key formats: "+t.algorithms.srvHostKey),e.server?(i=p.serverHostKey,s=t.algorithms.srvHostKey):(i=t.algorithms.srvHostKey,s=p.serverHostKey);for(c=0,a=s.length;c<a&&-1===i.indexOf(s[c]);++c);if(c===a){return f("DEBUG: No matching host key format"),(y=new Error("Handshake failed: no matching host key format")).level="handshake",e.emit("error",y),e.disconnect(k.KEY_EXCHANGE_FAILED),!1}u.hostkeyFormat=s[c],f("DEBUG: Host key format: "+u.hostkeyFormat),f("DEBUG: (local) Client->Server ciphers: "+p.cipher),f("DEBUG: (remote) Client->Server ciphers: "+t.algorithms.cs.encrypt),e.server?(i=p.cipher,s=t.algorithms.cs.encrypt):(i=t.algorithms.cs.encrypt,s=p.cipher);for(c=0,a=s.length;c<a&&-1===i.indexOf(s[c]);++c);if(c===a){return f("DEBUG: No matching Client->Server cipher"),(y=new Error("Handshake failed: no matching client->server cipher")).level="handshake",e.emit("error",y),e.disconnect(k.KEY_EXCHANGE_FAILED),!1}o=e.server?h.decrypt.type=s[c]:l.encrypt.type=s[c];f("DEBUG: Client->Server Cipher: "+o),f("DEBUG: (local) Server->Client ciphers: "+p.cipher),f("DEBUG: (remote) Server->Client ciphers: "+t.algorithms.sc.encrypt),e.server?(i=p.cipher,s=t.algorithms.sc.encrypt):(i=t.algorithms.sc.encrypt,s=p.cipher);for(c=0,a=s.length;c<a&&-1===i.indexOf(s[c]);++c);if(c===a){return f("DEBUG: No matching Server->Client cipher"),(y=new Error("Handshake failed: no matching server->client cipher")).level="handshake",e.emit("error",y),e.disconnect(k.KEY_EXCHANGE_FAILED),!1}o=e.server?l.encrypt.type=s[c]:h.decrypt.type=s[c];f("DEBUG: Server->Client Cipher: "+o),f("DEBUG: (local) Client->Server HMAC algorithms: "+p.hmac),f("DEBUG: (remote) Client->Server HMAC algorithms: "+t.algorithms.cs.mac),e.server?(i=p.hmac,s=t.algorithms.cs.mac):(i=t.algorithms.cs.mac,s=p.hmac);for(c=0,a=s.length;c<a&&-1===i.indexOf(s[c]);++c);if(c===a){return f("DEBUG: No matching Client->Server HMAC algorithm"),(y=new Error("Handshake failed: no matching client->server HMAC")).level="handshake",e.emit("error",y),e.disconnect(k.KEY_EXCHANGE_FAILED),!1}o=e.server?h.hmac.type=s[c]:l.hmac.type=s[c];f("DEBUG: Client->Server HMAC algorithm: "+o),f("DEBUG: (local) Server->Client HMAC algorithms: "+p.hmac),f("DEBUG: (remote) Server->Client HMAC algorithms: "+t.algorithms.sc.mac),e.server?(i=p.hmac,s=t.algorithms.sc.mac):(i=t.algorithms.sc.mac,s=p.hmac);for(c=0,a=s.length;c<a&&-1===i.indexOf(s[c]);++c);if(c===a){return f("DEBUG: No matching Server->Client HMAC algorithm"),(y=new Error("Handshake failed: no matching server->client HMAC")).level="handshake",e.emit("error",y),e.disconnect(k.KEY_EXCHANGE_FAILED),!1}o=e.server?l.hmac.type=s[c]:h.hmac.type=s[c];f("DEBUG: Server->Client HMAC algorithm: "+o),f("DEBUG: (local) Client->Server compression algorithms: "+p.compress),f("DEBUG: (remote) Client->Server compression algorithms: "+t.algorithms.cs.compress),e.server?(i=p.compress,s=t.algorithms.cs.compress):(i=t.algorithms.cs.compress,s=p.compress);for(c=0,a=s.length;c<a&&-1===i.indexOf(s[c]);++c);if(c===a){return f("DEBUG: No matching Client->Server compression algorithm"),(y=new Error("Handshake failed: no matching client->server compression algorithm")).level="handshake",e.emit("error",y),e.disconnect(k.KEY_EXCHANGE_FAILED),!1}o=e.server?h.decompress.type=s[c]:l.compress.type=s[c];f("DEBUG: Client->Server compression algorithm: "+o),f("DEBUG: (local) Server->Client compression algorithms: "+p.compress),f("DEBUG: (remote) Server->Client compression algorithms: "+t.algorithms.sc.compress),e.server?(i=p.compress,s=t.algorithms.sc.compress):(i=t.algorithms.sc.compress,s=p.compress);for(c=0,a=s.length;c<a&&-1===i.indexOf(s[c]);++c);if(c===a){var y;return f("DEBUG: No matching Server->Client compression algorithm"),(y=new Error("Handshake failed: no matching server->client compression algorithm")).level="handshake",e.emit("error",y),e.disconnect(k.KEY_EXCHANGE_FAILED),!1}o=e.server?l.compress.type=s[c]:h.decompress.type=s[c];switch(f("DEBUG: Server->Client compression algorithm: "+o),_){case"diffie-hellman-group1-sha1":u.kexdh="group",u.kex=n.getDiffieHellman("modp2");break;case"diffie-hellman-group14-sha1":u.kexdh="group",u.kex=n.getDiffieHellman("modp14");break;case"ecdh-sha2-nistp256":u.kexdh="ec-sha256",u.kex=n.createECDH(R[_]);break;case"ecdh-sha2-nistp384":u.kexdh="ec-sha384",u.kex=n.createECDH(R[_]);break;case"ecdh-sha2-nistp521":u.kexdh="ec-sha512",u.kex=n.createECDH(R[_]);break;default:"diffie-hellman-group-exchange-sha1"===_?u.kexdh="gex-sha1":"diffie-hellman-group-exchange-sha256"===_&&(u.kexdh="gex-sha256"),u.kex=void 0}if(u.kex){l.pubkey=u.kex.generateKeys();var v=0;for(a=l.pubkey.length;0===l.pubkey[v];)++v,--a;if(128&l.pubkey[v]){var E=Buffer.allocUnsafe(a+1);E[0]=0,l.pubkey.copy(E,1,v),l.pubkey=E}}return!0}(e,t,r)){var s=J.test(i.kexdh);e.server?i.incoming.expectedPacket=s?"KEXDH_GEX_REQ":"KEXDH_INIT":s?function(e){e._state.incoming.expectedPacket="KEXDH_GEX_GROUP",e.debug("DEBUG: Outgoing: Writing KEXDH_GEX_REQUEST"),Te(e,he,void 0,!0)}(e):we(e)}}}(t,e,r)})),this.on("NEWKEYS",(function(){pe(t)})),this.server?this.on("KEXDH_INIT",(function(e){!function(e,t){!function(e,t){var r=e._state,i=r.outgoing,s=r.incoming,o=e.config.hostKeys[r.hostkeyFormat];Array.isArray(o)&&(o=o[0]);for(var a=o.getPublicSSH(),c=o.type,u=-1,l=0,f=t.length;l<f&&0===t[l];++l)++u;u>-1&&(t=t.slice(u+1));var p,d=Ce(r.kex,t);if(d instanceof Error)return d.message="Error while computing DH secret ("+r.kexdh+"): "+d.message,d.level="handshake",e.emit("error",d),e.disconnect(k.KEY_EXCHANGE_FAILED),!1;p="group"===r.kexdh?"sha1":Z.exec(r.kexdh)[1];var g=n.createHash(p),m=Buffer.byteLength(s.identRaw),_=Buffer.byteLength(e.config.ident),y=s.kexinit.length,v=i.kexinit.length,E=a.length,w=t.length,S=i.pubkey.length,T=d.length,A=0,C=0;for(;0===i.pubkey[A];)++A,--S;for(;0===d[C];)++C,--T;128&t[0]&&++w;128&i.pubkey[A]&&++S;128&d[C]&&++T;var R,O,x=m+_+y+v+E+w+S+T+32,P=J.test(r.kexdh),N=0,L=0,D=0,U=0;if(P){for(R=r.kex.getPrime(),O=r.kex.getGenerator(),N=R.length,L=O.length;0===R[D];)++D,--N;for(;0===O[U];)++U,--L;128&R[D]&&++N,128&O[U]&&++L,x+=12,x+=8,x+=N,x+=L}var I=0,B=Buffer.allocUnsafe(x);h(B,m,I),I+=4,B.write(s.identRaw,I,"utf8"),h(B,_,I+=m),I+=4,B.write(e.config.ident,I,"utf8"),h(B,y,I+=_),I+=4,s.kexinit.copy(B,I),I+=y,s.kexinit=void 0,h(B,v,I),I+=4,i.kexinit.copy(B,I),I+=v,i.kexinit=void 0,h(B,E,I),I+=4,a.copy(B,I),I+=E,P&&(he.slice(1).copy(B,I),h(B,N,I+=12),I+=4,128&R[D]&&(B[I++]=0),R.copy(B,I,D),I+=N-(128&R[D]?1:0),h(B,L,I),I+=4,128&O[U]&&(B[I++]=0),O.copy(B,I,U),I+=L-(128&O[U]?1:0));h(B,w,I),I+=4,128&t[0]&&(B[I++]=0);t.copy(B,I),I+=w-(128&t[0]?1:0),h(B,S,I),I+=4,128&i.pubkey[A]&&(B[I++]=0);i.pubkey.copy(B,I,A),I+=S-(128&i.pubkey[A]?1:0),h(B,T,I),I+=4,128&d[C]&&(B[I++]=0);d.copy(B,I,C),i.exchangeHash=g.update(B).digest(),void 0===i.sessionId&&(i.sessionId=i.exchangeHash);i.kexsecret=d;var M=o.sign(i.exchangeHash);if(M instanceof Error)return M.message="Error while signing data with host key ("+c+"): "+M.message,M.level="handshake",e.emit("error",M),e.disconnect(k.KEY_EXCHANGE_FAILED),!1;if(!1===(M=Re(M,c)))return M.message="Error while converting handshake signature",M.level="handshake",e.emit("error",M),e.disconnect(k.KEY_EXCHANGE_FAILED),!1;var H=4+c.length+4+M.length,F=Buffer.allocUnsafe(5+E+4+S+4+H);F[I=0]=P?b.KEXDH_GEX_REPLY:b.KEXDH_REPLY,++I,h(F,E,I),I+=4,a.copy(F,I),h(F,S,I+=E),I+=4,128&i.pubkey[A]&&(F[I++]=0);i.pubkey.copy(F,I,A),I+=S-(128&i.pubkey[A]?1:0),h(F,H,I),I+=4,h(F,c.length,I),I+=4,F.write(c,I,c.length,"ascii"),I+=c.length,h(F,M.length,I),I+=4,M.copy(F,I),r.incoming.expectedPacket="NEWKEYS",P?e.debug("DEBUG: Outgoing: Writing KEXDH_GEX_REPLY"):"group"!==r.kexdh?e.debug("DEBUG: Outgoing: Writing KEXECDH_REPLY"):e.debug("DEBUG: Outgoing: Writing KEXDH_REPLY");Te(e,F,void 0,!0),i.sentNEWKEYS=!0,e.debug("DEBUG: Outgoing: Writing NEWKEYS"),Te(e,se,void 0,!0)}(e,t)}(t,e)})):this.on("KEXDH_REPLY",(function(e){!function e(t,r,i){var s,o,a=t._state,c=a.incoming,u=a.outgoing,l=t.debug;if(void 0===i){c.expectedPacket="NEWKEYS",u.sentNEWKEYS=!1,l("DEBUG: Checking host key format");var f=d(r.hostkey,0,"ascii",t);if(!1===f)return!1;if(r.hostkey_format!==a.hostkeyFormat||r.hostkey_format!==f)return l("DEBUG: Host key format mismatch"),t.disconnect(k.KEY_EXCHANGE_FAILED),t.reset(),(Q=new Error("Handshake failed: host key format mismatch")).level="handshake",t.emit("error",Q),!1;l("DEBUG: Checking signature format");var p=d(r.sig,0,"ascii",t);if(!1===p)return!1;if(r.sig_format!==p)return l("DEBUG: Signature format mismatch"),t.disconnect(k.KEY_EXCHANGE_FAILED),t.reset(),(Q=new Error("Handshake failed: signature format mismatch")).level="handshake",t.emit("error",Q),!1}if(u.status===j){if(void 0===i){l("DEBUG: Verifying host fingerprint");var g=!0,m=t.emit("fingerprint",r.hostkey,(function(n){void 0===i&&(i=!!n,g||e(t,r,i))}));if(g=!1,m&&void 0===i)return}if(void 0===i)l("DEBUG: Host accepted by default (no verification)");else{if(!0!==i)return l("DEBUG: Host denied via fingerprint verification"),t.disconnect(k.KEY_EXCHANGE_FAILED),t.reset(),(Q=new Error("Handshake failed: host fingerprint verification failed")).level="handshake",t.emit("error",Q),!1;l("DEBUG: Host accepted (verified)")}}var _,E=-1;for(o=0,s=r.pubkey.length;o<s&&0===r.pubkey[o];++o)++E;E>-1&&(r.pubkey=r.pubkey.slice(E+1));if(r.secret=Ce(a.kex,r.pubkey),r.secret instanceof Error)return r.secret.message="Error while computing DH secret ("+a.kexdh+"): "+r.secret.message,r.secret.level="handshake",t.emit("error",r.secret),t.disconnect(k.KEY_EXCHANGE_FAILED),!1;_="group"===a.kexdh?"sha1":Z.exec(a.kexdh)[1];var w=n.createHash(_),b=Buffer.byteLength(t.config.ident),S=Buffer.byteLength(c.identRaw),T=u.kexinit.length,A=c.kexinit.length,C=r.hostkey.length,R=u.pubkey.length,O=r.pubkey.length,x=r.secret.length,P=0,N=0,L=0;for(;0===u.pubkey[P];)++P,--R;for(;0===r.pubkey[N];)++N,--O;for(;0===r.secret[L];)++L,--x;128&u.pubkey[P]&&++R;128&r.pubkey[N]&&++O;128&r.secret[L]&&++x;var D,U,I=b+S+T+A+C+R+O+x+32,B=J.test(a.kexdh),M=0,H=0,F=0,G=0;if(B){for(D=a.kex.getPrime(),U=a.kex.getGenerator(),M=D.length,H=U.length;0===D[F];)++F,--M;for(;0===U[G];)++G,--H;128&D[F]&&++M,128&U[G]&&++H,I+=12,I+=8,I+=M,I+=H}var $=0,W=Buffer.allocUnsafe(I);h(W,b,$),$+=4,W.write(t.config.ident,$,"utf8"),h(W,S,$+=b),$+=4,W.write(c.identRaw,$,"utf8"),h(W,T,$+=S),$+=4,u.kexinit.copy(W,$),$+=T,u.kexinit=void 0,h(W,A,$),$+=4,c.kexinit.copy(W,$),$+=A,c.kexinit=void 0,h(W,C,$),$+=4,r.hostkey.copy(W,$),$+=C,B&&(he.slice(1).copy(W,$),h(W,M,$+=12),$+=4,128&D[F]&&(W[$++]=0),D.copy(W,$,F),$+=M-(128&D[F]?1:0),h(W,H,$),$+=4,128&U[G]&&(W[$++]=0),U.copy(W,$,G),$+=H-(128&U[G]?1:0));h(W,R,$),$+=4,128&u.pubkey[P]&&(W[$++]=0);u.pubkey.copy(W,$,P),$+=R-(128&u.pubkey[P]?1:0),h(W,O,$),$+=4,128&r.pubkey[N]&&(W[$++]=0);r.pubkey.copy(W,$,N),$+=O-(128&r.pubkey[N]?1:0),h(W,x,$),$+=4,128&r.secret[L]&&(W[$++]=0);r.secret.copy(W,$,L),u.exchangeHash=w.update(W).digest();var q=d(r.sig,r.sig._pos,t);if(!1===q||!(q=y(q,r.sig_format,t)))return!1;var K=v(r.hostkey,r.sig_format);if(K instanceof Error)return!1;if(l("DEBUG: Verifying signature"),!0!==K.verify(u.exchangeHash,q)){var Q;return l("DEBUG: Signature verification failed"),t.disconnect(k.KEY_EXCHANGE_FAILED),t.reset(),(Q=new Error("Handshake failed: signature verification failed")).level="handshake",t.emit("error",Q),!1}void 0===u.sessionId&&(u.sessionId=u.exchangeHash);u.kexsecret=r.secret,l("DEBUG: Outgoing: Writing NEWKEYS"),u.status===Y?Te(t,se,void 0,!0):Te(t,se);u.sentNEWKEYS=!0,void 0!==i&&void 0===c.expectedPacket&&pe(t)}(t,e)})).on("KEXDH_GEX_GROUP",(function(e,r){!function(e,t,r){var i=e._state,s=i.outgoing;i.kex=n.createDiffieHellman(t,r),s.pubkey=i.kex.generateKeys();var o=0,a=s.pubkey.length;for(;0===s.pubkey[o];)++o,--a;if(128&s.pubkey[o]){var c=Buffer.allocUnsafe(a+1);c[0]=0,s.pubkey.copy(c,1,o),s.pubkey=c}we(e)}(t,e,r)})),this.server&&("string"==typeof e.greeting&&e.greeting.length&&("\r\n"===e.greeting.slice(-2)?this.push(e.greeting):this.push(e.greeting+"\r\n")),"string"==typeof e.banner&&e.banner.length&&("\r\n"===e.banner.slice(-2)?this.banner=e.banner:this.banner=e.banner+"\r\n")),this.debug("DEBUG: Local ident: "+a(this.config.ident)),this.push(this.config.ident+"\r\n"),this._state.incoming.expectedPacket="KEXINIT"}function pe(e){var t=e._state,r=t.outgoing,s=t.incoming;if(s.expectedPacket=void 0,r.sentNEWKEYS){for(var o=0,a=r.kexsecret.length;0===r.kexsecret[o];)++o,--a;var c,u=r.encrypt.info=E[r.encrypt.type],l=0;c="group"===t.kexdh?"sha1":Z.exec(t.kexdh)[1];var f,p,d=(128&r.kexsecret[o]?1:0)+a,g=Buffer.allocUnsafe(4+d);if(t.authsQueue=[],h(g,d,l),l+=4,128&r.kexsecret[o]&&(g[l++]=0),r.kexsecret.copy(g,l,o),r.kexsecret=void 0,u.stream)f=re;else{for(f=n.createHash(c).update(g).update(r.exchangeHash).update(e.server?"B":"A","ascii").update(r.sessionId).digest();f.length<u.ivLen;)f=Buffer.concat([f,n.createHash(c).update(g).update(r.exchangeHash).update(f).digest()]);f.length>u.ivLen&&(f=f.slice(0,u.ivLen))}for(p=n.createHash(c).update(g).update(r.exchangeHash).update(e.server?"D":"C","ascii").update(r.sessionId).digest();p.length<u.keyLen;)p=Buffer.concat([p,n.createHash(c).update(g).update(r.exchangeHash).update(p).digest()]);if(p.length>u.keyLen&&(p=p.slice(0,u.keyLen)),u.authLen>0)r.encrypt.iv=f,r.encrypt.key=p,r.encrypt.instance=!0;else{var m=R[r.encrypt.type];r.encrypt.instance=n.createCipheriv(m,p,f),r.encrypt.instance.setAutoPadding(!1)}var _=s.decrypt.info=E[s.decrypt.type];if(_.stream)f=re;else{for(f=n.createHash(c).update(g).update(r.exchangeHash).update(e.server?"A":"B","ascii").update(r.sessionId).digest();f.length<_.ivLen;)f=Buffer.concat([f,n.createHash(c).update(g).update(r.exchangeHash).update(f).digest()]);f.length>_.ivLen&&(f=f.slice(0,_.ivLen))}for(s.decrypt.buf=Buffer.allocUnsafe(_.blockLen),p=n.createHash(c).update(g).update(r.exchangeHash).update(e.server?"C":"D","ascii").update(r.sessionId).digest();p.length<_.keyLen;)p=Buffer.concat([p,n.createHash(c).update(g).update(r.exchangeHash).update(p).digest()]);p.length>_.keyLen&&(p=p.slice(0,_.keyLen));var y,v=R[s.decrypt.type];s.decrypt.instance=n.createDecipheriv(v,p,f),s.decrypt.instance.setAutoPadding(!1),s.decrypt.iv=f,s.decrypt.key=p,u.discardLen>0&&(y=Buffer.alloc(u.discardLen),r.encrypt.instance.update(y)),_.discardLen>0&&(y&&y.length===_.discardLen||(y=Buffer.alloc(u.discardLen)),s.decrypt.instance.update(y));var b=r.hmac.info=w[r.hmac.type],S=s.hmac.info=w[s.hmac.type];if(0===u.authLen){for(p=n.createHash(c).update(g).update(r.exchangeHash).update(e.server?"F":"E","ascii").update(r.sessionId).digest();p.length<b.len;)p=Buffer.concat([p,n.createHash(c).update(g).update(r.exchangeHash).update(p).digest()]);p.length>b.len&&(p=p.slice(0,b.len)),r.hmac.key=p}else r.hmac.key=void 0;if(0===_.authLen){for(p=n.createHash(c).update(g).update(r.exchangeHash).update(e.server?"E":"F","ascii").update(r.sessionId).digest();p.length<S.len;)p=Buffer.concat([p,n.createHash(c).update(g).update(r.exchangeHash).update(p).digest()]);p.length>S.len&&(p=p.slice(0,S.len)),s.hmac.key=p}else s.hmac.key=void 0;var T=_.authLen||s.hmac.info.actualLen;if(s.hmac.buf&&s.hmac.buf.length===T||(s.hmac.buf=Buffer.allocUnsafe(T)),r.exchangeHash=void 0,"zlib"===r.compress.type?(r.compress.instance=i.createDeflate(z),r.compress.queue=[]):"none"===r.compress.type&&(r.compress.instance=!1,r.compress.queue=null),"zlib"===s.decompress.type?s.decompress.instance=i.createInflate(z):"none"===s.decompress.type&&(s.decompress.instance=!1),e.bytesSent=e.bytesReceived=0,r.status===Y){r.status=q;var A=r.rekeyQueue,k=A.length,C=0;for(r.rekeyQueue=[];C<k;++C)Buffer.isBuffer(A[C])?Te(e,A[C]):Te(e,A[C][0],A[C][1]);k=(A=s.rekeyQueue).length,C=0,s.rekeyQueue=[];for(var O=s.seqno;C<k;++C){if(s.seqno=A[C][0],s.payload=A[C][1],!1===de(e))return;if(s.status===I)return}s.seqno=O}else r.status=q,s.status===F&&(e.debug("DEBUG: Parser: IN_PACKETBEFORE (update) (expecting "+_.blockLen+")"),ye(e,V,_.blockLen,s.decrypt.buf)),e.emit("ready")}}function de(e,t){var r,n,s,o,a,c,l,f,p,m,_,v,E,w,A=e._state.incoming,R=e._state.outgoing,x=A.payload,N=A.seqno;if(++A.seqno>K&&(A.seqno=0),A.ignoreNext)return e.debug("DEBUG: Parser: Packet ignored"),void(A.ignoreNext=!1);var L=x[0];if(void 0===L)return!1;if(R.status!==q&&b[L]!==A.expectedPacket&&L<1&&L>4){e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, expected: "+A.expectedPacket+" but got: "+b[L]),e.disconnect(k.PROTOCOL_ERROR);var D=new Error("Received unexpected packet");return D.level="protocol",e.emit("error",D),!1}if(L===b.CHANNEL_DATA){if(!1===(a=g(x,1,e,t)))return!1;if(!1===(c=d(x,5,e,t,32768)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_DATA ("+a+")"),e.emit("CHANNEL_DATA:"+a,c)}else if(L===b.CHANNEL_EXTENDED_DATA){if(!1===(a=g(x,1,e,t)))return!1;var U=g(x,5,e,t);if(!1===U)return!1;if(!1===(c=d(x,9,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_EXTENDED_DATA ("+a+")"),e.emit("CHANNEL_EXTENDED_DATA:"+a,U,c)}else if(L===b.CHANNEL_WINDOW_ADJUST){if(!1===(a=g(x,1,e,t)))return!1;var I=g(x,5,e,t);if(!1===I)return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_WINDOW_ADJUST ("+a+", "+I+")"),e.emit("CHANNEL_WINDOW_ADJUST:"+a,I)}else if(L===b.CHANNEL_SUCCESS){if(!1===(a=g(x,1,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_SUCCESS ("+a+")"),e.emit("CHANNEL_SUCCESS:"+a)}else if(L===b.CHANNEL_FAILURE){if(!1===(a=g(x,1,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_FAILURE ("+a+")"),e.emit("CHANNEL_FAILURE:"+a)}else if(L===b.CHANNEL_EOF){if(!1===(a=g(x,1,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_EOF ("+a+")"),e.emit("CHANNEL_EOF:"+a)}else if(L===b.CHANNEL_OPEN){var B,M=d(x,1,"ascii",e,t);if(!1===M)return!1;if(!1===(p=g(x,x._pos,e,t)))return!1;if(!1===(m=g(x,x._pos+=4,e,t)))return!1;if(!1===(_=g(x,x._pos+=4,e,t)))return!1;if(e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_OPEN ("+p+", "+M+")"),"forwarded-tcpip"===M||"direct-tcpip"===M){var H=d(x,x._pos+=4,"ascii",e,t);if(!1===H)return!1;var F=g(x,x._pos,e,t);if(!1===F)return!1;if(!1===(l=d(x,x._pos+=4,"ascii",e,t)))return!1;if(!1===(f=g(x,x._pos,e,t)))return!1;B={type:M,sender:p,window:m,packetSize:_,data:{destIP:H,destPort:F,srcIP:l,srcPort:f}}}else if("forwarded-streamlocal@openssh.com"===M||"direct-streamlocal@openssh.com"===M){if(!1===(w=d(x,x._pos+=4,"utf8",e,t)))return!1;B={type:M,sender:p,window:m,packetSize:_,data:{socketPath:w}}}else if("x11"===M){if(!1===(l=d(x,x._pos+=4,"ascii",e,t)))return!1;if(!1===(f=g(x,x._pos,e,t)))return!1;B={type:M,sender:p,window:m,packetSize:_,data:{srcIP:l,srcPort:f}}}else B={type:M,sender:p,window:m,packetSize:_,data:{}};e.emit("CHANNEL_OPEN",B)}else if(L===b.CHANNEL_OPEN_CONFIRMATION){if(!1===(v=g(x,1,e,t)))return!1;if(!1===(p=g(x,5,e,t)))return!1;if(!1===(m=g(x,9,e,t)))return!1;if(!1===(_=g(x,13,e,t)))return!1;o={recipient:v,sender:p,window:m,packetSize:_},x.length>17&&(o.data=x.slice(17)),e.emit("CHANNEL_OPEN_CONFIRMATION:"+o.recipient,o)}else if(L===b.CHANNEL_OPEN_FAILURE){if(!1===(v=g(x,1,e,t)))return!1;var G=g(x,5,e,t);if(!1===G)return!1;if(!1===(E=d(x,9,"utf8",e,t)))return!1;if(!1===(n=d(x,x._pos,"utf8",e,t)))return!1;x._pos=9,o={recipient:v,reasonCode:G,reason:C[G],description:E,lang:n},e.emit("CHANNEL_OPEN_FAILURE:"+o.recipient,o)}else if(L===b.CHANNEL_CLOSE){if(!1===(a=g(x,1,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_CLOSE ("+a+")"),e.emit("CHANNEL_CLOSE:"+a)}else if(L===b.IGNORE);else if(L===b.DISCONNECT){var $=g(x,1,e,t);if(!1===$)return!1;var W=k[$];if(!1===(E=d(x,5,"utf8",e,t)))return!1;x._pos<x.length&&(n=d(x,x._pos,"ascii",e,t)),e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: DISCONNECT ("+W+")"),e.emit("DISCONNECT",W,$,E,n)}else if(L===b.DEBUG){if(!1===(s=d(x,2,"utf8",e,t)))return!1;if(!1===(n=d(x,x._pos,"ascii",e,t)))return!1;e.emit("DEBUG",s,n)}else if(L===b.NEWKEYS)e.emit("NEWKEYS");else if(L===b.SERVICE_REQUEST){if(!1===(r=d(x,1,"ascii",e,t)))return!1;e.emit("SERVICE_REQUEST",r)}else if(L===b.SERVICE_ACCEPT){if(!1===(r=d(x,1,"ascii",e,t)))return!1;e.emit("SERVICE_ACCEPT",r)}else if(L===b.USERAUTH_REQUEST){var j=d(x,1,"utf8",e,t);if(!1===j)return!1;var Y=d(x,x._pos,"ascii",e,t);if(!1===Y)return!1;var Q,V,X=d(x,x._pos,"ascii",e,t);if(!1===X)return!1;if("password"===X){if(!1===(Q=d(x,x._pos+1,"utf8",e,t)))return!1}else if("publickey"===X||"hostbased"===X){var Z,ee,te,re,ne,ie,se;if("publickey"===X){if(void 0===(Z=x[x._pos++]))return!1;Z=0!==Z}if(!1===(ee=d(x,x._pos,"ascii",e,t)))return!1;if(!1===(te=d(x,x._pos,e,t)))return!1;if(Z||"hostbased"===X){if("hostbased"===X){if(!1===(ie=d(x,x._pos,"ascii",e,t)))return!1;if(!1===(se=d(x,x._pos,"utf8",e,t)))return!1}var oe=x._pos;if(!1===(re=d(x,oe,e,t)))return!1;if(re.length>4+ee.length+4&&re.toString("ascii",4,4+ee.length)===ee&&(re=re.slice(4+ee.length+4)),!1===(re=y(re,ee,e,t)))return!1;ne=Buffer.allocUnsafe(4+R.sessionId.length+oe),h(ne,R.sessionId.length,0),R.sessionId.copy(ne,4),x.copy(ne,4+R.sessionId.length,0,oe)}else V="publickey -- check";Q={keyAlgo:ee,key:te,signature:re,blob:ne,localHostname:ie,localUsername:se}}else if("keyboard-interactive"===X){var ae=g(x,x._pos,e,t);if(!1===ae)return!1;if(!1===(Q=d(x,x._pos+4+ae,"utf8",e,t)))return!1}else"none"!==X&&(Q=x.slice(x._pos));void 0===V&&(V=X),e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: USERAUTH_REQUEST ("+V+")"),e._state.authsQueue.push(X),e.emit("USERAUTH_REQUEST",j,Y,X,Q)}else if(L===b.USERAUTH_SUCCESS)"zlib@openssh.com"===R.compress.type&&(R.compress.instance=i.createDeflate(z),R.compress.queue=[]),"zlib@openssh.com"===A.decompress.type&&(A.decompress.instance=i.createInflate(z)),e._state.authsQueue.shift(),e.emit("USERAUTH_SUCCESS");else if(L===b.USERAUTH_FAILURE){var ce=d(x,1,"ascii",e,t);if(!1===ce)return!1;var ue=x[x._pos];if(void 0===ue)return!1;ue=0!==ue,ce=ce.split(","),e._state.authsQueue.shift(),e.emit("USERAUTH_FAILURE",ce,ue)}else if(L===b.USERAUTH_BANNER){if(!1===(s=d(x,1,"utf8",e,t)))return!1;if(!1===(n=d(x,x._pos,"utf8",e,t)))return!1;e.emit("USERAUTH_BANNER",s,n)}else if(L===b.GLOBAL_REQUEST){var he=d(x,1,"ascii",e,t);if(!1===he)return e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: GLOBAL_REQUEST"),!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: GLOBAL_REQUEST ("+he+")");var le,fe=x[x._pos++];if(void 0===fe)return!1;if(fe=0!==fe,"tcpip-forward"===he||"cancel-tcpip-forward"===he){var pe=d(x,x._pos,"ascii",e,t);if(!1===pe)return!1;var de=g(x,x._pos,e,t);if(!1===de)return!1;le={bindAddr:pe,bindPort:de}}else if("streamlocal-forward@openssh.com"===he||"cancel-streamlocal-forward@openssh.com"===he){if(!1===(w=d(x,x._pos,"utf8",e,t)))return!1;le={socketPath:w}}else"no-more-sessions@openssh.com"===he||(le=x.slice(x._pos));e.emit("GLOBAL_REQUEST",he,fe,le)}else if(L===b.REQUEST_SUCCESS)x.length>1?e.emit("REQUEST_SUCCESS",x.slice(1)):e.emit("REQUEST_SUCCESS");else if(L===b.REQUEST_FAILURE)e.emit("REQUEST_FAILURE");else if(L===b.UNIMPLEMENTED);else{if(L===b.KEXINIT)return function(e,t){var r,n=e._state.incoming,i=n.payload,s={algorithms:{kex:void 0,srvHostKey:void 0,cs:{encrypt:void 0,mac:void 0,compress:void 0},sc:{encrypt:void 0,mac:void 0,compress:void 0}},languages:{cs:void 0,sc:void 0}};if(!1===(r=ve(i,17,e,t)))return!1;if(s.algorithms.kex=r,!1===(r=ve(i,i._pos,e,t)))return!1;if(s.algorithms.srvHostKey=r,!1===(r=ve(i,i._pos,e,t)))return!1;if(s.algorithms.cs.encrypt=r,!1===(r=ve(i,i._pos,e,t)))return!1;if(s.algorithms.sc.encrypt=r,!1===(r=ve(i,i._pos,e,t)))return!1;if(s.algorithms.cs.mac=r,!1===(r=ve(i,i._pos,e,t)))return!1;if(s.algorithms.sc.mac=r,!1===(r=ve(i,i._pos,e,t)))return!1;if(s.algorithms.cs.compress=r,!1===(r=ve(i,i._pos,e,t)))return!1;if(s.algorithms.sc.compress=r,!1===(r=ve(i,i._pos,e,t)))return!1;if(s.languages.cs=r,!1===(r=ve(i,i._pos,e,t)))return!1;s.languages.sc=r;var o=i._pos<i.length&&1===i[i._pos];n.kexinit=i,e.emit("KEXINIT",s,o)}(e,t);if(L===b.CHANNEL_REQUEST)return function(e,t){var r,n,i,s,o,a,c,h=e._state.incoming.payload,l=g(h,1,e,t);if(!1===l)return!1;var f=d(h,5,"ascii",e,t);if(!1===f)return!1;if("exit-status"===f){var p=g(h,++h._pos,e,t);if(!1===p)return!1;r={recipient:l,request:f,wantReply:!1,code:p}}else if("exit-signal"===f){var m;if(e.remoteBugs&P.OLD_EXIT){if(!1===(c=g(h,++h._pos,e,t)))return!1;switch(c){case 1:c="HUP";break;case 2:c="INT";break;case 3:c="QUIT";break;case 6:c="ABRT";break;case 9:c="KILL";break;case 14:c="ALRM";break;case 15:c="TERM";break;default:c="UNKNOWN ("+c+")"}m=!1}else{if(!1===(c=d(h,++h._pos,"ascii",e,t)))return!1;if(void 0===(m=h[h._pos++]))return!1;m=0!==m}var _=d(h,h._pos,"utf8",e,t);if(!1===_)return!1;var y=d(h,h._pos,"utf8",e,t);if(!1===y)return!1;r={recipient:l,request:f,wantReply:!1,signal:c,coredump:m,description:_,lang:y}}else if("pty-req"===f){if(void 0===(a=h[h._pos++]))return!1;a=0!==a;var v=d(h,h._pos,"ascii",e,t);if(!1===v)return!1;if(!1===(n=g(h,h._pos,e,t)))return!1;if(!1===(i=g(h,h._pos+=4,e,t)))return!1;if(!1===(s=g(h,h._pos+=4,e,t)))return!1;if(!1===(o=g(h,h._pos+=4,e,t)))return!1;var E=d(h,h._pos+=4,e,t);if(!1===E)return!1;E=function(e){for(var t,r={},n=0,i=e.length;n<i&&!((t=e[n])===O.TTY_OP_END||void 0===O[t]||n+5>i);n+=5)r[O[t]]=u(e,n+1);return r}(E),r={recipient:l,request:f,wantReply:a,term:v,cols:n,rows:i,width:s,height:o,modes:E}}else if("window-change"===f){if(!1===(n=g(h,++h._pos,e,t)))return!1;if(!1===(i=g(h,h._pos+=4,e,t)))return!1;if(!1===(s=g(h,h._pos+=4,e,t)))return!1;if(!1===(o=g(h,h._pos+=4,e,t)))return!1;r={recipient:l,request:f,wantReply:!1,cols:n,rows:i,width:s,height:o}}else if("x11-req"===f){if(void 0===(a=h[h._pos++]))return!1;a=0!==a;var w=h[h._pos++];if(void 0===w)return!1;w=0!==w;var b=d(h,h._pos,"ascii",e,t);if(!1===b)return!1;var S=d(h,h._pos,"binary",e,t);if(!1===S)return!1;var T=g(h,h._pos,e,t);if(!1===T)return!1;r={recipient:l,request:f,wantReply:a,single:w,protocol:b,cookie:S,screen:T}}else if("env"===f){if(void 0===(a=h[h._pos++]))return!1;a=0!==a;var A=d(h,h._pos,"utf8",e,t);if(!1===A)return!1;var k=d(h,h._pos,"utf8",e,t);if(!1===k)return!1;r={recipient:l,request:f,wantReply:a,key:A,val:k}}else if("shell"===f){if(void 0===(a=h[h._pos]))return!1;r={recipient:l,request:f,wantReply:a=0!==a}}else if("exec"===f){if(void 0===(a=h[h._pos++]))return!1;a=0!==a;var C=d(h,h._pos,"utf8",e,t);if(!1===C)return!1;r={recipient:l,request:f,wantReply:a,command:C}}else if("subsystem"===f){if(void 0===(a=h[h._pos++]))return!1;a=0!==a;var R=d(h,h._pos,"utf8",e,t);if(!1===R)return!1;r={recipient:l,request:f,wantReply:a,subsystem:R}}else if("signal"===f){if(!1===(c=d(h,++h._pos,"ascii",e,t)))return!1;r={recipient:l,request:f,wantReply:!1,signal:"SIG"+c}}else if("xon-xoff"===f){var x=h[++h._pos];if(void 0===x)return!1;r={recipient:l,request:f,wantReply:!1,clientControl:x=0!==x}}else if("auth-agent-req@openssh.com"===f){if(void 0===(a=h[h._pos]))return!1;r={recipient:l,request:f,wantReply:a=0!==a}}else{if(void 0===(a=h[h._pos]))return!1;r={recipient:l,request:f,wantReply:a=0!==a}}e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_REQUEST ("+l+", "+f+")"),e.emit("CHANNEL_REQUEST:"+l,r)}(e,t);if(L>=30&&L<=49)return function(e,t,r){var n=e._state,i=n.incoming,s=i.payload,o=J.test(n.kexdh)?S[t]:T[t];if(n.outgoing.status===q||i.expectedPacket!==o){return e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, expected: "+i.expectedPacket+" but got: "+o),e.disconnect(k.PROTOCOL_ERROR),(a=new Error("Received unexpected packet")).level="protocol",e.emit("error",a),!1}if(J.test(n.kexdh)){var a;if(e.server)return e.disconnect(k.PROTOCOL_ERROR),(a=new Error("DH group exchange not supported by server")).level="handshake",e.emit("error",a),!1;if(t===b.KEXDH_GEX_GROUP){var c=d(s,1,e,r);if(!1===c)return!1;var u=d(s,s._pos,e,r);if(!1===u)return!1;e.emit("KEXDH_GEX_GROUP",c,u)}else if(t===b.KEXDH_GEX_REPLY)return ge(e,r)}else if(t===b.KEXDH_INIT){var h=d(s,1,e,r);if(!1===h)return!1;e.emit("KEXDH_INIT",h)}else if(t===b.KEXDH_REPLY)return ge(e,r)}(e,L,t);if(L>=60&&L<=70)return function(e,t,r){var n,i,s,o=e._state,a=o.authsQueue[0],c=o.incoming.payload;if("password"===a){if(t===b.USERAUTH_PASSWD_CHANGEREQ){if(!1===(n=d(c,1,"utf8",e,r)))return!1;if(!1===(i=d(c,c._pos,"utf8",e,r)))return!1;e.emit("USERAUTH_PASSWD_CHANGEREQ",n,i)}}else if("keyboard-interactive"===a){if(t===b.USERAUTH_INFO_REQUEST){var u,h,l;if(!1===(u=d(c,1,"utf8",e,r)))return!1;if(!1===(h=d(c,c._pos,"utf8",e,r)))return!1;if(!1===(i=d(c,c._pos,"utf8",e,r)))return!1;if(!1===(l=g(c,c._pos,e,r)))return!1;c._pos+=4;for(var f=[],p=0;p<l;++p){if(!1===(s=d(c,c._pos,"utf8",e,r)))return!1;var m=c[c._pos++];if(void 0===m)return!1;m=0!==m,f.push({prompt:s,echo:m})}e.emit("USERAUTH_INFO_REQUEST",u,h,i,f)}else if(t===b.USERAUTH_INFO_RESPONSE){var _=g(c,1,e,r);if(!1===_)return!1;c._pos=5;for(var y=[],v=0;v<_;++v){if(!1===(s=d(c,c._pos,"utf8",e,r)))return!1;y.push(s)}e.emit("USERAUTH_INFO_RESPONSE",y)}}else if("publickey"===a){if(t===b.USERAUTH_PK_OK){var E=e._state.authsQueue;if(!E.length||"publickey"!==E[0])return;E.shift(),e.emit("USERAUTH_PK_OK")}}else if(void 0!==a){e.disconnect(k.PROTOCOL_ERROR);var w=new Error("Invalid authentication method: "+a);w.level="protocol",e.emit("error",w)}}(e,L,t);var me=Buffer.allocUnsafe(5);me[0]=b.UNIMPLEMENTED,h(me,N,1),Te(e,me)}}function ge(e,t){var r=e._state.incoming.payload,n=d(r,1,e,t);if(!1===n)return!1;var i=d(r,r._pos,e,t);if(!1===i)return!1;var s=d(r,r._pos,e,t);if(!1===s)return!1;var o={hostkey:n,hostkey_format:void 0,pubkey:i,sig:s,sig_format:void 0},a=d(n,0,"ascii",e,t);if(!1===a)return!1;o.hostkey_format=a;var c=d(s,0,"ascii",e,t);if(!1===c)return!1;o.sig_format=c,e.emit("KEXDH_REPLY",o)}function me(e,t){var r=e._state.incoming,i=r.hmac;if(e.debug("DEBUG: Parser: Verifying MAC"),r.decrypt.info.authLen>0){var s=r.decrypt,o=s.instance;o.setAuthTag(t);var a=o.update(r.packet);return r.payload=a.slice(1,r.packet.length-a[0]),p(s.iv),s.instance=n.createDecipheriv(R[s.type],s.key,s.iv),s.instance.setAutoPadding(!1),!0}var c=n.createHmac(R[i.type],i.key);h(ne,r.seqno,0),h(ne,r.pktLen,4),ne[8]=r.padLen,c.update(ne),c.update(r.packet);var u=c.digest();return u.length>r.hmac.info.actualLen&&(u=u.slice(0,r.hmac.info.actualLen)),Oe(u,t)}function _e(e,t){var r=e._state.incoming.decrypt.instance;return e.debug("DEBUG: Parser: Decrypting"),r.update(t)}function ye(e,t,r,n){var i=e._state.incoming.expect;i.amount=r,i.type=t,i.ptr=0,n?i.buf=n:r&&(i.buf=Buffer.allocUnsafe(r))}function ve(e,t,r,n){var i=d(e,t,"ascii",r,n);return!1!==i&&(i.length?i.split(","):[])}function Ee(e,t){return function(e,t){n.randomBytes(e,(function r(i,s){if(i)return n.randomBytes(e,r);t&&t(s)}))}(16,(function(r){var n=e.config.algorithms,i=n.kexBuf;if(e.remoteBugs&P.BAD_DHGEX){for(var s=!1,o=n.kex,a=o.length-1;a>=0;--a)-1!==o[a].indexOf("group-exchange")&&(s||(o=o.slice(),s=!0),o.splice(a,1));s&&(i=Buffer.from(o.join(",")))}var c=n.serverHostKeyBuf,u=21+i.length+4+c.length+2*(4+n.cipherBuf.length)+2*(4+n.hmacBuf.length)+2*(4+n.compressBuf.length)+8+1+4,l=Buffer.allocUnsafe(u),f=17;l[0]=b.KEXINIT,!1!==r&&r.copy(l,1),h(l,i.length,f),f+=4,i.copy(l,f),f+=i.length,h(l,c.length,f),f+=4,c.copy(l,f),f+=c.length,h(l,n.cipherBuf.length,f),f+=4,n.cipherBuf.copy(l,f),f+=n.cipherBuf.length,h(l,n.cipherBuf.length,f),f+=4,n.cipherBuf.copy(l,f),f+=n.cipherBuf.length,h(l,n.hmacBuf.length,f),f+=4,n.hmacBuf.copy(l,f),f+=n.hmacBuf.length,h(l,n.hmacBuf.length,f),f+=4,n.hmacBuf.copy(l,f),f+=n.hmacBuf.length,h(l,n.compressBuf.length,f),f+=4,n.compressBuf.copy(l,f),f+=n.compressBuf.length,h(l,n.compressBuf.length,f),f+=4,n.compressBuf.copy(l,f),f+=n.compressBuf.length,l.fill(0,l.length-13),e.debug("DEBUG: Outgoing: Writing KEXINIT"),e._state.incoming.expectedPacket="KEXINIT";var p=e._state.outgoing;p.kexinit=l,p.status===q&&(p.status=Y),Te(e,l,t,!0)})),!0}function we(e){var t=e._state,r=t.outgoing,n=Buffer.allocUnsafe(5+r.pubkey.length);return J.test(t.kexdh)?(t.incoming.expectedPacket="KEXDH_GEX_REPLY",n[0]=b.KEXDH_GEX_INIT,e.debug("DEBUG: Outgoing: Writing KEXDH_GEX_INIT")):(t.incoming.expectedPacket="KEXDH_REPLY",n[0]=b.KEXDH_INIT,"group"!==t.kexdh?e.debug("DEBUG: Outgoing: Writing KEXECDH_INIT"):e.debug("DEBUG: Outgoing: Writing KEXDH_INIT")),h(n,r.pubkey.length,1),r.pubkey.copy(n,5),Te(e,n,void 0,!0)}function be(e,t,r){var n=e._state.outgoing.compress.instance;n.write(t),n.flush(X,Se.bind(e,r))}function Se(e){if(!this._readableState.ended&&!this._writableState.ended){Ae(this,this._state.outgoing.compress.instance.read(),e);var t=this._state.outgoing.compress.queue;t.shift(),t.length>0&&be(this,t[0][0],t[0][1])}}function Te(e,t,r,n){var i=e._state;if(!i)return!1;var s=i.outgoing;if(s.status===Y&&!n)return"function"==typeof r?s.rekeyQueue.push([t,r]):s.rekeyQueue.push(t),!1;if(e._readableState.ended||e._writableState.ended)return!1;if(s.compress.instance){var o=s.compress.queue;return o.push([t,r]),1===o.length&&be(e,o[0][0],o[0][1]),!0}return Ae(e,t,r)}function Ae(e,t,r){var i,s,o,a,c,u=e._state.outgoing,l=u.encrypt,f=u.hmac;if(i=t.length+9,!1!==l.instance)if(l.info.authLen>0){for(var d=1+t.length+4;d%l.info.blockLen!=0;)++d;s=d-1-t.length,i=4+d}else{var g=l.info.blockLen;s=(i+=(g-1)*i%g)-t.length-5}else s=(i+=7*i%8)-t.length-5;o=Buffer.allocUnsafe(i),h(o,i-4,0),o[4]=s,t.copy(o,5),ke(o,5+t.length,s),!1!==f.type&&f.key&&(a=n.createHmac(R[f.type],f.key),h(u.bufSeqno,u.seqno,0),a.update(u.bufSeqno),a.update(o),(a=a.digest()).length>f.info.actualLen&&(a=a.slice(0,f.info.actualLen)));var m,_=0;if(!1!==l.instance)if(l.info.authLen>0){var y=n.createCipheriv(R[l.type],l.key,l.iv);y.setAutoPadding(!1);var v=o.slice(0,4);y.setAAD(v),e.push(v),_+=v,m=y.update(o.slice(4)),e.push(m),_+=m.length;var E=y.final();E.length&&(e.push(E),_+=E.length);var w=y.getAuthTag();c=e.push(w),_+=w.length,p(l.iv)}else m=l.instance.update(o),e.push(m),_+=m.length,c=e.push(a),_+=a.length;else c=e.push(o),_=o.length;return e.bytesSent+=_,++u.seqno>K&&(u.seqno=0),r&&r(),c}o(fe,s),fe.prototype.__read=s.prototype._read,fe.prototype._read=function(e){return this._needContinue&&(this._needContinue=!1,this.emit("continue")),this.__read(e)},fe.prototype.__push=s.prototype.push,fe.prototype.push=function(e,t){var r=this.__push(e,t);return this._needContinue=!1===r,r},fe.prototype._cleanup=function(e){this.reset(),this.debug("DEBUG: Parser: Malformed packet"),e&&e(new Error("Malformed packet"))},fe.prototype._transform=function(e,t,r,n){var i,s,o,u,h=!1,l=!1,f=this._state,p=f.incoming,d=f.outgoing,m=p.expect,_=p.decrypt,y=p.decompress,v=e.length,E=0,w=this.debug,S=this,T=0,A=T;for(this.bytesReceived+=v;;){if(void 0!==m.type){if(T>=v)break;if(m.type===V){E=v-T;var C=m.buf.length-m.ptr;C<=E?(e.copy(m.buf,m.ptr,T,T+C),T+=C,s=m.buf,m.buf=void 0,m.ptr=0,m.type=void 0):(e.copy(m.buf,m.ptr,T),m.ptr+=E,T+=E);continue}if(0===m.type){if(T+=p.search.push(e),void 0!==m.type)continue}else if(1===m.type){if(++m.ptr+4>255)return this.reset(),w("DEBUG: Parser: Identification string exceeded 255 characters"),r(new Error("Max identification string size exceeded"));if(10!==e[T]){++T===v&&A<T&&(void 0===m.buf?m.buf=e.toString("ascii",A,T):m.buf+=e.toString("ascii",A,T));continue}m.type=void 0,A<T&&(void 0===m.buf?m.buf=e.toString("ascii",A,T):m.buf+=e.toString("ascii",A,T)),s=m.buf,m.buf=void 0,++T}}if(p.status===I){if(!this.readable)return r();if(this.server)if(s){if(83!==s[0]||83!==s[1]||72!==s[2]||45!==s[3])return this.reset(),w("DEBUG: Parser: Bad identification start"),r(new Error("Bad identification start"));p.status=B,w("DEBUG: Parser: IN_INIT (waiting for rest of identification)")}else w("DEBUG: Parser: IN_INIT (waiting for identification begin)"),ye(this,V,4);else{w("DEBUG: Parser: IN_INIT");var R=p.search=new c(te);R.on("info",(function e(t,r,n,i){r&&(void 0===p.greeting?p.greeting=r.toString("binary",n,i):p.greeting+=r.toString("binary",n,i)),t&&(m.type=void 0,p.search.removeListener("info",e))})),R.maxMatches=1,ye(this,0),p.status=B}}else if(p.status===B)w("DEBUG: Parser: IN_GREETING"),p.search=void 0,A=T,ye(this,1),p.status=M;else{if(p.status===M){w("DEBUG: Parser: IN_HEADER"),13===s.charCodeAt(s.length-1)&&(s=s.slice(0,-1));var O=s.indexOf("-"),x=s.indexOf(" "),P={greeting:p.greeting,identRaw:"SSH-"+s,versions:{protocol:s.substr(0,O),software:-1===x?s.substring(O+1):s.substring(O+1,x)},comments:x>-1?s.substring(x+1):void 0};if(p.greeting=void 0,"1.99"!==P.versions.protocol&&"2.0"!==P.versions.protocol)return this.reset(),w("DEBUG: Parser: protocol version not supported: "+P.versions.protocol),r(new Error("Protocol version not supported"));if(this.emit("header",P),p.status===I)return;var D=P.identRaw,U=P.versions.software;this.debug("DEBUG: Remote ident: "+a(D));for(var j,Q=0;Q<L;++Q)"string"==typeof(j=N[Q])[0]?U===j[0]&&(this.remoteBugs|=j[1]):j[0].test(U)&&(this.remoteBugs|=j[1]);return p.identRaw=D,this.bytesReceived-=v-T,Ee(this,(function(){T===v?r():S._transform(e.slice(T),t,r)})),void(p.status=H)}if(p.status===H)w("DEBUG: Parser: IN_PACKETBEFORE (expecting "+(i=_.instance?_.info.blockLen:8)+")"),ye(this,V,i,_.buf),p.status=F;else if(p.status===F){if(w("DEBUG: Parser: IN_PACKET"),_.instance?((l=_.info.authLen>0)||(s=_e(this,s)),i=_.info.blockLen):(l=!1,i=8),!1===(u=g(s,0,this,r)))return;var z,Z=p.hmac.info,J=u+4+(z=Z?Z.actualLen:0),ee=this.maxPacketSize;if(y.instance&&(ee+=5*(this.maxPacketSize/16384+1)+6),u>ee||J<16+z||(u+(l?0:4))%i!=0)return this.disconnect(k.PROTOCOL_ERROR),w("DEBUG: Parser: Bad packet length ("+J+")"),r(new Error("Bad packet length"));p.pktLen=u;var ne=p.pktLen+4-i;if(l?(_.instance.setAAD(s.slice(0,4)),w("DEBUG: Parser: pktLen:"+p.pktLen+",remainLen:"+ne)):(p.padLen=s[4],w("DEBUG: Parser: pktLen:"+p.pktLen+",padLen:"+p.padLen+",remainLen:"+ne)),ne>0)p.pktExtra=l?s.slice(4):s.slice(5),ye(this,V,ne),p.status=G;else{if(!(ne<0)){h=!0,p.status=G;continue}p.status=H}}else if(p.status===G){w("DEBUG: Parser: IN_PACKETDATA"),_.instance?(l=_.info.authLen>0,h?h=!1:l||(s=_e(this,s))):(l=!1,h=!1);var ie=p.pktLen-p.padLen-1;if(p.pktExtra?(o=Buffer.allocUnsafe(p.pktExtra.length+s.length),p.pktExtra.copy(o),s.copy(o,p.pktExtra.length),p.payload=o.slice(0,ie)):(o=l?s.slice(4):s.slice(5),p.payload=s.slice(5,5+ie)),void 0!==p.hmac.info){var se=_.info.authLen||p.hmac.info.actualLen;w("DEBUG: Parser: HMAC size:"+se),ye(this,V,se,p.hmac.buf),p.status=$,p.packet=o}else p.status=W;p.pktExtra=void 0,o=void 0}else if(p.status===$){if(w("DEBUG: Parser: IN_PACKETDATAVERIFY"),!me(this,s))return this.reset(),w("DEBUG: Parser: IN_PACKETDATAVERIFY (Invalid HMAC)"),r(new Error("Invalid HMAC"));w("DEBUG: Parser: IN_PACKETDATAVERIFY (Valid HMAC)"),p.status=W,p.packet=void 0}else if(p.status===W){if(y.instance){if(!n){w("DEBUG: Parser: Decompressing"),y.instance.write(p.payload);var oe=[],ae=0;return void y.instance.on("readable",(function(){for(var e;e=this.read();)oe.push(e),ae+=e.length})).flush(X,(function(){var n;y.instance.removeAllListeners("readable"),1===oe.length?p.payload=oe[0]:p.payload=Buffer.concat(oe,ae),oe=null,n=T===v?re:e.slice(T),S._transform(n,t,r,!0)}))}n=!1}this.emit("packet");var ce=p.payload[0];if(w!==le){var ue="DEBUG: Parser: IN_PACKETDATAAFTER, packet: ",he=f.kexdh,fe=f.authsQueue[0],pe=null;d.status!==Y||ce<=4||ce>=20&&ce<=49||(ue+="(enqueued) "),ce===b.KEXDH_INIT?pe="group"===he?"KEXDH_INIT":"e"===he[0]?"KEXECDH_INIT":"KEXDH_GEX_REQUEST":ce===b.KEXDH_REPLY?pe="group"===he?"KEXDH_REPLY":"e"===he[0]?"KEXECDH_REPLY":"KEXDH_GEX_GROUP":ce===b.KEXDH_GEX_GROUP?pe="KEXDH_GEX_GROUP":ce===b.KEXDH_GEX_REPLY?pe="KEXDH_GEX_REPLY":60===ce?pe="password"===fe?"USERAUTH_PASSWD_CHANGEREQ":"keyboard-interactive"===fe?"USERAUTH_INFO_REQUEST":"publickey"===fe?"USERAUTH_PK_OK":"UNKNOWN PACKET 60":61===ce&&(pe="keyboard-interactive"===fe?"USERAUTH_INFO_RESPONSE":"UNKNOWN PACKET 61"),null===pe&&(pe=b[ce]),ce!==b.CHANNEL_OPEN&&ce!==b.CHANNEL_REQUEST&&ce!==b.CHANNEL_SUCCESS&&ce!==b.CHANNEL_FAILURE&&ce!==b.CHANNEL_EOF&&ce!==b.CHANNEL_CLOSE&&ce!==b.CHANNEL_DATA&&ce!==b.CHANNEL_EXTENDED_DATA&&ce!==b.CHANNEL_WINDOW_ADJUST&&ce!==b.DISCONNECT&&ce!==b.USERAUTH_REQUEST&&ce!==b.GLOBAL_REQUEST&&w(ue+pe)}if(d.status===q||ce<=4||ce>=20&&ce<=49){if(!1===de(this,r))return;if(p.status===I)return}else if(d.status===Y){if(50===p.rekeyQueue.length)return w("DEBUG: Parser: Max incoming re-key queue length reached"),this.disconnect(k.PROTOCOL_ERROR),r(new Error("Incoming re-key queue length limit reached"));var ge=p.seqno;++p.seqno>K&&(p.seqno=0),p.rekeyQueue.push([ge,p.payload])}p.status=H,p.payload=void 0}}void 0!==s&&(s=void 0)}r()},fe.prototype.reset=function(e){if(this._state){var t=this._state;t.incoming.status=I,t.outgoing.status=j}else this._state={authsQueue:[],hostkeyFormat:void 0,kex:void 0,kexdh:void 0,incoming:{status:I,expectedPacket:void 0,search:void 0,greeting:void 0,seqno:0,pktLen:void 0,padLen:void 0,pktExtra:void 0,payload:void 0,packet:void 0,kexinit:void 0,identRaw:void 0,rekeyQueue:[],ignoreNext:!1,expect:{amount:void 0,type:void 0,ptr:0,buf:void 0},decrypt:{instance:!1,info:void 0,iv:void 0,key:void 0,buf:void 0,type:void 0},hmac:{info:void 0,key:void 0,buf:void 0,type:!1},decompress:{instance:!1,type:!1}},outgoing:{status:j,seqno:0,bufSeqno:Buffer.allocUnsafe(4),rekeyQueue:[],kexinit:void 0,kexsecret:void 0,pubkey:void 0,exchangeHash:void 0,sessionId:void 0,sentNEWKEYS:!1,encrypt:{instance:!1,info:void 0,iv:void 0,key:void 0,type:void 0},hmac:{info:void 0,key:void 0,buf:void 0,type:!1},compress:{instance:!1,type:!1,queue:null}}};e||this.readable&&this.push(null)},fe.prototype.disconnect=function(e){var t=Buffer.alloc(13);return t[0]=b.DISCONNECT,void 0===k[e]&&(e=k.BY_APPLICATION),h(t,e,1),this.debug("DEBUG: Outgoing: Writing DISCONNECT ("+k[e]+")"),Te(this,t),this.reset(),!1},fe.prototype.ping=function(){return this.debug("DEBUG: Outgoing: Writing ping (GLOBAL_REQUEST: keepalive@openssh.com)"),Te(this,ie)},fe.prototype.rekey=function(){var e=this._state.outgoing.status;if(e===Y)throw new Error("A re-key is already in progress");if(e!==q)throw new Error("Cannot re-key yet");return this.debug("DEBUG: Outgoing: Starting re-key"),Ee(this)},fe.prototype.requestSuccess=function(e){var t;return Buffer.isBuffer(e)?((t=Buffer.allocUnsafe(1+e.length))[0]=b.REQUEST_SUCCESS,e.copy(t,1)):t=ae,this.debug("DEBUG: Outgoing: Writing REQUEST_SUCCESS"),Te(this,t)},fe.prototype.requestFailure=function(){return this.debug("DEBUG: Outgoing: Writing REQUEST_FAILURE"),Te(this,ce)},fe.prototype.channelSuccess=function(e){var t=Buffer.allocUnsafe(5);return t[0]=b.CHANNEL_SUCCESS,h(t,e,1),this.debug("DEBUG: Outgoing: Writing CHANNEL_SUCCESS ("+e+")"),Te(this,t)},fe.prototype.channelFailure=function(e){var t=Buffer.allocUnsafe(5);return t[0]=b.CHANNEL_FAILURE,h(t,e,1),this.debug("DEBUG: Outgoing: Writing CHANNEL_FAILURE ("+e+")"),Te(this,t)},fe.prototype.channelEOF=function(e){var t=Buffer.allocUnsafe(5);return t[0]=b.CHANNEL_EOF,h(t,e,1),this.debug("DEBUG: Outgoing: Writing CHANNEL_EOF ("+e+")"),Te(this,t)},fe.prototype.channelClose=function(e){var t=Buffer.allocUnsafe(5);return t[0]=b.CHANNEL_CLOSE,h(t,e,1),this.debug("DEBUG: Outgoing: Writing CHANNEL_CLOSE ("+e+")"),Te(this,t)},fe.prototype.channelWindowAdjust=function(e,t){var r=Buffer.allocUnsafe(9);return r[0]=b.CHANNEL_WINDOW_ADJUST,h(r,e,1),h(r,t,5),this.debug("DEBUG: Outgoing: Writing CHANNEL_WINDOW_ADJUST ("+e+", "+t+")"),Te(this,r)},fe.prototype.channelData=function(e,t){var r=Buffer.isBuffer(t),n=r?t.length:Buffer.byteLength(t),i=Buffer.allocUnsafe(9+n);return i[0]=b.CHANNEL_DATA,h(i,e,1),h(i,n,5),r?t.copy(i,9):i.write(t,9,n,"utf8"),this.debug("DEBUG: Outgoing: Writing CHANNEL_DATA ("+e+")"),Te(this,i)},fe.prototype.channelExtData=function(e,t,r){var n=Buffer.isBuffer(t),i=n?t.length:Buffer.byteLength(t),s=Buffer.allocUnsafe(13+i);return s[0]=b.CHANNEL_EXTENDED_DATA,h(s,e,1),h(s,r,5),h(s,i,9),n?t.copy(s,13):s.write(t,13,i,"utf8"),this.debug("DEBUG: Outgoing: Writing CHANNEL_EXTENDED_DATA ("+e+")"),Te(this,s)},fe.prototype.channelOpenConfirm=function(e,t,r,n){var i=Buffer.allocUnsafe(17);return i[0]=b.CHANNEL_OPEN_CONFIRMATION,h(i,e,1),h(i,t,5),h(i,r,9),h(i,n,13),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN_CONFIRMATION (r:"+e+", l:"+t+")"),Te(this,i)},fe.prototype.channelOpenFail=function(e,t,r,n){"string"!=typeof r&&(r=""),"string"!=typeof n&&(n="");var i=Buffer.byteLength(r),s=Buffer.byteLength(n),o=9,a=Buffer.allocUnsafe(13+i+4+s);return a[0]=b.CHANNEL_OPEN_FAILURE,h(a,e,1),h(a,t,5),h(a,i,o),o+=4,i&&(a.write(r,o,i,"utf8"),o+=i),h(a,s,o),s&&a.write(n,o+=4,s,"ascii"),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN_FAILURE ("+e+")"),Te(this,a)},fe.prototype.service=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t=Buffer.byteLength(e),r=Buffer.allocUnsafe(5+t);return r[0]=b.SERVICE_REQUEST,h(r,t,1),r.write(e,5,t,"ascii"),this.debug("DEBUG: Outgoing: Writing SERVICE_REQUEST ("+e+")"),Te(this,r)},fe.prototype.tcpipForward=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(e),i=Buffer.allocUnsafe(23+n+4);return i[0]=b.GLOBAL_REQUEST,h(i,13,1),i.write("tcpip-forward",5,13,"ascii"),i[18]=void 0===r||!0===r?1:0,h(i,n,19),i.write(e,23,n,"ascii"),h(i,t,23+n),this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (tcpip-forward)"),Te(this,i)},fe.prototype.cancelTcpipForward=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(e),i=Buffer.allocUnsafe(30+n+4);return i[0]=b.GLOBAL_REQUEST,h(i,20,1),i.write("cancel-tcpip-forward",5,20,"ascii"),i[25]=void 0===r||!0===r?1:0,h(i,n,26),i.write(e,30,n,"ascii"),h(i,t,30+n),this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (cancel-tcpip-forward)"),Te(this,i)},fe.prototype.openssh_streamLocalForward=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(e),n=Buffer.allocUnsafe(41+r);return n[0]=b.GLOBAL_REQUEST,h(n,31,1),n.write("streamlocal-forward@openssh.com",5,31,"ascii"),n[36]=void 0===t||!0===t?1:0,h(n,r,37),n.write(e,41,r,"utf8"),this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (streamlocal-forward@openssh.com)"),Te(this,n)},fe.prototype.openssh_cancelStreamLocalForward=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(e),n=Buffer.allocUnsafe(48+r);return n[0]=b.GLOBAL_REQUEST,h(n,38,1),n.write("cancel-streamlocal-forward@openssh.com",5,38,"ascii"),n[43]=void 0===t||!0===t?1:0,h(n,r,44),n.write(e,48,r,"utf8"),this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (cancel-streamlocal-forward@openssh.com)"),Te(this,n)},fe.prototype.directTcpip=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i=Buffer.byteLength(n.srcIP),s=Buffer.byteLength(n.dstIP),o=29,a=Buffer.allocUnsafe(33+i+4+4+s+4);return a[0]=b.CHANNEL_OPEN,h(a,12,1),a.write("direct-tcpip",5,12,"ascii"),h(a,e,17),h(a,t,21),h(a,r,25),h(a,s,o),a.write(n.dstIP,o+=4,s,"ascii"),h(a,n.dstPort,o+=s),h(a,i,o+=4),a.write(n.srcIP,o+=4,i,"ascii"),h(a,n.srcPort,o+=i),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", direct-tcpip)"),Te(this,a)},fe.prototype.openssh_directStreamLocal=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i=Buffer.byteLength(n.socketPath),s=47,o=Buffer.allocUnsafe(51+i+4+4);return o[0]=b.CHANNEL_OPEN,h(o,30,1),o.write("direct-streamlocal@openssh.com",5,30,"ascii"),h(o,e,35),h(o,t,39),h(o,r,43),h(o,i,s),o.write(n.socketPath,s+=4,i,"utf8"),o.fill(0,o.length-8),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", direct-streamlocal@openssh.com)"),Te(this,o)},fe.prototype.openssh_noMoreSessions=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t=Buffer.allocUnsafe(34);return t[0]=b.GLOBAL_REQUEST,h(t,28,1),t.write("no-more-sessions@openssh.com",5,28,"ascii"),t[33]=void 0===e||!0===e?1:0,this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (no-more-sessions@openssh.com)"),Te(this,t)},fe.prototype.session=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.allocUnsafe(24);return n[0]=b.CHANNEL_OPEN,h(n,7,1),n.write("session",5,7,"ascii"),h(n,e,12),h(n,t,16),h(n,r,20),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", session)"),Te(this,n)},fe.prototype.windowChange=function(e,t,r,n,i){if(this.server)throw new Error("Client-only method called in server mode");var s=Buffer.allocUnsafe(39);return s[0]=b.CHANNEL_REQUEST,h(s,e,1),h(s,13,5),s.write("window-change",9,13,"ascii"),s[22]=0,h(s,r,23),h(s,t,27),h(s,i,31),h(s,n,35),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", window-change)"),Te(this,s)},fe.prototype.pty=function(e,t,r,n,i,s,o,a){if(this.server)throw new Error("Client-only method called in server mode");s&&s.length||(s="vt100"),!o||Buffer.isBuffer(o)||Array.isArray(o)||"object"!=typeof o||(o=function(e){for(var t,r,n,i=/^\d+$/,s=Object.keys(e),o=0,a=[],c=0,u=s.length;c<u;++c)t=s[c],(r=O[t])&&!i.test(t)&&"number"==typeof e[t]&&"TTY_OP_END"!==t&&(n=e[t],a[o++]=r,a[o++]=n>>>24&255,a[o++]=n>>>16&255,a[o++]=n>>>8&255,a[o++]=255&n);return a[o]=O.TTY_OP_END,a}(o)),o&&o.length||(o=ue);var c=s.length,u=o.length,l=21,f=Buffer.allocUnsafe(21+c+4+4+4+4+4+u);if(f[0]=b.CHANNEL_REQUEST,h(f,e,1),h(f,7,5),f.write("pty-req",9,7,"ascii"),f[16]=void 0===a||!0===a?1:0,h(f,c,17),f.write(s,21,c,"utf8"),h(f,r,l+=c),h(f,t,l+=4),h(f,i,l+=4),h(f,n,l+=4),h(f,u,l+=4),l+=4,Array.isArray(o))for(var p=0;p<u;++p)f[l++]=o[p];else Buffer.isBuffer(o)&&o.copy(f,l);return this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", pty-req)"),Te(this,f)},fe.prototype.shell=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.allocUnsafe(15);return r[0]=b.CHANNEL_REQUEST,h(r,e,1),h(r,5,5),r.write("shell",9,5,"ascii"),r[14]=void 0===t||!0===t?1:0,this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", shell)"),Te(this,r)},fe.prototype.exec=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.isBuffer(t)?t.length:Buffer.byteLength(t),i=Buffer.allocUnsafe(18+n);return i[0]=b.CHANNEL_REQUEST,h(i,e,1),h(i,4,5),i.write("exec",9,4,"ascii"),i[13]=void 0===r||!0===r?1:0,h(i,n,14),Buffer.isBuffer(t)?t.copy(i,18):i.write(t,18,n,"utf8"),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", exec)"),Te(this,i)},fe.prototype.signal=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");if("SIG"===(t=t.toUpperCase()).slice(0,3)&&(t=t.substring(3)),-1===x.indexOf(t))throw new Error("Invalid signal: "+t);var r=t.length,n=Buffer.allocUnsafe(20+r);return n[0]=b.CHANNEL_REQUEST,h(n,e,1),h(n,6,5),n.write("signal",9,6,"ascii"),n[15]=0,h(n,r,16),n.write(t,20,r,"ascii"),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", signal)"),Te(this,n)},fe.prototype.env=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i=Buffer.byteLength(t),s=Buffer.isBuffer(r)?r.length:Buffer.byteLength(r),o=Buffer.allocUnsafe(17+i+4+s);return o[0]=b.CHANNEL_REQUEST,h(o,e,1),h(o,3,5),o.write("env",9,3,"ascii"),o[12]=void 0===n||!0===n?1:0,h(o,i,13),o.write(t,17,i,"ascii"),h(o,s,17+i),Buffer.isBuffer(r)?r.copy(o,17+i+4):o.write(r,17+i+4,s,"utf8"),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", env)"),Te(this,o)},fe.prototype.x11Forward=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(t.protocol),i=Buffer.byteLength(t.cookie),s=Buffer.allocUnsafe(22+n+4+i+4);s[0]=b.CHANNEL_REQUEST,h(s,e,1),h(s,7,5),s.write("x11-req",9,7,"ascii"),s[16]=void 0===r||!0===r?1:0,s[17]=t.single?1:0,h(s,n,18);var o=22;return Buffer.isBuffer(t.protocol)?t.protocol.copy(s,o):s.write(t.protocol,o,n,"utf8"),h(s,i,o+=n),o+=4,Buffer.isBuffer(t.cookie)?t.cookie.copy(s,o):s.write(t.cookie,o,i,"binary"),o+=i,h(s,t.screen||0,o),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", x11-req)"),Te(this,s)},fe.prototype.subsystem=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(t),i=Buffer.allocUnsafe(23+n);return i[0]=b.CHANNEL_REQUEST,h(i,e,1),h(i,9,5),i.write("subsystem",9,9,"ascii"),i[18]=void 0===r||!0===r?1:0,h(i,n,19),i.write(t,23,n,"ascii"),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", subsystem: "+t+")"),Te(this,i)},fe.prototype.openssh_agentForward=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.allocUnsafe(36);return r[0]=b.CHANNEL_REQUEST,h(r,e,1),h(r,26,5),r.write("auth-agent-req@openssh.com",9,26,"ascii"),r[35]=void 0===t||!0===t?1:0,this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", auth-agent-req@openssh.com)"),Te(this,r)},fe.prototype.authPassword=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(e),n=Buffer.byteLength(t),i=0,s=Buffer.allocUnsafe(5+r+4+14+4+8+1+4+n);return s[i]=b.USERAUTH_REQUEST,h(s,r,++i),s.write(e,i+=4,r,"utf8"),h(s,14,i+=r),s.write("ssh-connection",i+=4,14,"ascii"),h(s,8,i+=14),s.write("password",i+=4,8,"ascii"),s[i+=8]=0,h(s,n,++i),s.write(t,i+=4,n,"utf8"),this._state.authsQueue.push("password"),this.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (password)"),Te(this,s)},fe.prototype.authPK=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n,i=this,s=this._state.outgoing;"function"==typeof t.getPublicSSH?(n=t.type,t=t.getPublicSSH()):n=t.toString("ascii",4,4+u(t,0));var o=Buffer.byteLength(e),a=Buffer.byteLength(n),c=t.length,l=s.sessionId.length,f=0,p=Buffer.allocUnsafe((r?4+l:0)+1+4+o+4+14+4+9+1+4+a+4+c);return r?(h(p,l,f),s.sessionId.copy(p,f+=4),p[f+=l]=b.USERAUTH_REQUEST):p[f]=b.USERAUTH_REQUEST,h(p,o,++f),p.write(e,f+=4,o,"utf8"),h(p,14,f+=o),p.write("ssh-connection",f+=4,14,"ascii"),h(p,9,f+=14),p.write("publickey",f+=4,9,"ascii"),p[f+=9]=r?1:0,h(p,a,++f),p.write(n,f+=4,a,"ascii"),h(p,c,f+=a),t.copy(p,f+=4),r?(r(p,(function(r){if(!1===(r=Re(r,n)))throw new Error("Error while converting handshake signature");var s=r.length,u=Buffer.allocUnsafe(5+o+4+14+4+9+1+4+a+4+c+4+4+a+4+s);return u[f=0]=b.USERAUTH_REQUEST,h(u,o,++f),u.write(e,f+=4,o,"utf8"),h(u,14,f+=o),u.write("ssh-connection",f+=4,14,"ascii"),h(u,9,f+=14),u.write("publickey",f+=4,9,"ascii"),u[f+=9]=1,h(u,a,++f),u.write(n,f+=4,a,"ascii"),h(u,c,f+=a),t.copy(u,f+=4),h(u,4+a+4+s,f+=c),h(u,a,f+=4),u.write(n,f+=4,a,"ascii"),h(u,s,f+=a),r.copy(u,f+=4),i._state.authsQueue.push("publickey"),i.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (publickey)"),Te(i,u)})),!0):(this._state.authsQueue.push("publickey"),this.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (publickey -- check)"),Te(this,p))},fe.prototype.authHostbased=function(e,t,r,n,i){if(this.server)throw new Error("Client-only method called in server mode");var s,o=this,a=this._state.outgoing;"function"==typeof t.getPublicSSH?(s=t.type,t=t.getPublicSSH()):s=t.toString("ascii",4,4+u(t,0));var c=Buffer.byteLength(e),l=Buffer.byteLength(s),f=t.length,p=a.sessionId.length,d=Buffer.byteLength(r),g=Buffer.byteLength(n),m=0,_=Buffer.allocUnsafe(4+p+1+4+c+4+14+4+9+4+l+4+f+4+d+4+g);return h(_,p,m),a.sessionId.copy(_,m+=4),_[m+=p]=b.USERAUTH_REQUEST,h(_,c,++m),_.write(e,m+=4,c,"utf8"),h(_,14,m+=c),_.write("ssh-connection",m+=4,14,"ascii"),h(_,9,m+=14),_.write("hostbased",m+=4,9,"ascii"),h(_,l,m+=9),_.write(s,m+=4,l,"ascii"),h(_,f,m+=l),t.copy(_,m+=4),h(_,d,m+=f),_.write(r,m+=4,d,"ascii"),h(_,g,m+=d),_.write(n,m+=4,g,"utf8"),i(_,(function(e){if(!1===(e=Re(e,s)))throw new Error("Error while converting handshake signature");var t=e.length,r=Buffer.allocUnsafe(_.length-p+t);return _.copy(r,0,4+p),h(r,t,r.length-t-4),e.copy(r,r.length-t),o._state.authsQueue.push("hostbased"),o.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (hostbased)"),Te(o,r)})),!0},fe.prototype.authKeyboard=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t=Buffer.byteLength(e),r=0,n=Buffer.allocUnsafe(5+t+4+14+4+20+4+4);return n[r]=b.USERAUTH_REQUEST,h(n,t,++r),n.write(e,r+=4,t,"utf8"),h(n,14,r+=t),n.write("ssh-connection",r+=4,14,"ascii"),h(n,20,r+=14),n.write("keyboard-interactive",r+=4,20,"ascii"),h(n,0,r+=20),h(n,0,r+=4),this._state.authsQueue.push("keyboard-interactive"),this.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (keyboard-interactive)"),Te(this,n)},fe.prototype.authNone=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t=Buffer.byteLength(e),r=0,n=Buffer.allocUnsafe(5+t+4+14+4+4);return n[r]=b.USERAUTH_REQUEST,h(n,t,++r),n.write(e,r+=4,t,"utf8"),h(n,14,r+=t),n.write("ssh-connection",r+=4,14,"ascii"),h(n,4,r+=14),n.write("none",r+=4,4,"ascii"),this._state.authsQueue.push("none"),this.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (none)"),Te(this,n)},fe.prototype.authInfoRes=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t,r,n,i=0,s=0;if(e)for(n=0,r=e.length;n<r;++n)i+=4+Buffer.byteLength(e[n]);var o=Buffer.allocUnsafe(5+i);if(o[s++]=b.USERAUTH_INFO_RESPONSE,h(o,e?e.length:0,s),e)for(s+=4,n=0,r=e.length;n<r;++n)t=Buffer.byteLength(e[n]),h(o,t,s),s+=4,t&&(o.write(e[n],s,t,"utf8"),s+=t);return this.debug("DEBUG: Outgoing: Writing USERAUTH_INFO_RESPONSE"),Te(this,o)},fe.prototype.serviceAccept=function(e){if(!this.server)throw new Error("Server-only method called in client mode");var t=e.length,r=Buffer.allocUnsafe(5+t);if(r[0]=b.SERVICE_ACCEPT,h(r,t,1),r.write(e,5,t,"ascii"),this.debug("DEBUG: Outgoing: Writing SERVICE_ACCEPT ("+e+")"),Te(this,r),this.server&&this.banner&&"ssh-userauth"===e){var n=Buffer.byteLength(this.banner),i=5+n+4,s=Buffer.allocUnsafe(i);s[0]=b.USERAUTH_BANNER,h(s,n,1),s.write(this.banner,5,n,"utf8"),s.fill(0,i-4),this.debug("DEBUG: Outgoing: Writing USERAUTH_BANNER"),Te(this,s),this.banner=void 0}},fe.prototype.forwardedTcpip=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(n.boundAddr),s=Buffer.byteLength(n.remoteAddr),o=36+i,a=Buffer.allocUnsafe(36+i+4+4+s+4);return a[0]=b.CHANNEL_OPEN,h(a,15,1),a.write("forwarded-tcpip",5,15,"ascii"),h(a,e,20),h(a,t,24),h(a,r,28),h(a,i,32),a.write(n.boundAddr,36,i,"ascii"),h(a,n.boundPort,o),h(a,s,o+=4),a.write(n.remoteAddr,o+=4,s,"ascii"),h(a,n.remotePort,o+=s),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", forwarded-tcpip)"),Te(this,a)},fe.prototype.x11=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(n.originAddr),s=24+i,o=Buffer.allocUnsafe(24+i+4);return o[0]=b.CHANNEL_OPEN,h(o,3,1),o.write("x11",5,3,"ascii"),h(o,e,8),h(o,t,12),h(o,r,16),h(o,i,20),o.write(n.originAddr,24,i,"ascii"),h(o,n.originPort,s),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", x11)"),Te(this,o)},fe.prototype.openssh_authAgent=function(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");var n=Buffer.allocUnsafe(39);return n[0]=b.CHANNEL_OPEN,h(n,22,1),n.write("auth-agent@openssh.com",5,22,"ascii"),h(n,e,27),h(n,t,31),h(n,r,35),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", auth-agent@openssh.com)"),Te(this,n)},fe.prototype.openssh_forwardedStreamLocal=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(n.socketPath),s=Buffer.allocUnsafe(54+i+4);return s[0]=b.CHANNEL_OPEN,h(s,33,1),s.write("forwarded-streamlocal@openssh.com",5,33,"ascii"),h(s,e,38),h(s,t,42),h(s,r,46),h(s,i,50),s.write(n.socketPath,54,i,"utf8"),h(s,0,54+i),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", forwarded-streamlocal@openssh.com)"),Te(this,s)},fe.prototype.exitStatus=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");var r=Buffer.allocUnsafe(25);return r[0]=b.CHANNEL_REQUEST,h(r,e,1),h(r,11,5),r.write("exit-status",9,11,"ascii"),r[20]=0,h(r,t,21),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", exit-status)"),Te(this,r)},fe.prototype.exitSignal=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(t),s=n?Buffer.byteLength(n):0,o=25+i,a=Buffer.allocUnsafe(25+i+1+4+s+4);return a[0]=b.CHANNEL_REQUEST,h(a,e,1),h(a,11,5),a.write("exit-signal",9,11,"ascii"),a[20]=0,h(a,i,21),a.write(t,25,i,"utf8"),a[o++]=r?1:0,h(a,s,o),o+=4,s&&(a.write(n,o,s,"utf8"),o+=s),h(a,0,o),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", exit-signal)"),Te(this,a)},fe.prototype.authFailure=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");var r;if(!this._state.authsQueue.length)throw new Error("No auth in progress");if("boolean"==typeof e&&(t=e,e=void 0),e){r=[];for(var n=0,i=e.length;n<i;++n)"none"!==e[n].toLowerCase()&&r.push(e[n]);r=r.join(",")}else r="";var s=r.length,o=Buffer.allocUnsafe(5+s+1);return o[0]=b.USERAUTH_FAILURE,h(o,s,1),o.write(r,5,s,"ascii"),o[5+s]=!0===t?1:0,this._state.authsQueue.shift(),this.debug("DEBUG: Outgoing: Writing USERAUTH_FAILURE"),Te(this,o)},fe.prototype.authSuccess=function(){if(!this.server)throw new Error("Server-only method called in client mode");if(!this._state.authsQueue.length)throw new Error("No auth in progress");var e=this._state,t=e.outgoing,r=e.incoming;e.authsQueue.shift(),this.debug("DEBUG: Outgoing: Writing USERAUTH_SUCCESS");var n=Te(this,oe);return"zlib@openssh.com"===t.compress.type&&(t.compress.instance=i.createDeflate(z),t.compress.queue=[]),"zlib@openssh.com"===r.decompress.type&&(r.decompress.instance=i.createInflate(z)),n},fe.prototype.authPKOK=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");var r=this._state.authsQueue;if(!r.length||"publickey"!==r[0])throw new Error('"publickey" auth not in progress');var n=e.length,i=t.length,s=Buffer.allocUnsafe(5+n+4+i);return s[0]=b.USERAUTH_PK_OK,h(s,n,1),s.write(e,5,n,"ascii"),h(s,i,5+n),t.copy(s,5+n+4),this._state.authsQueue.shift(),this.debug("DEBUG: Outgoing: Writing USERAUTH_PK_OK"),Te(this,s)},fe.prototype.authPasswdChg=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");var r=Buffer.byteLength(e),n=t?t.length:0,i=0,s=Buffer.allocUnsafe(5+r+4+n);return s[i]=b.USERAUTH_PASSWD_CHANGEREQ,h(s,r,++i),s.write(e,i+=4,r,"utf8"),h(s,n,i+=r),n&&s.write(t,i+=4,n,"ascii"),this.debug("DEBUG: Outgoing: Writing USERAUTH_PASSWD_CHANGEREQ"),Te(this,s)},fe.prototype.authInfoReq=function(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");var n,i,s,o,a=0,c=e?Buffer.byteLength(e):0,u=t?Buffer.byteLength(t):0,l=0;for(o=0,s=r.length;o<s;++o)a+=4+Buffer.byteLength(r[o].prompt)+1;var f=Buffer.allocUnsafe(5+c+4+u+4+4+a);for(f[l++]=b.USERAUTH_INFO_REQUEST,h(f,c,l),l+=4,e&&(f.write(e,l,c,"utf8"),l+=c),h(f,u,l),l+=4,t&&(f.write(t,l,u,"utf8"),l+=u),h(f,0,l),l+=4,h(f,r.length,l),l+=4,o=0,s=r.length;o<s;++o)i=r[o],n=Buffer.byteLength(i.prompt),h(f,n,l),l+=4,n&&(f.write(i.prompt,l,n,"utf8"),l+=n),f[l++]=i.echo?1:0;return this.debug("DEBUG: Outgoing: Writing USERAUTH_INFO_REQUEST"),Te(this,f)};var ke="function"==typeof n.randomFillSync?n.randomFillSync:function(e,t,r){n.randomBytes(r).copy(e,t)};function Ce(e,t){try{return e.computeSecret(t)}catch(e){return e}}function Re(e,t){switch(t){case"ssh-dss":return m(e);case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":return _(e)}return e}var Oe="function"==typeof n.timingSafeEqual?function(e,t){return e.length!==t.length?(n.timingSafeEqual(e,e),!1):n.timingSafeEqual(e,t)}:function(e,t){var r;e.length===t.length?r=0:(r=1,t=e);for(var n=0,i=e.length;n<i;++n)r|=e[n]^t[n];return 0===r};e.exports=fe,e.exports._send=Te},function(e,t){e.exports=require("zlib")},function(e,t,r){var n=r(13).EventEmitter;function i(e,t,r,n,i){for(var s=0;s<i;++s,++t,++n)if(e[t]!==r[n])return!1;return!0}function s(e){"string"==typeof e&&(e=new Buffer(e));var t,r,n=e.length;for(this.maxMatches=1/0,this.matches=0,this._occ=new Array(256),this._lookbehind_size=0,this._needle=e,this._bufpos=0,this._lookbehind=new Buffer(n),r=0;r<256;++r)this._occ[r]=n;if(n>=1)for(t=0;t<n-1;++t)this._occ[e[t]]=n-1-t}(0,r(2).inherits)(s,n),s.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0},s.prototype.push=function(e,t){var r,n;for(Buffer.isBuffer(e)||(e=new Buffer(e,"binary")),n=e.length,this._bufpos=t||0;r!==n&&this.matches<this.maxMatches;)r=this._sbmh_feed(e);return r},s.prototype._sbmh_feed=function(e){var t=e.length,r=this._needle,n=r.length,s=-this._lookbehind_size,o=r[n-1],a=this._occ,c=this._lookbehind;if(s<0){for(;s<0&&s<=t-n;){if((h=this._sbmh_lookup_char(e,s+n-1))===o&&this._sbmh_memcmp(e,s,n-1))return this._lookbehind_size=0,++this.matches,s>-this._lookbehind_size?this.emit("info",!0,c,0,this._lookbehind_size+s):this.emit("info",!0),this._bufpos=s+n,s+n;s+=a[h]}if(s<0)for(;s<0&&!this._sbmh_memcmp(e,s,t-s);)s++;if(!(s>=0)){var u=this._lookbehind_size+s;return u>0&&this.emit("info",!1,c,0,u),c.copy(c,0,u,this._lookbehind_size-u),this._lookbehind_size-=u,e.copy(c,this._lookbehind_size),this._lookbehind_size+=t,this._bufpos=t,t}this.emit("info",!1,c,0,this._lookbehind_size),this._lookbehind_size=0}for(s>=0&&(s+=this._bufpos);s<=t-n;){var h;if((h=e[s+n-1])===o&&e[s]===r[0]&&i(r,0,e,s,n-1))return++this.matches,s>0?this.emit("info",!0,e,this._bufpos,s):this.emit("info",!0),this._bufpos=s+n,s+n;s+=a[h]}if(s<t){for(;s<t&&(e[s]!==r[0]||!i(e,s,r,0,t-s));)++s;s<t&&(e.copy(c,0,s,s+(t-s)),this._lookbehind_size=t-s)}return s>0&&this.emit("info",!1,e,this._bufpos,s<t?s:t),this._bufpos=t,t},s.prototype._sbmh_lookup_char=function(e,t){return t<0?this._lookbehind[this._lookbehind_size+t]:e[t]},s.prototype._sbmh_memcmp=function(e,t,r){for(var n=0;n<r;){if(this._sbmh_lookup_char(e,t+n)!==this._needle[n])return!1;++n}return!0},e.exports=s},function(e){e.exports=JSON.parse('{"_args":[["ssh2-streams@0.4.8","/Users/neilanderson/Projects/push"]],"_from":"ssh2-streams@0.4.8","_id":"ssh2-streams@0.4.8","_inBundle":false,"_integrity":"sha512-auxXfgYySz2vYw7TMU7PK7vFI7EPvhvTH8/tZPgGaWocK4p/vwCMiV3icz9AEkb0R40kOKZtFtqYIxDJyJiytw==","_location":"/ssh2-streams","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"ssh2-streams@0.4.8","name":"ssh2-streams","escapedName":"ssh2-streams","rawSpec":"0.4.8","saveSpec":null,"fetchSpec":"0.4.8"},"_requiredBy":["/ssh2"],"_resolved":"https://registry.npmjs.org/ssh2-streams/-/ssh2-streams-0.4.8.tgz","_spec":"0.4.8","_where":"/Users/neilanderson/Projects/push","author":{"name":"Brian White","email":"mscdex@mscdex.net"},"bugs":{"url":"https://github.com/mscdex/ssh2-streams/issues"},"dependencies":{"asn1":"~0.2.0","bcrypt-pbkdf":"^1.0.2","streamsearch":"~0.1.2"},"description":"SSH2 and SFTP(v3) client/server protocol streams for node.js","engines":{"node":">=5.2.0"},"homepage":"https://github.com/mscdex/ssh2-streams#readme","keywords":["ssh","ssh2","sftp","secure","protocol","streams","client","server"],"licenses":[{"type":"MIT","url":"http://github.com/mscdex/ssh2-streams/raw/master/LICENSE"}],"main":"./index","name":"ssh2-streams","repository":{"type":"git","url":"git+ssh://git@github.com/mscdex/ssh2-streams.git"},"scripts":{"test":"node test/test.js"},"version":"0.4.8"}')},function(e,t,r){var n,i=r(127).Agent,s=r(128).Agent,o=r(2).inherits;function a(e,t){var i=e&&e.localAddress||this._defaultSrcIP,s=e&&e.localPort||0,o=e.host,a=e.port;void 0===n&&(n=r(34).Client);var u=new n,h=!1;u.on("ready",()=>{u.forwardOut(i,s,o,a,(e,r)=>{if(h=!0,e)return u.end(),t(e);r.once("close",()=>{u.end()}),t(null,function(e){return e.setKeepAlive=c,e.setNoDelay=c,e.setTimeout=c,e.ref=c,e.unref=c,e.destroySoon=e.destroy,e}(r))})}).on("error",t).on("close",()=>{h||t(new Error("Unexpected connection loss"))}).connect(this._connectCfg)}function c(){}[i,s].forEach(e=>{function r(t,n){if(!(this instanceof r))return new r(t,n);e.call(this,n),this._connectCfg=t,this._defaultSrcIP=n&&n.srcIP||"localhost"}o(r,e),r.prototype.createConnection=a,t[e===i?"SSHTTPAgent":"SSHTTPSAgent"]=r})},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("https")},function(e,t,r){(function(t){var n=r(35).Socket,i=r(13).EventEmitter,s=r(2).inherits,o=r(1),a=r(3),c=r(56),u=r(20).readUInt32BE,h=r(20).writeUInt32BE,l=r(20).writeUInt32LE,f=11,p=12,d=13,g=14,m=5,_=/^\!<socket >(\d+) s ([A-Z0-9]{8}\-[A-Z0-9]{8}\-[A-Z0-9]{8}\-[A-Z0-9]{8})/,y=/^[/\\][/\\]\.[/\\]pipe[/\\].+/;if(e.exports=function(e,t,r,i,s){var o,v,E,b,S,T,A,k,C=0,R=Buffer.isBuffer(t),O=0,x=0,P=0,N=0,L=!1;function D(){var e;if(R){var r=9;e=Buffer.allocUnsafe(9+C+4+b+4),h(e,e.length-4,0),e[4]=d,h(e,C,5),t.copy(e,r),h(e,b,r+=C),i.copy(e,r+=4),h(e,0,r+=b),o.write(e)}else o.write(Buffer.from([0,0,0,1,f]))}function U(e){for(var r=0,n=e.length;r<n;++r)if(void 0===S)5==++O&&(S=e[r],O=0);else if(S===g)if(E){if(E[O]=e[r],++O===x)return o.removeAllListeners("data"),o.destroy()}else x<<=8,x+=e[r],4==++O&&(E=Buffer.allocUnsafe(x),O=0);else if(S===p)if(void 0===T){if(P<<=8,P+=e[r],4==++O&&(T=new Array(P),O=0,0===P))return o.removeAllListeners("data"),o.destroy()}else if(t)if(!1===L){if(t[O]=e[r],++O===C&&(T[P-1]=t,C=0,O=0,L=!0,0==--P))return t=void 0,o.removeAllListeners("data"),o.destroy()}else!0===L?(N<<=8,N+=e[r],4==++O&&(O=0,N>0?L=N:(t=void 0,L=!1),N=0)):++O===L&&(L=!1,O=0,t=void 0);else C<<=8,C+=e[r],4==++O&&(t=Buffer.allocUnsafe(C),O=0);else if(S===m)return v=R?new Error("Agent unable to sign data"):new Error("Unable to retrieve list of keys from agent"),o.removeAllListeners("data"),o.destroy()}function I(e){v=e}function B(){v?s(v):R&&!E||!R&&!T?s(new Error("Unexpected disconnection from agent")):R&&E?s(void 0,E):!R&&T&&s(void 0,T)}if("function"==typeof t&&"function"==typeof r?(A=t,k=r):R?(C=t.length,b=i.length):(s=t,t=void 0),"win32"!==process.platform||y.test(e))o=new n;else{if("pageant"!==e){var M=!1;return void a.readFile(e,(function t(r,i){if(r)return M?s(new Error("Invalid cygwin unix socket path")):void c.exec('cygpath -w "'+e+'"',(function(r,n,i){if(r||0===n.length)return s(new Error("Invalid cygwin unix socket path"));M=!0,e=n.toString().replace(/[\r\n]/g,""),a.readFile(e,t)}));var h;if(h=_.exec(i.toString("ascii"))){var f,p,d,g,m,y,v=0,E=!1,w=[],b=Buffer.allocUnsafe(12);for(b.fill(0),f=parseInt(h[1],10),p=h[2].replace(/\-/g,""),d=Buffer.allocUnsafe(16),m=0,y=0;y<32;++m,y+=2)d[m]=parseInt(p.substring(y,y+2),16);for(m=0;m<16;m+=4)l(d,u(d,m),m);function S(){v=0,g="secret",o.write(d)}function T(e){v+=e.length,"secret"===g?16===v&&(v=0,g="creds",o.write(b)):"creds"===g&&(E||w.push(e),12===v&&(o.removeListener("connect",S),o.removeListener("data",T),o.removeListener("close",A),E?(H(),o.emit("connect")):(E=!0,b=Buffer.concat(w),l(b,process.pid,0),o.destroy(),k())))}function A(){s(new Error("Problem negotiating cygwin unix socket security"))}function k(){(o=new n).once("connect",S),o.on("data",T),o.once("close",A),o.connect(f)}k()}else s(new Error("Malformed cygwin unix socket file"))}))}o=new w}function H(){var e;A||k?(o.once("connect",(function(){e=A();var t=!1;function r(){t||(o.destroy(),t=!0)}e.once("end",r).once("close",r).on("data",(function(e){o.write(e)})),o.on("data",(function(t){e.write(t)}))})),o.once("close",(function(){e||k()}))):(o.once("connect",D),o.on("data",U),o.once("error",I),o.once("close",B))}H(),o.connect(e)},"win32"===process.platform){var v={},E=o.resolve(t,"..","util/pagent.exe");function w(){this.proc=void 0,this.buffer=null}v[10]=new Error("Invalid pagent.exe arguments"),v[11]=new Error("Pageant is not running"),v[12]=new Error("pagent.exe could not create an mmap"),v[13]=new Error("pagent.exe could not set mode for stdin"),v[14]=new Error("pagent.exe could not set mode for stdout"),v[15]=new Error("pagent.exe did not get expected input payload"),s(w,i),w.prototype.write=function(e){if(null===this.buffer?this.buffer=e:this.buffer=Buffer.concat([this.buffer,e],this.buffer.length+e.length),!(this.buffer.length<4)){var t=u(this.buffer,0);if(!(this.buffer.length-4<t)){e=this.buffer.slice(0,4+t),this.buffer.length>4+t?this.buffer=this.buffer.slice(4+t):this.buffer=null;var r,n=this,i=!1;(r=this.proc=c.spawn(E,[e.length])).stdout.on("data",(function(e){n.emit("data",e)})),r.once("error",(function(e){i||(i=!0,n.emit("error",e))})),r.once("close",(function(e){n.proc=void 0,v[e]&&!i&&(i=!0,n.emit("error",v[e])),n.emit("close",i)})),r.stdin.end(e)}}},w.prototype.end=w.prototype.destroy=function(){this.buffer=null,this.proc&&(this.proc.kill(),this.proc=void 0)},w.prototype.connect=function(){this.emit("connect")}}}).call(this,"/")},function(e,t,r){var n=r(2).inherits,i=r(13).EventEmitter;function s(e){var t=this;i.call(this),this._stream=e,e.on("error",(function(e){t.emit("error",e)})).on("end",(function(){t.emit("end")})).on("close",(function(){t.emit("close")})).on("continue",(function(){t.emit("continue")}))}n(s,i),s.prototype.end=function(){return this._stream.end()},s.prototype.createReadStream=function(e,t){return this._stream.createReadStream(e,t)},s.prototype.createWriteStream=function(e,t){return this._stream.createWriteStream(e,t)},s.prototype.open=function(e,t,r,n){return this._stream.open(e,t,r,n)},s.prototype.close=function(e,t){return this._stream.close(e,t)},s.prototype.read=function(e,t,r,n,i,s){return this._stream.readData(e,t,r,n,i,s)},s.prototype.write=function(e,t,r,n,i,s){return this._stream.writeData(e,t,r,n,i,s)},s.prototype.fastGet=function(e,t,r,n){return this._stream.fastGet(e,t,r,n)},s.prototype.fastPut=function(e,t,r,n){return this._stream.fastPut(e,t,r,n)},s.prototype.readFile=function(e,t,r){return this._stream.readFile(e,t,r)},s.prototype.writeFile=function(e,t,r,n){return this._stream.writeFile(e,t,r,n)},s.prototype.appendFile=function(e,t,r,n){return this._stream.appendFile(e,t,r,n)},s.prototype.exists=function(e,t){return this._stream.exists(e,t)},s.prototype.unlink=function(e,t){return this._stream.unlink(e,t)},s.prototype.rename=function(e,t,r){return this._stream.rename(e,t,r)},s.prototype.mkdir=function(e,t,r){return this._stream.mkdir(e,t,r)},s.prototype.rmdir=function(e,t){return this._stream.rmdir(e,t)},s.prototype.readdir=function(e,t,r){return this._stream.readdir(e,t,r)},s.prototype.fstat=function(e,t){return this._stream.fstat(e,t)},s.prototype.stat=function(e,t){return this._stream.stat(e,t)},s.prototype.lstat=function(e,t){return this._stream.lstat(e,t)},s.prototype.opendir=function(e,t){return this._stream.opendir(e,t)},s.prototype.setstat=function(e,t,r){return this._stream.setstat(e,t,r)},s.prototype.fsetstat=function(e,t,r){return this._stream.fsetstat(e,t,r)},s.prototype.futimes=function(e,t,r,n){return this._stream.futimes(e,t,r,n)},s.prototype.utimes=function(e,t,r,n){return this._stream.utimes(e,t,r,n)},s.prototype.fchown=function(e,t,r,n){return this._stream.fchown(e,t,r,n)},s.prototype.chown=function(e,t,r,n){return this._stream.chown(e,t,r,n)},s.prototype.fchmod=function(e,t,r){return this._stream.fchmod(e,t,r)},s.prototype.chmod=function(e,t,r){return this._stream.chmod(e,t,r)},s.prototype.readlink=function(e,t){return this._stream.readlink(e,t)},s.prototype.symlink=function(e,t,r){return this._stream.symlink(e,t,r)},s.prototype.realpath=function(e,t){return this._stream.realpath(e,t)},s.prototype.ext_openssh_rename=function(e,t,r){return this._stream.ext_openssh_rename(e,t,r)},s.prototype.ext_openssh_statvfs=function(e,t){return this._stream.ext_openssh_statvfs(e,t)},s.prototype.ext_openssh_fstatvfs=function(e,t){return this._stream.ext_openssh_fstatvfs(e,t)},s.prototype.ext_openssh_hardlink=function(e,t,r){return this._stream.ext_openssh_hardlink(e,t,r)},s.prototype.ext_openssh_fsync=function(e,t){return this._stream.ext_openssh_fsync(e,t)},e.exports=s},function(e,t,r){var n,i=r(35),s=r(13).EventEmitter,o=s.listenerCount,a=r(2).inherits,c=r(36),u=c.utils.parseKey,h=c.SSH2Stream,l=c.SFTPStream,f=c.constants,p=f.DISCONNECT_REASON,d=f.CHANNEL_OPEN_FAILURE,g=f.ALGORITHMS,m=r(55),_=r(132),y=r(20).writeUInt32BE,v=Math.pow(2,32)-1,E=10;function w(e,t){if(!(this instanceof w))return new w(e,t);var r,a={"ssh-rsa":null,"ssh-dss":null,"ssh-ed25519":null,"ecdsa-sha2-nistp256":null,"ecdsa-sha2-nistp384":null,"ecdsa-sha2-nistp521":null},c=e.hostKeys;if(!Array.isArray(c))throw new Error("hostKeys must be an array");for(r=0;r<c.length;++r){var l;if((l=Buffer.isBuffer(c[r])||"string"==typeof c[r]?u(c[r]):u(c[r].key,c[r].passphrase))instanceof Error)throw new Error("Cannot parse privateKey: "+l.message);if(Array.isArray(l)&&(l=l[0]),null===l.getPrivatePEM())throw new Error("privateKey value contains an invalid private key");a[l.type]||(a[l.type]=l)}var f={kex:void 0,kexBuf:void 0,cipher:void 0,cipherBuf:void 0,serverHostKey:void 0,serverHostKeyBuf:void 0,hmac:void 0,hmacBuf:void 0,compress:void 0,compressBuf:void 0};if("object"==typeof e.algorithms&&null!==e.algorithms){var d,m;if(m=e.algorithms.kex,Array.isArray(m)&&m.length>0){for(d=g.SUPPORTED_KEX,r=0;r<m.length;++r)if(-1===d.indexOf(m[r]))throw new Error("Unsupported key exchange algorithm: "+m[r]);f.kex=m}if(m=e.algorithms.cipher,Array.isArray(m)&&m.length>0){for(d=g.SUPPORTED_CIPHER,r=0;r<m.length;++r)if(-1===d.indexOf(m[r]))throw new Error("Unsupported cipher algorithm: "+m[r]);f.cipher=m}m=e.algorithms.serverHostKey;var y=!1;if(Array.isArray(m)&&m.length>0){for(d=g.SUPPORTED_SERVER_HOST_KEY,r=m.length-1;r>=0;--r){if(-1===d.indexOf(m[r]))throw new Error("Unsupported server host key algorithm: "+m[r]);a[m[r]]||(y||(m=m.slice(),y=!0),m.splice(r,1))}m.length>0&&(f.serverHostKey=m)}if(m=e.algorithms.hmac,Array.isArray(m)&&m.length>0){for(d=g.SUPPORTED_HMAC,r=0;r<m.length;++r)if(-1===d.indexOf(m[r]))throw new Error("Unsupported HMAC algorithm: "+m[r]);f.hmac=m}if(m=e.algorithms.compress,Array.isArray(m)&&m.length>0){for(d=g.SUPPORTED_COMPRESS,r=0;r<m.length;++r)if(-1===d.indexOf(m[r]))throw new Error("Unsupported compression algorithm: "+m[r]);f.compress=m}}if(void 0===f.serverHostKey){var v=Object.keys(a);for(r=v.length-1;r>=0;--r)a[v[r]]||v.splice(r,1);f.serverHostKey=v}!n&&w.KEEPALIVE_INTERVAL>0&&w.KEEPALIVE_CLIENT_INTERVAL>0&&w.KEEPALIVE_CLIENT_COUNT_MAX>=0&&(n=new _(w.KEEPALIVE_INTERVAL,w.KEEPALIVE_CLIENT_INTERVAL,w.KEEPALIVE_CLIENT_COUNT_MAX));var E=this;s.call(this),"function"==typeof t&&E.on("connection",t);var S,T,A={algorithms:f,hostKeys:a,server:!0};for(r=0,T=(S=Object.keys(e)).length;r<T;++r){var k=S[r];"privateKey"!==k&&"publicKey"!==k&&"passphrase"!==k&&"algorithms"!==k&&"hostKeys"!==k&&"server"!==k&&(A[k]=e[k])}if("function"==typeof A.debug)var C=A.debug,R=Object.keys(A);this._srv=new i.Server((function(e){if(E._connections>=E.maxConnections)e.destroy();else{++E._connections,e.once("close",(function(e){--E._connections,s.read()})).on("error",(function(e){s.reset(),s.emit("error",e)}));var t=A;if(C){t={};for(var r,n=0;n<R.length;++n)t[r=R[n]]=A[r];var i="["+process.hrtime().join(".")+"] ";t.debug=function(e){C(i+e)}}var s=new h(t),a=new b(s,e);e.pipe(s).pipe(e),a.on("error",c),s.once("header",(function(t){if(!s._readableState.ended){if(!o(E,"connection"))return s.disconnect(p.BY_APPLICATION);a.removeListener("error",c),E.emit("connection",a,{ip:e.remoteAddress,family:e.remoteFamily,port:e.remotePort,header:t})}}))}function c(e){}})).on("error",(function(e){E.emit("error",e)})).on("listening",(function(){E.emit("listening")})).on("close",(function(){E.emit("close")})),this._connections=0,this.maxConnections=1/0}function b(e,t){s.call(this);var r=this;this._sshstream=e;var i=this._channels={};this._curChan=-1,this._sock=t,this.noMoreSessions=!1,this.authenticated=!1,e.on("end",(function(){t.resume(),r.emit("end")})).on("close",(function(e){r.emit("close",e)})).on("error",(function(e){r.emit("error",e)})).on("drain",(function(){r.emit("drain")})).on("continue",(function(){r.emit("continue")}));var a,c=0,u=!1,h=[];function l(t,n,i,s){if(0===c||a&&(a.username!==t||a.service!==n)||"password"!==i&&"publickey"!==i&&"hostbased"!==i&&"keyboard-interactive"!==i&&"none"!==i||h.length===E)return e.disconnect(p.PROTOCOL_ERROR);if("ssh-connection"!==n)return e.disconnect(p.SERVICE_NOT_AVAILABLE);var u;if(e._state.authMethod=i,"keyboard-interactive"===i?u=new k(e,t,n,i,s,f):"publickey"===i?u=new C(e,t,n,i,s,f):"hostbased"===i?u=new R(e,t,n,i,s,f):"password"===i?u=new O(e,t,n,i,s,f):"none"===i&&(u=new T(e,t,n,i,f)),a){if(!a._initialResponse)return h.push(u);a._multistep&&!this._finalResponse&&(a._cleanup&&a._cleanup(),a.emit("abort"))}a=u,o(r,"authentication")?r.emit("authentication",a):a.reject()}function f(t,n,i,s){a!==t||r.authenticated||(n?(e.removeListener("USERAUTH_REQUEST",l),a=void 0,r.authenticated=!0,e.authSuccess(),h=[],r.emit("ready")):(e.authFailure(i,s),h.length&&(a=h.pop(),o(r,"authentication")?r.emit("authentication",a):a.reject())))}e.on("SERVICE_REQUEST",(function(t){if(0===c||u||r.authenticated||"ssh-userauth"!==t)return e.disconnect(p.SERVICE_NOT_AVAILABLE);u=!0,e.serviceAccept(t)})).on("USERAUTH_REQUEST",l);var g=[];e.on("GLOBAL_REQUEST",(function(t,n,i){var s={type:null,buf:null};function a(t,r){s.type=t,s.buf=r,function(){for(var t;g.length>0&&g[0].type;)"SUCCESS"===(t=g.shift()).type&&e.requestSuccess(t.buf),"FAILURE"===t.type&&e.requestFailure()}()}if(n&&g.push(s),("tcpip-forward"===t||"cancel-tcpip-forward"===t||"no-more-sessions@openssh.com"===t||"streamlocal-forward@openssh.com"===t||"cancel-streamlocal-forward@openssh.com"===t)&&o(r,"request")&&r.authenticated){var c,u;if(n){var h=!1;c=function(e){var r;h||(h=!0,"tcpip-forward"===t&&0===i.bindPort&&"number"==typeof e&&(r=Buffer.allocUnsafe(4),y(r,e,0)),a("SUCCESS",r))},u=function(){h||(h=!0,a("FAILURE"))}}if("no-more-sessions@openssh.com"===t)return r.noMoreSessions=!0,void(c&&c());r.emit("request",c,u,t,i)}else n&&a("FAILURE")})),e.on("CHANNEL_OPEN",(function(t){if("session"===t.type&&r.noMoreSessions||!r.authenticated){var n=d.ADMINISTRATIVELY_PROHIBITED;return e.channelOpenFail(t.sender,n)}var s,a,c=P(r),u=!1;if(!1===c)return e.channelOpenFail(t.sender,d.RESOURCE_SHORTAGE);switch(i[c]=!0,a=function(){if(!u){u=!0,delete i[c];var r=d.ADMINISTRATIVELY_PROHIBITED;return e.channelOpenFail(t.sender,r)}},t.type){case"session":o(r,"session")?(s=function(){if(!u)return u=!0,e.channelOpenConfirm(t.sender,c,m.MAX_WINDOW,m.PACKET_SIZE),new S(r,t,c)},r.emit("session",s,a)):a();break;case"direct-tcpip":o(r,"tcpip")?(s=function(){if(!u){u=!0,e.channelOpenConfirm(t.sender,c,m.MAX_WINDOW,m.PACKET_SIZE);var n={type:void 0,incoming:{id:c,window:m.MAX_WINDOW,packetSize:m.PACKET_SIZE,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}};return new m(n,r)}},r.emit("tcpip",s,a,t.data)):a();break;case"direct-streamlocal@openssh.com":o(r,"openssh.streamlocal")?(s=function(){if(!u){u=!0,e.channelOpenConfirm(t.sender,c,m.MAX_WINDOW,m.PACKET_SIZE);var n={type:void 0,incoming:{id:c,window:m.MAX_WINDOW,packetSize:m.PACKET_SIZE,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}};return new m(n,r)}},r.emit("openssh.streamlocal",s,a,t.data)):a();break;default:a()}})),e.on("NEWKEYS",(function(){++c>1&&r.emit("rekey")})),n&&this.once("ready",(function(){n.add(e)}))}function S(e,t,r){this.subtype=void 0;var n,i=!1,s=this,a=t.sender,c={type:"session",incoming:{id:r,window:m.MAX_WINDOW,packetSize:m.PACKET_SIZE,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}};e._sshstream.on("CHANNEL_REQUEST:"+r,(function(t){var r,u,h=!1;if(t.wantReply&&("shell"!==t.request&&"exec"!==t.request&&"subsystem"!==t.request&&(r=function(){if(!(h||i||n))return h=!0,e._sshstream.channelSuccess(a)}),u=function(){if(!(h||i||n))return h=!0,e._sshstream.channelFailure(a)}),i)u&&u();else switch(t.request){case"env":o(s,"env")?s.emit("env",r,u,{key:t.key,val:t.val}):u&&u();break;case"pty-req":o(s,"pty")?s.emit("pty",r,u,{cols:t.cols,rows:t.rows,width:t.width,height:t.height,term:t.term,modes:t.modes}):u&&u();break;case"window-change":o(s,"window-change")?s.emit("window-change",r,u,{cols:t.cols,rows:t.rows,width:t.width,height:t.height}):u&&u();break;case"x11-req":o(s,"x11")?s.emit("x11",r,u,{single:t.single,protocol:t.protocol,cookie:t.cookie,screen:t.screen}):u&&u();break;case"signal":o(s,"signal")?s.emit("signal",r,u,{name:t.signal}):u&&u();break;case"auth-agent-req@openssh.com":o(s,"auth-agent")?s.emit("auth-agent",r,u):u&&u();break;case"shell":o(s,"shell")?(r=function(){if(!(h||i||n))return h=!0,t.wantReply&&e._sshstream.channelSuccess(a),(n=new m(c,e,{server:!0})).subtype=s.subtype=t.request,n},s.emit("shell",r,u)):u&&u();break;case"exec":o(s,"exec")?(r=function(){if(!(h||i||n))return h=!0,t.wantReply&&e._sshstream.channelSuccess(a),(n=new m(c,e,{server:!0})).subtype=s.subtype=t.request,n},s.emit("exec",r,u,{command:t.command})):u&&u();break;case"subsystem":r=function(){if(!(h||i||n)){if(h=!0,t.wantReply&&e._sshstream.channelSuccess(a),(n=new m(c,e,{server:!0})).subtype=s.subtype=t.request+":"+t.subsystem,"sftp"===t.subsystem){var r=new l({server:!0,debug:e._sshstream.debug});return n.pipe(r).pipe(n),r}return n}},"sftp"===t.subsystem&&o(s,"sftp")?s.emit("sftp",r,u):"sftp"!==t.subsystem&&o(s,"subsystem")?s.emit("subsystem",r,u,{name:t.subsystem}):u&&u();break;default:u&&u()}})).once("CHANNEL_EOF:"+r,(function(){i=!0,s.emit("eof"),s.emit("end")})).once("CHANNEL_CLOSE:"+r,(function(){i=!0,s.emit("close")}))}function T(e,t,r,n,i){s.call(this);var o=this;this.username=this.user=t,this.service=r,this.method=n,this._initialResponse=!1,this._finalResponse=!1,this._multistep=!1,this._cbfinal=function(e,t,r){o._finalResponse||(o._finalResponse=!0,i(o,e,t,r))},this._stream=e}a(w,s),w.prototype.listen=function(){return this._srv.listen.apply(this._srv,arguments),this},w.prototype.address=function(){return this._srv.address()},w.prototype.getConnections=function(e){this._srv.getConnections(e)},w.prototype.close=function(e){return this._srv.close(e),this},w.prototype.ref=function(){this._srv.ref()},w.prototype.unref=function(){this._srv.unref()},a(b,s),b.prototype.end=function(){return this._sshstream.disconnect(p.BY_APPLICATION)},b.prototype.x11=function(e,t,r){return x(this,"x11",{originAddr:e,originPort:t},r)},b.prototype.forwardOut=function(e,t,r,n,i){return x(this,"forwarded-tcpip",{boundAddr:e,boundPort:t,remoteAddr:r,remotePort:n},i)},b.prototype.openssh_forwardOutStreamLocal=function(e,t){return x(this,"forwarded-streamlocal@openssh.com",{socketPath:e},t)},b.prototype.rekey=function(e){var t,r=this._sshstream,n=!0;try{n=r.rekey()}catch(e){t=e}return"function"==typeof e&&(t?process.nextTick((function(){e(t)})):this.once("rekey",e)),n},a(S,s),a(T,s),T.prototype.accept=function(){this._cleanup&&this._cleanup(),this._initialResponse=!0,this._cbfinal(!0)},T.prototype.reject=function(e,t){this._cleanup&&this._cleanup(),this._initialResponse=!0,this._cbfinal(!1,e,t)};var A=/[ \t\r\n]*,[ \t\r\n]*/g;function k(e,t,r,n,i,s){T.call(this,e,t,r,n,s),this._multistep=!0;var o=this;this._cb=void 0,this._onInfoResponse=function(e){if(o._cb){var t=o._cb;o._cb=void 0,t(e)}},this.submethods=i.split(A),this.on("abort",(function(){o._cb&&o._cb(new Error("Authentication request aborted"))}))}function C(e,t,r,n,i,s){var o;if(T.call(this,e,t,r,n,s),this.key={algo:i.keyAlgo,data:i.key},this.signature=i.signature,this.signature)switch(i.keyAlgo){case"ssh-rsa":case"ssh-dss":o="sha1";break;case"ssh-ed25519":o=null;break;case"ecdsa-sha2-nistp256":o="sha256";break;case"ecdsa-sha2-nistp384":o="sha384";break;case"ecdsa-sha2-nistp521":o="sha512"}this.sigAlgo=o,this.blob=i.blob}function R(e,t,r,n,i,s){var o;if(T.call(this,e,t,r,n,s),this.key={algo:i.keyAlgo,data:i.key},this.signature=i.signature,this.signature)switch(i.keyAlgo){case"ssh-rsa":case"ssh-dss":o="sha1";break;case"ssh-ed25519":o=null;break;case"ecdsa-sha2-nistp256":o="sha256";break;case"ecdsa-sha2-nistp384":o="sha384";break;case"ecdsa-sha2-nistp521":o="sha512"}this.sigAlgo=o,this.blob=i.blob,this.localHostname=i.localHostname,this.localUsername=i.localUsername}function O(e,t,r,n,i,s){T.call(this,e,t,r,n,s),this.password=i}function x(e,t,r,n){var i=P(e),s=m.MAX_WINDOW,o=m.PACKET_SIZE,a=!0;if(!1===i)return n(new Error("No free channels available"));"function"==typeof r&&(n=r,r={}),e._channels[i]=!0;var c=e._sshstream;return c.once("CHANNEL_OPEN_CONFIRMATION:"+i,(function(r){c.removeAllListeners("CHANNEL_OPEN_FAILURE:"+i);var a={type:t,incoming:{id:i,window:s,packetSize:o,state:"open"},outgoing:{id:r.sender,window:r.window,packetSize:r.packetSize,state:"open"}};n(void 0,new m(a,e,{server:!0}))})).once("CHANNEL_OPEN_FAILURE:"+i,(function(t){c.removeAllListeners("CHANNEL_OPEN_CONFIRMATION:"+i),delete e._channels[i];var r=new Error("(SSH) Channel open failure: "+t.description);r.reason=t.reason,r.lang=t.lang,n(r)})),"forwarded-tcpip"===t?a=c.forwardedTcpip(i,s,o,r):"x11"===t?a=c.x11(i,s,o,r):"forwarded-streamlocal@openssh.com"===t&&(a=c.openssh_forwardedStreamLocal(i,s,o,r)),a}function P(e){if(e._curChan<v)return++e._curChan;for(var t=0,r=e._channels;t<v;++t)if(!r[t])return t;return!1}a(k,T),k.prototype._cleanup=function(){this._stream.removeListener("USERAUTH_INFO_RESPONSE",this._onInfoResponse)},k.prototype.prompt=function(e,t,r,n){Array.isArray(e)||(e=[e]),"function"==typeof t?(n=t,t=r=void 0):"function"==typeof r&&(n=r,r=void 0);for(var i=0;i<e.length;++i)"string"==typeof e[i]&&(e[i]={prompt:e[i],echo:!0});return this._cb=n,this._initialResponse=!0,this._stream.once("USERAUTH_INFO_RESPONSE",this._onInfoResponse),this._stream.authInfoReq(t,r,e)},a(C,T),C.prototype.accept=function(){this.signature?T.prototype.accept.call(this):(this._initialResponse=!0,this._stream.authPKOK(this.key.algo,this.key.data))},a(R,T),a(O,T),w.createServer=function(e,t){return new w(e,t)},w.KEEPALIVE_INTERVAL=1e3,w.KEEPALIVE_CLIENT_INTERVAL=15e3,w.KEEPALIVE_CLIENT_COUNT_MAX=3,e.exports=w,e.exports.IncomingClient=b},function(e,t){function r(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}function n(e,t,n){var i=this._streams=[];this._timer=void 0,this._timerInterval=e,this._timerfn=function(){for(var e,s,o=Date.now(),a=0,c=i.length;a<c;++a)if((s=(e=i[a])._kalast)&&o-s>=t)if(++e._kacnt>n){var u=new Error("Keepalive timeout");u.level="client-timeout",e.emit("error",u),e.disconnect(),r(i,a),--a,c=i.length}else e._kalast=o,e.ping()}}n.prototype.start=function(){this._timer&&this.stop(),this._timer=setInterval(this._timerfn,this._timerInterval)},n.prototype.stop=function(){this._timer&&(clearInterval(this._timer),this._timer=void 0)},n.prototype.add=function(e){var t=this._streams,r=this;function n(){e._kalast=Date.now(),e._kacnt=0}e.once("end",(function(){r.remove(e)})).on("packet",n),t[t.length]=e,n(),this._timer||this.start()},n.prototype.remove=function(e){var t=this._streams,n=t.indexOf(e);n>-1&&r(t,n),t.length||this.stop()},e.exports=n},function(e,t,r){var n=r(134).Writable,i=r(14),s=r(142);if("undefined"==typeof Uint8Array)var o=r(143).Uint8Array;else o=Uint8Array;function a(e,t){if(!(this instanceof a))return new a(e,t);"function"==typeof e&&(t=e,e={}),e||(e={});var r=e.encoding,i=!1;r?"u8"!==(r=String(r).toLowerCase())&&"uint8"!==r||(r="uint8array"):i=!0,n.call(this,{objectMode:!0}),this.encoding=r,this.shouldInferEncoding=i,t&&this.on("finish",(function(){t(this.getBody())})),this.body=[]}e.exports=a,i(a,n),a.prototype._write=function(e,t,r){this.body.push(e),r()},a.prototype.inferEncoding=function(e){var t=void 0===e?this.body[0]:e;return Buffer.isBuffer(t)?"buffer":"undefined"!=typeof Uint8Array&&t instanceof Uint8Array?"uint8array":Array.isArray(t)?"array":"string"==typeof t?"string":"[object Object]"===Object.prototype.toString.call(t)?"object":"buffer"},a.prototype.getBody=function(){return this.encoding||0!==this.body.length?(this.shouldInferEncoding&&(this.encoding=this.inferEncoding()),"array"===this.encoding?function(e){for(var t=[],r=0;r<e.length;r++)t.push.apply(t,e[r]);return t}(this.body):"string"===this.encoding?function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];"string"==typeof n?t.push(n):Buffer.isBuffer(n)?t.push(n):c(n)?t.push(s(n)):t.push(s(String(n)))}t=Buffer.isBuffer(e[0])?(t=Buffer.concat(t)).toString("utf8"):t.join("");return t}(this.body):"buffer"===this.encoding?function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];Buffer.isBuffer(n)?t.push(n):c(n)?t.push(s(n)):t.push(s(String(n)))}return Buffer.concat(t)}(this.body):"uint8array"===this.encoding?function(e){for(var t=0,r=0;r<e.length;r++)"string"==typeof e[r]&&(e[r]=s(e[r])),t+=e[r].length;for(var n=new o(t),i=(r=0,0);r<e.length;r++)for(var a=e[r],c=0;c<a.length;c++)n[i++]=a[c];return n}(this.body):this.body):[]};Array.isArray;function c(e){return"string"==typeof e||(t=e,/Array\]$/.test(Object.prototype.toString.call(t)))||e&&"function"==typeof e.subarray;var t}},function(e,t,r){var n=r(10);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=r(57)).Stream=n||t,t.Readable=t,t.Writable=r(61),t.Duplex=r(17),t.Transform=r(63),t.PassThrough=r(140),t.finished=r(40),t.pipeline=r(141))},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(21).Buffer,s=r(2).inspect,o=s&&s.custom||"inspect";e.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var t=e.prototype;return t.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},t.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},t.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},t.clear=function(){this.head=this.tail=null,this.length=0},t.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},t.concat=function(e){if(0===this.length)return i.alloc(0);for(var t,r,n,s=i.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=s,n=a,i.prototype.copy.call(t,r,n),a+=o.data.length,o=o.next;return s},t.consume=function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r},t.first=function(){return this.head.data},t._getString=function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?n+=i:n+=i.slice(0,e),0===(e-=s)){s===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++r}return this.length-=r,n},t._getBuffer=function(e){var t=i.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(s.copy(t,t.length-e,0,o),0===(e-=o)){o===s.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=s.slice(o));break}++n}return this.length-=n,t},t[o]=function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){n(e,t,r[t])}))}return e}({},t,{depth:0,customInspect:!1}))},e}()},function(e,t,r){"use strict";var n=new Set;e.exports.emitExperimentalWarning=process.emitWarning?function(e){if(!n.has(e)){var t=e+" is an experimental feature. This feature could change at any time";n.add(e),process.emitWarning(t,"ExperimentalWarning")}}:function(){}},function(e,t,r){e.exports=r(2).deprecate},function(e,t,r){var n=r(21),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=o),s(i,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(40),o=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),l=Symbol("handlePromise"),f=Symbol("stream");function p(e,t){return{value:e,done:t}}function d(e){var t=e[o];if(null!==t){var r=e[f].read();null!==r&&(e[h]=null,e[o]=null,e[a]=null,t(p(r,!1)))}}function g(e){process.nextTick(d,e)}var m=Object.getPrototypeOf((function(){})),_=Object.setPrototypeOf((i(n={get stream(){return this[f]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[c]?r(e[c]):t(p(void 0,!0))}))}));var r,n=this[h];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(p(void 0,!0)):t[l](r,n)}),n)}}(n,this));else{var i=this[f].read();if(null!==i)return Promise.resolve(p(i,!1));r=new Promise(this[l])}return this[h]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),m);e.exports=function(e){var t,r=Object.create(_,(i(t={},f,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,l,{value:function(e,t){var n=r[f].read();n?(r[h]=null,r[o]=null,r[a]=null,e(p(n,!1))):(r[o]=e,r[a]=t)},writable:!0}),t));return r[h]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[h]=null,r[o]=null,r[a]=null,t(e)),void(r[c]=e)}var n=r[o];null!==n&&(r[h]=null,r[o]=null,r[a]=null,n(p(void 0,!0))),r[u]=!0})),e.on("readable",g.bind(null,r)),r}},function(e,t,r){"use strict";e.exports=i;var n=r(63);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(14)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";var n;var i=r(16).codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var h,l=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var f=t.map((function(e,i){var s=i<t.length-1;return function(e,t,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(40)),n(e,{readable:t,writable:i},(function(e){if(e)return s(e);a=!0,s()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void s(t||new o("pipe"))}}(e,s,i>0,(function(e){h||(h=e),e&&f.forEach(c),s||(f.forEach(c),l(h))}))}));return t.reduce(u)}},function(e,t){var r=Object.prototype.toString,n="function"==typeof Buffer.alloc&&"function"==typeof Buffer.allocUnsafe&&"function"==typeof Buffer.from;e.exports=function(e,t,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return s=e,"ArrayBuffer"===r.call(s).slice(8,-1)?function(e,t,r){t>>>=0;var i=e.byteLength-t;if(i<0)throw new RangeError("'offset' is out of bounds");if(void 0===r)r=i;else if((r>>>=0)>i)throw new RangeError("'length' is out of bounds");return n?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}(e,t,i):"string"==typeof e?function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return n?Buffer.from(e,t):new Buffer(e,t)}(e,t):n?Buffer.from(e):new Buffer(e);var s}},function(e,t){var r,n,i,s=void 0,o=1e5,a=(r=Object.prototype.toString,n=Object.prototype.hasOwnProperty,{Class:function(e){return r.call(e).replace(/^\[object *|\]$/g,"")},HasProperty:function(e,t){return t in e},HasOwnProperty:function(e,t){return n.call(e,t)},IsCallable:function(e){return"function"==typeof e},ToInt32:function(e){return e>>0},ToUint32:function(e){return e>>>0}}),c=Math.LN2,u=Math.abs,h=Math.floor,l=Math.log,f=Math.min,p=Math.pow,d=Math.round;function g(e){if(m&&i){var t,r=m(e);for(t=0;t<r.length;t+=1)i(e,r[t],{value:e[r[t]],writable:!1,enumerable:!1,configurable:!1})}}i=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()?Object.defineProperty:function(e,t,r){if(!e===Object(e))throw new TypeError("Object.defineProperty called on non-object");return a.HasProperty(r,"get")&&Object.prototype.__defineGetter__&&Object.prototype.__defineGetter__.call(e,t,r.get),a.HasProperty(r,"set")&&Object.prototype.__defineSetter__&&Object.prototype.__defineSetter__.call(e,t,r.set),a.HasProperty(r,"value")&&(e[t]=r.value),e};var m=Object.getOwnPropertyNames||function(e){if(e!==Object(e))throw new TypeError("Object.getOwnPropertyNames called on non-object");var t,r=[];for(t in e)a.HasOwnProperty(e,t)&&r.push(t);return r};function _(e){if(i){if(e.length>o)throw new RangeError("Array too large for polyfill");var t;for(t=0;t<e.length;t+=1)r(t)}function r(t){i(e,t,{get:function(){return e._getter(t)},set:function(r){e._setter(t,r)},enumerable:!0,configurable:!1})}}function y(e,t){var r=32-t;return e<<r>>r}function v(e,t){var r=32-t;return e<<r>>>r}function E(e){return[255&e]}function w(e){return y(e[0],8)}function b(e){return[255&e]}function S(e){return v(e[0],8)}function T(e){return[(e=d(Number(e)))<0?0:e>255?255:255&e]}function A(e){return[e>>8&255,255&e]}function k(e){return y(e[0]<<8|e[1],16)}function C(e){return[e>>8&255,255&e]}function R(e){return v(e[0]<<8|e[1],16)}function O(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function x(e){return y(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function P(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function N(e){return v(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function L(e,t,r){var n,i,s,o,a,d,g,m=(1<<t-1)-1;function _(e){var t=h(e),r=e-t;return r<.5?t:r>.5?t+1:t%2?t+1:t}for(e!=e?(i=(1<<t)-1,s=p(2,r-1),n=0):e===1/0||e===-1/0?(i=(1<<t)-1,s=0,n=e<0?1:0):0===e?(i=0,s=0,n=1/e==-1/0?1:0):(n=e<0,(e=u(e))>=p(2,1-m)?(i=f(h(l(e)/c),1023),(s=_(e/p(2,i)*p(2,r)))/p(2,r)>=2&&(i+=1,s=1),i>m?(i=(1<<t)-1,s=0):(i+=m,s-=p(2,r))):(i=0,s=_(e/p(2,1-m-r)))),a=[],o=r;o;o-=1)a.push(s%2?1:0),s=h(s/2);for(o=t;o;o-=1)a.push(i%2?1:0),i=h(i/2);for(a.push(n?1:0),a.reverse(),d=a.join(""),g=[];d.length;)g.push(parseInt(d.substring(0,8),2)),d=d.substring(8);return g}function D(e,t,r){var n,i,s,o,a,c,u,h,l=[];for(n=e.length;n;n-=1)for(s=e[n-1],i=8;i;i-=1)l.push(s%2?1:0),s>>=1;return l.reverse(),o=l.join(""),a=(1<<t-1)-1,c=parseInt(o.substring(0,1),2)?-1:1,u=parseInt(o.substring(1,1+t),2),h=parseInt(o.substring(1+t),2),u===(1<<t)-1?0!==h?NaN:c*(1/0):u>0?c*p(2,u-a)*(1+h/p(2,r)):0!==h?c*p(2,-(a-1))*(h/p(2,r)):c<0?-0:0}function U(e){return D(e,11,52)}function I(e){return L(e,11,52)}function B(e){return D(e,8,23)}function M(e){return L(e,8,23)}!function(){var e=function(e){if((e=a.ToInt32(e))<0)throw new RangeError("ArrayBuffer size is not a small enough positive integer");var t;for(this.byteLength=e,this._bytes=[],this._bytes.length=e,t=0;t<this.byteLength;t+=1)this._bytes[t]=0;g(this)};t.ArrayBuffer=t.ArrayBuffer||e;var r=function(){};function n(t,n,i){var o;return(o=function(t,r,n){var i,s,c,u;if(arguments.length&&"number"!=typeof arguments[0])if("object"==typeof arguments[0]&&arguments[0].constructor===o)for(i=arguments[0],this.length=i.length,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,c=0;c<this.length;c+=1)this._setter(c,i._getter(c));else if("object"!=typeof arguments[0]||(arguments[0]instanceof e||"ArrayBuffer"===a.Class(arguments[0]))){if("object"!=typeof arguments[0]||!(arguments[0]instanceof e||"ArrayBuffer"===a.Class(arguments[0])))throw new TypeError("Unexpected argument type(s)");if(this.buffer=t,this.byteOffset=a.ToUint32(r),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteOffset%this.BYTES_PER_ELEMENT)throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");if(arguments.length<3){if(this.byteLength=this.buffer.byteLength-this.byteOffset,this.byteLength%this.BYTES_PER_ELEMENT)throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");this.length=this.byteLength/this.BYTES_PER_ELEMENT}else this.length=a.ToUint32(n),this.byteLength=this.length*this.BYTES_PER_ELEMENT;if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}else for(s=arguments[0],this.length=a.ToUint32(s.length),this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,c=0;c<this.length;c+=1)u=s[c],this._setter(c,Number(u));else{if(this.length=a.ToInt32(arguments[0]),n<0)throw new RangeError("ArrayBufferView size is not a small enough positive integer");this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0}this.constructor=o,g(this),_(this)}).prototype=new r,o.prototype.BYTES_PER_ELEMENT=t,o.prototype._pack=n,o.prototype._unpack=i,o.BYTES_PER_ELEMENT=t,o.prototype._getter=function(e){if(arguments.length<1)throw new SyntaxError("Not enough arguments");if((e=a.ToUint32(e))>=this.length)return s;var t,r,n=[];for(t=0,r=this.byteOffset+e*this.BYTES_PER_ELEMENT;t<this.BYTES_PER_ELEMENT;t+=1,r+=1)n.push(this.buffer._bytes[r]);return this._unpack(n)},o.prototype.get=o.prototype._getter,o.prototype._setter=function(e,t){if(arguments.length<2)throw new SyntaxError("Not enough arguments");if((e=a.ToUint32(e))>=this.length)return s;var r,n,i=this._pack(t);for(r=0,n=this.byteOffset+e*this.BYTES_PER_ELEMENT;r<this.BYTES_PER_ELEMENT;r+=1,n+=1)this.buffer._bytes[n]=i[r]},o.prototype.set=function(e,t){if(arguments.length<1)throw new SyntaxError("Not enough arguments");var r,n,i,s,o,c,u,h,l,f;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(r=arguments[0],(i=a.ToUint32(arguments[1]))+r.length>this.length)throw new RangeError("Offset plus length of array is out of range");if(h=this.byteOffset+i*this.BYTES_PER_ELEMENT,l=r.length*this.BYTES_PER_ELEMENT,r.buffer===this.buffer){for(f=[],o=0,c=r.byteOffset;o<l;o+=1,c+=1)f[o]=r.buffer._bytes[c];for(o=0,u=h;o<l;o+=1,u+=1)this.buffer._bytes[u]=f[o]}else for(o=0,c=r.byteOffset,u=h;o<l;o+=1,c+=1,u+=1)this.buffer._bytes[u]=r.buffer._bytes[c]}else{if("object"!=typeof arguments[0]||void 0===arguments[0].length)throw new TypeError("Unexpected argument type(s)");if(n=arguments[0],s=a.ToUint32(n.length),(i=a.ToUint32(arguments[1]))+s>this.length)throw new RangeError("Offset plus length of array is out of range");for(o=0;o<s;o+=1)c=n[o],this._setter(i+o,Number(c))}},o.prototype.subarray=function(e,t){function r(e,t,r){return e<t?t:e>r?r:e}e=a.ToInt32(e),t=a.ToInt32(t),arguments.length<1&&(e=0),arguments.length<2&&(t=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e=r(e,0,this.length);var n=(t=r(t,0,this.length))-e;return n<0&&(n=0),new this.constructor(this.buffer,this.byteOffset+e*this.BYTES_PER_ELEMENT,n)},o}var i=n(1,E,w),o=n(1,b,S),c=n(1,T,S),u=n(2,A,k),h=n(2,C,R),l=n(4,O,x),f=n(4,P,N),p=n(4,M,B),d=n(8,I,U);t.Int8Array=t.Int8Array||i,t.Uint8Array=t.Uint8Array||o,t.Uint8ClampedArray=t.Uint8ClampedArray||c,t.Int16Array=t.Int16Array||u,t.Uint16Array=t.Uint16Array||h,t.Int32Array=t.Int32Array||l,t.Uint32Array=t.Uint32Array||f,t.Float32Array=t.Float32Array||p,t.Float64Array=t.Float64Array||d}(),function(){function e(e,t){return a.IsCallable(e.get)?e.get(t):e[t]}var r,n=(r=new t.Uint16Array([4660]),18===e(new t.Uint8Array(r.buffer),0)),i=function(e,r,n){if(0===arguments.length)e=new t.ArrayBuffer(0);else if(!(e instanceof t.ArrayBuffer||"ArrayBuffer"===a.Class(e)))throw new TypeError("TypeError");if(this.buffer=e||new t.ArrayBuffer(0),this.byteOffset=a.ToUint32(r),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(arguments.length<3?this.byteLength=this.buffer.byteLength-this.byteOffset:this.byteLength=a.ToUint32(n),this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");g(this)};function s(r){return function(i,s){if((i=a.ToUint32(i))+r.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");i+=this.byteOffset;var o,c=new t.Uint8Array(this.buffer,i,r.BYTES_PER_ELEMENT),u=[];for(o=0;o<r.BYTES_PER_ELEMENT;o+=1)u.push(e(c,o));return Boolean(s)===Boolean(n)&&u.reverse(),e(new r(new t.Uint8Array(u).buffer),0)}}function o(r){return function(i,s,o){if((i=a.ToUint32(i))+r.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");var c,u=new r([s]),h=new t.Uint8Array(u.buffer),l=[];for(c=0;c<r.BYTES_PER_ELEMENT;c+=1)l.push(e(h,c));Boolean(o)===Boolean(n)&&l.reverse(),new t.Uint8Array(this.buffer,i,r.BYTES_PER_ELEMENT).set(l)}}i.prototype.getUint8=s(t.Uint8Array),i.prototype.getInt8=s(t.Int8Array),i.prototype.getUint16=s(t.Uint16Array),i.prototype.getInt16=s(t.Int16Array),i.prototype.getUint32=s(t.Uint32Array),i.prototype.getInt32=s(t.Int32Array),i.prototype.getFloat32=s(t.Float32Array),i.prototype.getFloat64=s(t.Float64Array),i.prototype.setUint8=o(t.Uint8Array),i.prototype.setInt8=o(t.Int8Array),i.prototype.setUint16=o(t.Uint16Array),i.prototype.setInt16=o(t.Int16Array),i.prototype.setUint32=o(t.Uint32Array),i.prototype.setInt32=o(t.Int32Array),i.prototype.setFloat32=o(t.Float32Array),i.prototype.setFloat64=o(t.Float64Array),t.DataView=t.DataView||i}()},function(e,t,r){e.exports=r(145)},function(e,t,r){var n=r(146);t.operation=function(e){var r=t.timeouts(e);return new n(r,{forever:e&&e.forever,unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<t.retries;i++)n.push(this.createTimeout(i,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(i,t)),n.sort((function(e,t){return e-t})),n},t.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*t.minTimeout*Math.pow(t.factor,e));return n=Math.min(n,t.maxTimeout)},t.wrap=function(e,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var i in n=[],e)"function"==typeof e[i]&&n.push(i);for(var s=0;s<n.length;s++){var o=n[s],a=e[o];e[o]=function(n){var i=t.operation(r),s=Array.prototype.slice.call(arguments,1),o=s.pop();s.push((function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),o.apply(this,arguments))})),i.attempt((function(){n.apply(e,s)}))}.bind(e,a),e[o].options=r}}},function(e,t){function r(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=r,r.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},r.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},r.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),r=this._timeouts.shift()}var n=this,i=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),r);return this._options.unref&&i.unref(),!0},r.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},r.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},r.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},r.prototype.start=r.prototype.try,r.prototype.errors=function(){return this._errors},r.prototype.attempts=function(){return this._attempts},r.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],s=i.message,o=(e[s]||0)+1;e[s]=o,o>=r&&(t=i,r=o)}return t}},function(e,t,r){"use strict";function n(e,t="sftp",r="ERR_GENERIC_CLIENT",n){let i="",s="";if("string"==typeof e)i=`${t}: ${e}`,s=r;else{switch(e.code){case"ENOTFOUND":i=`${t}: `+`${e.level} error. Address lookup failed for host ${e.hostname}`;break;case"ECONNREFUSED":i=`${t}: ${e.level} error. Remote host at `+`${e.address} refused connection`;break;case"ECONNRESET":i=`${t}: Remote host has reset the connection: ${e.message}`;break;case"ENOENT":i=`${t}: ${e.message}`;break;default:i=`${t}: ${e.message}`}s=e.code?e.code:r}n&&(i+=` after ${n} ${n>1?"attempts":"attempt"}`);let o=new Error(i);return o.code=s,o}e.exports={formatError:n,removeListeners:function(e){e.eventNames().forEach(t=>{e.removeAllListeners(t)})},makeErrorListener:function(e){return function(t){e(n(t))}},makeEndListener:function(e){return function(){e.endCalled||console.log(`${e.clientName} Connection ended unexpectedly`)}},makeCloseListener:function(e){return function(){e.endCalled||(console.log(`${e.clientName}: Connection closed unexpectedly`),e.sftp=void 0)}}}},function(e,t,r){const n=r(0),i=r(3),s=r(1),o=r(30),a=r(41),c=r(6),u=r(50),h=r(8),l=r(4),{TRANSFER_TYPES:f,CACHE_SOURCES:p}=r(5);class d extends o{constructor(e,t,r){super(e,t,r),this.mkDir=this.mkDir.bind(this),this.checkServiceRoot=this.checkServiceRoot.bind(this),this.type="File",this.writeStream=null,this.readStream=null}init(e){return super.init(e).then(this.checkServiceRoot).then(()=>this.pathCache.local.clear()).then(()=>this.pathCache.remote.clear())}checkServiceRoot(){if(i.existsSync(this.config.service.root))return!0;throw new h(l.t("service_missing_root",this.config.settingsFilename))}put(e,t){const r=s.dirname(t);return this.paths.fileExists(e)?this.transfer(f.PUT,e,n.Uri.file(t),n.Uri.file(this.config.service.root),this.config.service.collisionUploadAction).then(e=>(this.pathCache.remote.clear(r),e)):Promise.resolve(new a(e,new h(l.t("file_not_found",this.paths.getBaseName(e))),f.PUT))}get(e,t,r){const i=s.dirname(this.paths.getNormalPath(e));return t=n.Uri.file(t),r=r||this.config.service.collisionDownloadAction,this.paths.fileExists(t)?this.transfer(f.GET,t,e,this.paths.getDirName(this.config.serviceUri),r).then(e=>(this.pathCache.local.clear(i),e)):Promise.resolve(new a(t,new h(l.t("file_not_found",this.paths.getBaseName(t))),f.PUT))}transfer(e,t,r,n,i){let u=this.paths.getNormalPath(r),h=s.dirname(u),l=s.basename(u),d=this.paths.getNormalPath(n),g=e===f.PUT?p.remote:p.local;return this.setProgress(`${l}...`),this.mkDirRecursive(h,d,this.mkDir,o.pathSep).then(()=>this.getFileStats(e===f.PUT?t:r,e===f.PUT?r:t)).then(t=>super.checkCollision(e===f.PUT?t.local:t.remote,e===f.PUT?t.remote:t.local,i)).then(r=>{if(!1===r)return this.copy(t,u,e);switch(this.setCollisionOption(r),r.option){case c.collisionOpts.stop:throw c.errors.stop;case c.collisionOpts.overwrite:return this.copy(t,u,e);case c.collisionOpts.rename:return this.list(h,g).then(r=>(u=h+"/"+this.getNonCollidingName(l,r),this.transfer(e,t,u,d)));case c.collisionOpts.skip:default:return new a(t,!1,e,{srcLabel:u})}}).then(e=>(this.setProgress(!1),e)).catch(e=>{throw this.setProgress(!1),e})}stop(){return new Promise(e=>{this.readStream&&this.readStream.destroy(),this.writeStream&&(this.writeStream.end(),this.writeStream.destroy()),e()})}mkDir(e){return this.list(s.dirname(e)).then(()=>{let t=this.pathCache.remote.getFileByPath(e);return null===t?new Promise((t,r)=>{i.mkdir(e,n=>{n&&r(n),this.pathCache.remote.addFilePath(e,(new Date).getTime()/1e3,"d"),t()})}):"f"===t.type?Promise.reject(new h(l.t("directory_not_created_remote_mismatch",e))):void 0})}list(e,t=p.remote){return this.paths.listDirectory(e,this.pathCache[t])}listRecursiveFiles(e,t){return this.paths.getDirectoryContentsAsFiles(n.Uri.file(e),t)}getFileStats(e,t){const r=this.paths.getNormalPath(t),n=s.dirname(r);return this.list(n,p.remote).then(()=>({remote:this.pathCache.remote.getFileByPath(r)})).then(t=>new Promise(r=>{this.paths.getFileStats(this.paths.getNormalPath(e)).then(e=>{r(Object.assign(t,{local:e}))})}))}copy(e,t,r){return new Promise((s,o)=>{let l=!1;function f(t){l=!0,this.stop().then(()=>s(new a(e,new h(t.message),r)))}c.trace("File#copy",t),this.writeStream=i.createWriteStream(t),this.writeStream.on("error",f.bind(this)),this.writeStream.on("finish",()=>{l||s(new a(e,!0,r,{srcLabel:t}))}),e instanceof n.Uri||"string"==typeof e?(this.readStream=i.createReadStream(this.paths.getNormalPath(e)),this.readStream.on("error",f.bind(this)),this.readStream.pipe(this.writeStream)):e instanceof u?(this.readStream=e.read,this.readStream.on("error",f.bind(this)),this.readStream.pipe(this.writeStream)):o(new Error("Source src argument is neither a readable stream or a filename."))})}convertUriToRemote(e){let t,r=this.paths.getNormalPath(e);return t=this.paths.stripTrailingSlash(this.config.service.root)+c.filePathReplace(r,s.dirname(this.config.serviceFile),""),t}convertRemoteToUri(e){return this.paths.join(s.dirname(this.config.serviceFile),c.filePathReplace(e,this.paths.stripTrailingSlash(this.config.service.root)+s.sep,""))}}d.description=l.t("file_class_description"),d.defaults={root:"/"},d.required={root:!0},e.exports=d},function(e,t,r){const n=r(0),i=r(3),s=r(12),o=r(75),a=r(31),c=r(24),u=r(64),h=r(150),l=r(9),f=r(8),p=r(7),d=r(6),g=r(4),m=r(5);e.exports=class extends c{constructor(e){super(),this.setOptions(e),this.settingsCache={},this.paths=new p}setOptions(e){this.options=Object.assign({},{serviceList:[],onServiceFileUpdate:null},e)}clear(e){let t=this.paths.getNormalPath(e);t&&this.settingsCache[t]?this.settingsCache[t]:this.settingsCache={}}importConfig(e){let t,i,s,o,a=this.config.settingsFilename;for(t in e=this.paths.getFileSrc(e),(i=this.paths.getBaseName(e))||l.appendLocalisedError("no_import_file"),m.CONFIG_FORMATS)if(m.CONFIG_FORMATS[t].test(i))return t=r(151)(`./${t}`),s=new t,s.import(e).then(t=>(o=t,this.getFileNamePrompt(a,[{uri:this.paths.getDirName(e)}],!0,!1))).then(e=>e.exists?n.window.showInformationMessage(g.t("settings_file_exists"),{title:g.t("overwrite")},{isCloseAffordance:!0,title:g.t("cancel")}).then(t=>({uri:e.uri,write:t.title===g.t("overwrite")})):{uri:e.uri,write:!0}).then(t=>{t.write&&this.paths.writeAndOpen("// "+g.t("comm_settings_imported",this.paths.getNormalPath(e))+JSON.stringify(o,null,"\t"),t.uri)}).catch(e=>{l.appendError(e)});l.appendLocalisedError("import_file_not_supported")}editServiceConfig(e,t){return new Promise((r,n)=>{let i,s;e=this.paths.getFileSrc(e),i=this.paths.getDirName(e,!0),s=this.paths.findFileInAncestors(this.config.settingsFileGlob,i),s&&!t?d.openDoc(s).then(r,n):this.getFileNamePrompt(this.config.settingsFilename,[{uri:i}]).then(e=>e.exists?d.openDoc(e.uri):this.paths.writeAndOpen(this.createServerFileContents(e.serviceType),e.uri)).then(r,n)})}createServerFileContents(e){let t,r,n,i,s,o,a,c;if(!(e instanceof u))throw new Error("serviceType argument is not an instance of ServiceType");return"Empty"!==e.label&&(r=JSON.stringify(e.settingsPayload,null,"\t"),n=r.split("\n"),i=Object.keys(e.settingsPayload.default.options),s=Object.keys(e.requiredOptions),o={indents:/\t/g,indentedLine:/^([\t]+)(.*)$/,optionItem:/^([\t]*)(\s*"(.+?)":\s[^$]*)/,optionCloser:/\t{3,}(]|})/},a=c={line:"",indentLevel:0,inOption:!1,optionCommented:!1,inCommentedOption:!1},n=n.map(e=>{let t=e.match(o.optionItem);return a.line=e,a.indentLevel=(e.match(o.indents)||[]).length,a.inOption=a.indentLevel>=4,a.optionCommented=!1,a.inCommentedOption=a.inOption&&c.inCommentedOption||c.inCommentedOption&&o.optionCloser.test(e),(3===a.indentLevel&&null!==t&&-1!==i.indexOf(t[3])&&-1===s.indexOf(t[3])||a.inCommentedOption)&&(e=e.replace(o.indentedLine,"$1// $2"),a.optionCommented=!0,a.inCommentedOption=!0),c=Object.assign({},a),e})),t="// "+g.t("comm_push_settings1",(new Date).toString())+"\n// "+g.t("comm_push_settings2")+"\n// "+g.t("comm_push_settings3")+"\n"+(r&&n.join("\n")||m.DEFAULT_SERVICE_CONFIG.replace("{{PLACACEHOLDER_EMPTY_CONFIG}}",g.t("comm_add_service_config"))),t}getServerFile(e,t){let r,n=this.paths.findFileInAncestors(t,e,this.config.limitServiceTraversal);return null!==n&&this.paths.fileExists(n)?(r=this.paths.getNormalPath(n),d.trace("ServiceSettings#getServerFile",`Service file found at ${r}`),{uri:n,contents:i.readFileSync(r,"utf8").toString().trim()}):null}isSettingsFile(e){return a.isMatch(this.paths.getBaseName(e),this.config.settingsFileGlob,{basename:!0})}getServerJSON(e,t,r=!1,n=!1){let i,a,c,u,h;if(i=this.paths.isDirectory(e)?this.paths.getNormalPath(e):this.paths.getNormalPath(this.paths.getDirName(e)),!n&&(a=this.getCachedSetting(i)))return d.trace("ServiceSettings#getServerJSON",`Using cached settings for ${i}`),a;if(a=this.getServerFile(e,t))try{return c=this.normalise(o.parse(a.contents),a.uri),u=s.createHash("sha256"),u.update(a.file+"\n"+a.contents),h=u.digest("hex"),this.addCachedSetting(i,Object.assign({},a,{data:c,hash:h}))}catch(e){return r||l.appendError(e.message),null}return r||l.appendLocalisedError("no_service_file",t),null}getCachedSetting(e){return!!this.settingsCache[e]&&(this.settingsCache[e].newFile=!1,this.settingsCache[e])}addCachedSetting(e,t){return this.settingsCache[e]=t,this.settingsCache[e].newFile=!0,this.settingsCache[e]}mergeWithServiceSettings(e,t,r={}){const n=this.getServerJSON(e,t);let i=Object.assign({},r);return!!n&&(i.env=n.data.env,i.serviceName=n.data.service,i.service=n.data[i.serviceName],i.serviceFile=this.paths.getNormalPath(n.uri),i.serviceUri=n.uri,i.serviceSettingsHash=n.hash,i.service&&i.service.root&&(i.service.root=i.service.root.replace(/%([^%]+)%/g,(function(e,t){return process.env[t]||e}))),i)}setConfigEnv(e,t){return new Promise((r,s)=>{let a,c,u;return e=this.paths.getDirName(e,!0),(c=this.getServerFile(e,t))?(u=o.parse(c.contents),u.env?(a=Object.keys(u).filter(e=>"env"!==e).map(e=>({label:e,description:e===u.env?"(selected)":"",detail:this.getServerEnvDetail(u,e)})),a.length?1===a.length?(l.appendLocalisedError("single_env",this.paths.getNormalPath(c.uri),a[0].label),s()):void n.window.showQuickPick(a,{placeHolder:g.t("select_env")}).then(e=>{if(void 0!==e&&""!==e.label)try{c.newContents=o.applyEdits(c.contents,o.modify(c.contents,["env"],e.label,{formattingOptions:{tabSize:4}})),i.writeFileSync(this.paths.getNormalPath(c.uri),c.newContents,"UTF-8"),this.clear(c.uri),this.options.onServiceFileUpdate&&this.options.onServiceFileUpdate(c.uri),r()}catch(e){throw new f(g.t("error_writing_json",e&&e.message||g.t("no_error")))}}):(l.appendLocalisedError("no_service_env",c.file),s())):(l.appendLocalisedError("no_service_env",c.file),s())):(l.appendLocalisedError("no_service_file",t),s())})}getServerEnvDetail(e,t){switch(e[t].service){case"SFTP":return e[t].options&&(e[t].options.host?e[t].options.host+(e[t].options.port?":"+e[t].options.port:""):g.t("no_host_defined"))||"";case"File":return e[t].options&&e[t].options.root||""}}getFileNamePrompt(e,t,r=!1,i=!0){return new Promise((s,o)=>{d.getRootPathPrompt(t).then(t=>{let a;return t?(a=this.paths.join(t,e),this.paths.fileExists(a)&&!r?s(new h(a)):void n.window.showInputBox({prompt:g.t("enter_service_settings_filename"),value:a.fsPath}).then(e=>{let t=n.Uri.file(e);return t?i?n.window.showQuickPick([new u(g.t("empty"),g.t("empty_template"))].concat(this.options.serviceList),{placeHolder:g.t("select_service_type_template")}).then(e=>{if(!e)return o();s(new h(t,e))}):s(new h(t)):o()})):o()}).catch(o)})}normalise(e,t){let r,n;if(!e.service){if(!e.env)throw new f(g.t("service_not_defined",this.paths.getNormalPath(t)));if(!(r=e[e.env]))throw new f(g.t("active_service_not_found",e.env,this.paths.getNormalPath(t)));for(n in e.service=r.service,e[e.service]=r.options,e)e.hasOwnProperty(n)&&"service"!==n&&n!==e.service&&"env"!==n&&delete e[n]}if(!e[e.service])throw new f(g.t("service_defined_but_no_config_exists",this.paths.getNormalPath(t)));return e}}},function(e,t,r){const n=new(r(7));e.exports=class{constructor(e,t=null){this.uri=e,this.serviceType=t,this.exists=n.fileExists(e)}}},function(e,t,r){var n={"./SSFTP":65,"./SSFTP.js":65};function i(e){var t=s(e);return r(t)}function s(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id=151},function(e,t,r){const n=r(75),i=r(7);e.exports=class{constructor(){this.paths=new i}loadFile(e){return this.paths.readFile(e)}parseJSON(e){return n.parse(e)}addArrayData(e,t,r){return e[t]||(e[t]=[]),e[t].push(r),e}}},function(e,t){e.exports=class{constructor(e=5){this._lastRun={time:0},this.historySize=e,this.runTimes=[]}add(e){return this._lastRun={time:Date.now(),message:e},this.runTimes.unshift(this._lastRun),this.runTimes.splice(this.historySize),!0}runWithin(e,t){return void 0===t&&(t=Date.now()),this._lastRun.time>t-1e3*e}age(){return this._lastRun.time?(Date.now()-this._lastRun.time)/1e3:0}hasRunOnce(){return this._lastRun.time>0}lastRun(){return this._lastRun.time}lastMessage(){return this._lastRun.message}}},function(e,t,r){const n=r(0),i=r(68),s=r(69);e.exports=class extends s{constructor(){super(),this.getChildren=this.getChildren.bind(this)}getChildren(){return this.data&&this.data.length?Promise.resolve(this.data.map(e=>{let t=this.paths.isDirectory(e.uri);return new i(this.paths.getPathWithoutWorkspace(e.uri,n.workspace),n.TreeItemCollapsibleState.None,{icon:e.watcher?t?"kebab-horizontal":"dot":"empty",contextValue:t?"watch:folder":"watch:file",resourceUri:e.uri})})):Promise.resolve([])}}},function(e,t,r){const n=r(0),i=r(68),s=r(69);e.exports=class extends s{constructor(){super(),this.getChildren=this.getChildren.bind(this)}getChildren(){return this.data&&this.data.upload?Promise.resolve(this.data.upload.tasks.map(e=>{if(e.id&&e.data.uriContext)return new i(this.paths.getPathWithoutWorkspace(e.data.uriContext,n.workspace),n.TreeItemCollapsibleState.None,{icon:"file",resourceUri:e.data.uriContext,contextValue:"uploadQueue:file",command:{command:"vscode.open",arguments:[e.data.uriContext]}})})):Promise.resolve([])}}},function(e,t,r){const n=r(0),i=r(157),s=r(6),o=r(18),a=r(9),c=r(41),u=r(4),{STATUS_PRIORITIES:h,QUEUE_LOG_TYPES:l}=r(5);class f{constructor(e,t){this.id=e,this.running=!1,this._tasks=[],this.currentTask=null,this.progressInterval=null,this.addedTaskLength=0,this.setOptions(t),this.status=n.window.createStatusBarItem(n.StatusBarAlignment.Left,h.UPLOAD_QUEUE),"string"==typeof this.options.statusCommand&&(this.status.command=this.options.statusCommand),this.execProgressReject=null}get tasks(){return this._tasks}setOptions(e){this.options=Object.assign({},{showStatus:!1,statusIcon:"repo-push",statusToolTip:null,statusCommand:null,emptyOnFail:!0},e)}addTask(e){if(!(e instanceof i))throw new TypeError("Queue task is not of type Task");this.getTask(e.id)||(this._tasks.push(e),this._taskLength=this._tasks.length),this._updateStatus()}addTasks(e){0!==e.length&&(this._tasks=this._tasks.concat(e),this._updateStatus())}getTaskByUri(e){return this._tasks.find(t=>t.data.uriContext&&t.data.uriContext.path===e.path)}hasTaskByUri(e){return-1!=this._tasks.findIndex(t=>t.data.uriContext&&t.data.uriContext.path===e.path)}removeTask(e){let t=this._tasks.findIndex(t=>t.id===e);return-1!==t&&(this._tasks.splice(t,1),this._updateStatus(),!0)}removeTaskByUri(e){let t;(t=this.getTaskByUri(e))&&this.removeTask(t.id)}getTask(e){return this._tasks.find(t=>void 0!==t.id&&t.id===e)}exec(e){let t;return this.running?Promise.reject(u.t("queue_running")):(s.trace("Queue#exec","Queue start",!0),this._setContext(f.contexts.running,!0),this._tasks&&this._tasks.length>1?(a.appendLine(u.t("running_tasks_in_queue",this._tasks.length-1)),this._initQueueResults(),n.window.withProgress({location:n.ProgressLocation.Window,title:"Push"},r=>new Promise((n,i)=>{let s,o,a;this.execProgressReject=i,r.report({message:u.t("processing")}),this.progressInterval=setInterval(()=>{"function"==typeof e&&(o=e()),a=this.addedTaskLength-this._tasks.length+1,s=`${o}${a}${this.addedTaskLength}`,s!==t&&("string"==typeof o?r.report({message:u.t("processing_with_state",o,a,this.addedTaskLength)}):r.report({message:u.t("processing",a,this.addedTaskLength)})),t=s},10),this.execQueueItems(e=>{clearInterval(this.progressInterval),this._updateStatus(!1),n(e)})}))):Promise.reject(u.t("queue_empty")))}execQueueItems(e){let t;this._tasks.length?(this.running=!0,t=this._tasks[0],s.trace("Queue#execQueueItems",`Invoking task 0 of ${this._tasks.length} task(s)`),this.currentTask=t.fn().then(r=>{this.currentTask=null,r instanceof c&&a.appendTransferResult(r),t.data.actionTaken&&(r instanceof c?this.logQueueResult(r.logType,t.data.actionTaken,r):this.logQueueResult(!1!==r?l.success:l.fail,t.data.actionTaken,r)),this.loop(e)}).catch(t=>{throw this.currentTask=null,a.appendError(t),a.show(),this.stop(!0,this.options.emptyOnFail).then(()=>this.complete()).then(e),t})):(this.complete().then(e),this.reportQueueResults())}loop(e){this._tasks.shift(),this.execQueueItems(e)}stop(e=!1,t=!0,r=!1){return this.running&&(s.trace("Queue#stop",`Stopping queue (silent: ${e}, clear: ${t})`),e||a.appendInfo(u.t("stopping_queue")),t&&(s.trace("Queue#stop","Emptying tasks"),this.empty()),this.progressInterval&&(s.trace("Queue#stop","Stopping progress monitor timer"),clearInterval(this.progressInterval)),this.execProgressReject&&(s.trace("Queue#stop","Rejecting global progress promise"),this.execProgressReject())),r?this.complete():this.currentTask&&this.currentTask instanceof Promise?(s.trace("Queue#stop","Returning current task promise"),this.currentTask):(s.trace("Queue#stop","Returning immediately resolving promise"),Promise.resolve())}complete(){return new Promise(e=>{s.trace("Queue#complete","Queue completion"),this.running=!1,this._setContext(f.contexts.running,!1),e(this.results)})}empty(){return!!this._tasks.length&&(this._tasks=[],this._updateStatus(),!0)}_initQueueResults(){this.results={[l.success]:{},[l.fail]:{},[l.skip]:{}}}logQueueResult(e,t,r){this.results[e][t]||(this.results[e][t]=[]),this.results[e][t].push(r||null)}reportQueueResults(){let e,t,r=[u.t("queue_complete")];for(t in l)for(e in this.results[l[t]])r.push(u.t("queue_items_"+t,this.results[l[t]][e].length,e));Object.keys(this.results[l.fail]).length?(s.showWarning(r.join(" ")),a.show(!0)):"status"===o.get("queueCompleteMessageType")?s.showStatusMessage("$(issue-closed) "+r.join(" "),2):s.showMessage(r.join(" "))}_updateStatus(e=!0){let t=this._tasks.filter(e=>e.id);this._setContext(f.contexts.itemCount,t.length),t.length&&this.options.showStatus?(this.status.text=`$(${this.options.statusIcon}) ${t.length}`,"function"==typeof this.options.statusToolTip&&(this.status.tooltip=this.options.statusToolTip(t.length)),this.status.show()):this.status.hide(),e&&(this.addedTaskLength=t.length)}_setContext(e,t){return n.commands.executeCommand("setContext",`push:queue-${this.id}-${e}`,t),this}}f.contexts={itemCount:"itemCount",running:"running"},f.Task=i,e.exports=f},function(e,t,r){const n=r(12);class i{constructor(e,t,r){this._id={id:t},this._data=r||{uriContext:null},this._fn=e}get id(){return void 0===this._id.hash&&(this._id.hash=this._generateId(this._id.id)),this._id.hash}get data(){return this._data}set data(e){this._data=Object.assign({},this._data,e)}get fn(){return this._fn}_generateId(e){let t;return void 0!==e&&e?(t=n.createHash("sha256"),t.update(e),t.digest("hex")):null}}i.anonPrefix="anonymous-",e.exports=i},function(e,t,r){const n=r(0),i=r(159),s=r(24),o=r(7),a=r(9),c=r(5),u=r(6),h=r(4);class l extends s{constructor(e){super(),this.watchByWorkspaceFolders=this.recallByWorkspaceFolders.bind(this),this.watchList=[],this.paths=new o,this.stateStorage=e,n.workspace.onDidChangeWorkspaceFolders(e=>{this.recallByWorkspaceFolders(e.added,e.removed)}),this.onWatchUpdate=null,this.onChange=null,this.status=n.window.createStatusBarItem(n.StatusBarAlignment.Left,c.STATUS_PRIORITIES.WATCH),this.status.command="push.listWatchers"}onDidChangeConfiguration(e,t){e.persistWatchers&&!t.persistWatchers&&this.watchList.forEach(e=>{this.setInWatchStore(e.uri,!0,!!e.watcher)})}recallByWorkspaceFolders(){let e=this.stateStorage.get(l.constants.WATCH_STORE,[]),t=[...arguments||[]];this.config.persistWatchers&&["add","remove"].forEach((r,i)=>{t[i]&&t[i].forEach(t=>{e.filter(e=>this.paths.pathInUri(n.Uri.file(e.path),t.uri)).forEach(e=>this[r].apply(this,[n.Uri.file(e.path),e.enabled]))})})}setInWatchStore(e,t,r=!0){let n,i,s;this.config.persistWatchers&&(n=this.stateStorage.get(l.constants.WATCH_STORE,[]),i=this.paths.getNormalPath(e),s=n.findIndex(e=>e.path===i),t?(-1!==s?(n[s].date=Date.now(),n[s].enabled=r):n.unshift({path:this.paths.getNormalPath(e),date:Date.now(),enabled:r}),n.length>l.constants.WATCH_STORE_MAXLEN&&(u.trace("Watch#setInWatchStore",`Watch list trunacated (${n.length})...`),n.sort((e,t)=>t.date-e.date),n.splice(l.constants.WATCH_STORE_MAXLEN))):-1!==s&&n.splice(s,1),this.stateStorage.update(l.constants.WATCH_STORE,n))}add(e,t=!0){return new Promise(r=>{let n;-1===(n=this.find(e))?this.watchList.push(this._createWatch(e,t)):this.watchList[n].initWatcher(),this.setInWatchStore(e,!0),a.appendLocalisedInfo("added_watch_for",this.paths.getNormalPath(e)),this._updateStatus(),r()})}remove(e){return new Promise(t=>{let r;-1!==(r=this.find(e))&&(this.watchList[r].removeWatcher(),this.watchList.splice(r,1),a.appendLocalisedInfo("removed_watch_for",this.paths.getNormalPath(e))),this.setInWatchStore(e,!1),this._updateStatus(),t()})}find(e){let t=this.paths.getNormalPath(e);return this.watchList.findIndex(e=>e.path===t)}toggle(e){this.watchList.forEach(t=>{e?t.initWatcher():t.removeWatcher(),this.setInWatchStore(t.uri,!0,e)}),this._updateStatus()}clear(){this.watchList.forEach(e=>this.remove(e.uri)),this.watchList=[],a.appendLocalisedInfo("cleared_all_watchers"),this._updateStatus()}purge(){this.clear(),this.stateStorage.update(l.constants.WATCH_STORE,[]),a.appendLocalisedInfo("purged_all_watchers")}list(){this.watchList.length?(a.appendLocalisedInfo("watched_paths"),this.watchList.forEach(e=>{a.appendLine(h.t("path_with_trigger_count",e.path,e.data.triggers))}),a.appendLine("")):a.appendLocalisedInfo("no_paths_watched"),a.show()}_createWatch(e,t){return new i(e,this.onChange,t)}_updateStatus(){let e=this.watchList.filter(e=>e.watcher);e.length?(this.status.text=`$(radio-tower) ${e.length}`,this.status.show()):this.status.hide(),this._setContext(l.contexts.hasWatchers,!!this.watchList.length)._setContext(l.contexts.hasRunningWatchers,e.length>0)._setContext(l.contexts.hasStoppedWatchers,this.watchList.length>0&&e.length<this.watchList.length),"function"==typeof this.onWatchUpdate&&this.onWatchUpdate(this.watchList)}_setContext(e,t){return n.commands.executeCommand("setContext",`push:${e}`,t),this}}l.constants={WATCH_STORE:"Watch:watchList",WATCH_STORE_MAXLEN:50},l.contexts={hasRunningWatchers:"hasRunningWatchers",hasStoppedWatchers:"hasStoppedWatchers",hasWatchers:"hasWatchers"},e.exports=l},function(e,t,r){const n=r(0),i=new(r(7)),s=function(e,t,r=!0){this.uri=e,this.path=i.getNormalPath(e),this.glob=this._createWatchGlob(e),this.data={triggers:0},this.callback=t,r&&this.initWatcher()};s.prototype.initWatcher=function(){this.watcher=n.workspace.createFileSystemWatcher(new n.RelativePattern(n.workspace.getWorkspaceFolder(this.uri),this.glob),!1,!1,!0),this.watcher.onDidChange(this._watcherChangeApplied.bind(this)),this.watcher.onDidCreate(this._watcherChangeApplied.bind(this))},s.prototype._watcherChangeApplied=function(e){this.data.triggers+=1,this.callback(e)},s.prototype.removeWatcher=function(){this.watcher&&(this.watcher.dispose(),this.watcher=null)},s.prototype._createWatchGlob=function(e){return i.isDirectory(e)?i.ensureGlobPath(i.stripTrailingSlash(i.getPathWithoutWorkspace(e,n.workspace))+"/**/*"):i.ensureGlobPath(i.getPathWithoutWorkspace(e,n.workspace))},e.exports=s},function(e,t,r){const n=r(0),i=r(9),s=r(7),o=r(4);class a{constructor(){this.paths=new s,this._provider={id:null,dir:null,instance:null}}getProvider(e,t){if(this._provider.id===e&&this._provider.dir===t&&null!==this._provider.instance)return this._provider;switch(this._provider={id:e,dir:t},this._provider.id){case a.providers.git:this._provider.instance=r(161)(this._provider.dir)}return this._provider}exec(e,t,r){return r=r&&"_"+r||null,e=this.getProvider(e,t),r&&this[r]?new Promise((n,i)=>{let s=this[r].apply(this,[e,t,[...arguments].slice(3)]);s instanceof Promise?s.then(n).catch(r=>{this._appendChannelMessage("error",e,r,t),i(r)}):n(s)}):Promise.reject(new Error(`Unknown method ${r}`))}_listWorkingUris(e,t){return new Promise((r,n)=>{let i;switch(e.id){case a.providers.git:e.instance.cwd(t),e.instance.status((e,s)=>{if(e)return n(e);i=this._urisFromGitStatus(t,s),r(i)});break;default:n(new Error("Unknown provider."))}})}_listCommits(e,t,r=20,n=10){return new Promise((s,c)=>{switch(e.id){case a.providers.git:e.instance.cwd(t),e.instance.log([`-${r}`],(e,t)=>e?c(e):t&&t.all?s(t.all.map(e=>{let t=e.hash.substring(0,n-1),r=new Date(e.date);return{label:t+" "+e.message,detail:`${e.author_name} <${e.author_email}>`+` (${o.moment().calendar(r)})`,shortCommit:t,baseOption:e.hash}})):(i.appendLocalisedError("no_commits_for_queue"),c()));break;default:c(new Error("Unknown provider."))}})}_urisFromCommit(e,t,r){return new Promise((n,i)=>{switch(e.id){case a.providers.git:e.instance.cwd(t),e.instance.raw(["diff-tree","--no-commit-id","--name-only","-r","--diff-filter=AMRd","-m",r],(e,r)=>{let s=[];if(e)return i(e);r&&(r=r.trim().split("\n"))&&(r.forEach(e=>{let r=this.paths.join(t,this._cleanGitPath(e));if(this.paths.fileExists(r))return s.push(r)}),n(s))});break;default:i(new Error("Unknown provider."))}})}_urisFromGitStatus(e,t){let r=[];return t.files.forEach(t=>{if("D"===t.working_dir)return!1;t.uri=n.Uri.file(this.paths.addTrailingSlash(e)+this._cleanGitPath(t.path)),r.push(t.uri)}),r}_cleanGitPath(e){return e=(e=e.replace(/^"(.*)"$/,"$1")).replace(/\\(?=["'\s])/g,"")}_appendChannelMessage(e,t,r){let n,s=this._getStringSet(t.id);if(s)for(n in e=e.charAt(0).toUpperCase()+e.slice(1),s.strings)if(r.includes(s.strings[n]))return i[`appendLocalised${e}`].apply(i,[n,[...arguments].slice(3)]);i[`append${e}`].apply(i,[r,[...arguments].slice(3)])}_getStringSet(e){return a.errorStrings.find(t=>t.provider===e)}}a.providers={git:0},a.errorStrings=[{provider:a.providers.git,strings:{not_a_git_repo:"fatal: Not a git repository"}}],e.exports=a},function(e,t,r){var n=r(162);e.exports=function(e){var t=r(181);if(e&&!t.exists(e,t.exists.FOLDER))throw new Error("Cannot use simple-git on a directory that does not exist.");return new n(e||process.cwd(),t.childProcess(),t.buffer())}},function(e,t,r){!function(){"use strict";var t=r(163)("simple-git"),n=r(170),i=r(71),s=function(){},o=r(171);function a(e,t,r){this._baseDir=e,this._runCache=[],this.ChildProcess=t,this.Buffer=r}function c(e){return o[e]}a.prototype._command="git",a.prototype._env=null,a.prototype._outputHandler=null,a.prototype._silentLogging=/prod/.test("production"),a.prototype.customBinary=function(e){return this._command=e,this},a.prototype.env=function(e,t){return 1===arguments.length&&"object"==typeof e?this._env=e:(this._env=this._env||{})[e]=t,this},a.prototype.cwd=function(e,t){var r=this,n=a.trailingFunctionArgument(arguments);return this.exec((function(){r._baseDir=e,i(e,i.FOLDER)?n&&n(null,e):a.exception(r,'Git.cwd: cannot change to non-directory "'+e+'"',n)}))},a.prototype.outputHandler=function(e){return this._outputHandler=e,this},a.prototype.init=function(e,t){var r=["init"],n=a.trailingFunctionArgument(arguments);return!0===e&&r.push("--bare"),this._run(r,(function(e){n&&n(e)}))},a.prototype.status=function(e){return this._run(["status","--porcelain","-b","-u"],a._responseHandler(e,"StatusSummary"))},a.prototype.stashList=function(e,t){var r=a.trailingFunctionArgument(arguments),n=(r===t?e:null)||{},i=n.splitter||c("ListLogSummary").SPLITTER,s=["stash","list","--pretty=format:"+c("ListLogSummary").START_BOUNDARY+"%H %ai %s%d %aN %ae".replace(/\s+/g,i)+c("ListLogSummary").COMMIT_BOUNDARY];return Array.isArray(n)&&(s=s.concat(n)),this._run(s,a._responseHandler(r,"ListLogSummary",i))},a.prototype.stash=function(e,t){var r=["stash"];return a._appendOptions(r,a.trailingOptionsArgument(arguments)),r.push.apply(r,a.trailingArrayArgument(arguments)),this._run(r,a._responseHandler(a.trailingFunctionArgument(arguments)))},a.prototype.clone=function(e,t,r,n){for(var i=a.trailingFunctionArgument(arguments),s=["clone"].concat(a.trailingArrayArgument(arguments)),o=0,c=arguments.length;o<c;o++)"string"==typeof arguments[o]&&s.push(arguments[o]);return this._run(s,(function(e,t){i&&i(e,t)}))},a.prototype.mirror=function(e,t,r){return this.clone(e,t,["--mirror"],r)},a.prototype.mv=function(e,t,r){var n=a.trailingFunctionArgument(arguments),i=[].concat(e);i.unshift("mv","-v"),i.push(t),this._run(i,a._responseHandler(n,"MoveSummary"))},a.prototype.checkoutLatestTag=function(e){var t=this;return this.pull((function(){t.tags((function(r,n){t.checkout(n.latest,e)}))}))},a.prototype.add=function(e,t){return this._run(["add"].concat(e),(function(e,r){t&&t(e)}))},a.prototype.commit=function(e,t,r,n){var i=a.trailingFunctionArgument(arguments),s=["commit"];return[].concat(e).forEach((function(e){s.push("-m",e)})),[].push.apply(s,[].concat("string"==typeof t||Array.isArray(t)?t:[])),a._appendOptions(s,a.trailingOptionsArgument(arguments)),this._run(s,a._responseHandler(i,"CommitSummary"))},a.prototype._getLog=function(e,t){var r=this._silentLogging?s:console[e].bind(console);return arguments.length>1&&r(t),r},a.prototype.pull=function(e,t,r,n){var i=["pull"],s=a.trailingFunctionArgument(arguments);return"string"==typeof e&&"string"==typeof t&&i.push(e,t),a._appendOptions(i,a.trailingOptionsArgument(arguments)),this._run(i,a._responseHandler(s,"PullSummary"))},a.prototype.fetch=function(e,t,r){var n=["fetch"],i=a.trailingFunctionArgument(arguments);return a._appendOptions(n,a.trailingOptionsArgument(arguments)),"string"==typeof e&&"string"==typeof t&&n.push(e,t),Array.isArray(e)&&(n=n.concat(e)),this._run(n,a._responseHandler(i,"FetchSummary"),{concatStdErr:!0})},a.prototype.silent=function(e){return this._silentLogging=!!e,this},a.prototype.tags=function(e,t){var r=a.trailingFunctionArgument(arguments),n=["-l"];a._appendOptions(n,a.trailingOptionsArgument(arguments));var i=n.some((function(e){return/^--sort=/.test(e)}));return this.tag(n,a._responseHandler(r,"TagList",[i]))},a.prototype.rebase=function(e,t){var r=["rebase"];return a._appendOptions(r,a.trailingOptionsArgument(arguments)),r.push.apply(r,a.trailingArrayArgument(arguments)),this._run(r,a._responseHandler(a.trailingFunctionArgument(arguments)))},a.prototype.reset=function(e,t){var r=["reset"],n=a.trailingFunctionArgument(arguments);if(n!==e&&"string"!=typeof e&&e)Array.isArray(e)&&r.push.apply(r,e);else{var i=["mixed","soft","hard"].includes(e)?e:"soft";r.push("--"+i)}return this._run(r,(function(e){n&&n(e||null)}))},a.prototype.revert=function(e,t,r){var n=a.trailingFunctionArgument(arguments),i=["revert"];return a._appendOptions(i,a.trailingOptionsArgument(arguments)),"string"!=typeof e?this.exec((function(){n&&n(new TypeError("Commit must be a string"))})):(i.push(e),this._run(i,(function(e){n&&n(e||null)})))},a.prototype.addTag=function(e,t){return"string"!=typeof e?this.exec((function(){t&&t(new TypeError("Git.addTag requires a tag name"))})):this.tag([e],t)},a.prototype.addAnnotatedTag=function(e,t,r){return this.tag(["-a","-m",t,e],(function(e){r&&r(e)}))},a.prototype.checkout=function(e,t){var r=["checkout"];return r=r.concat(e),this._run(r,(function(e,r){t&&t(e,!e&&this._parseCheckout(r))}))},a.prototype.checkoutBranch=function(e,t,r){return this.checkout(["-b",e,t],r)},a.prototype.checkoutLocalBranch=function(e,t){return this.checkout(["-b",e],t)},a.prototype.deleteLocalBranch=function(e,t){return this.branch(["-d",e],t)},a.prototype.branch=function(e,t){var r,n,i=a.trailingFunctionArgument(arguments),s=["branch"];return s.push.apply(s,a.trailingArrayArgument(arguments)),a._appendOptions(s,a.trailingOptionsArgument(arguments)),arguments.length&&i!==e||s.push("-a"),r=["-d","-D","--delete"].reduce((function(e,t){return e||s.indexOf(t)>0}),!1),s.indexOf("-v")<0&&s.splice(1,0,"-v"),n=r?a._responseHandler(i,"BranchDeleteSummary",!1):a._responseHandler(i,"BranchSummary"),this._run(s,n)},a.prototype.branchLocal=function(e){return this.branch(["-v"],e)},a.prototype.addConfig=function(e,t,r){return this._run(["config","--local",e,t],(function(e,t){r&&r(e,!e&&t)}))},a.prototype.raw=function(e,t){var r=[];Array.isArray(e)?r=e.slice(0):a._appendOptions(r,a.trailingOptionsArgument(arguments));var n=a.trailingFunctionArgument(arguments);return r.length?this._run(r,(function(e,t){n&&n(e,!e&&t||null)})):this.exec((function(){n&&n(new Error("Raw: must supply one or more command to execute"),null)}))},a.prototype.submoduleAdd=function(e,t,r){return this._run(["submodule","add",e,t],(function(e){r&&r(e)}))},a.prototype.submoduleUpdate=function(e,t){"string"==typeof e&&this._getLog("warn","Git#submoduleUpdate: args should be supplied as an array of individual arguments");var r=a.trailingFunctionArgument(arguments),n=e!==r?e:[];return this.subModule(["update"].concat(n),(function(e,t){r&&r(e,t)}))},a.prototype.submoduleInit=function(e,t){"string"==typeof e&&this._getLog("warn","Git#submoduleInit: args should be supplied as an array of individual arguments");var r=a.trailingFunctionArgument(arguments),n=e!==r?e:[];return this.subModule(["init"].concat(n),(function(e,t){r&&r(e,t)}))},a.prototype.subModule=function(e,t){return Array.isArray(e)?("submodule"!==e[0]&&e.unshift("submodule"),this._run(e,(function(e,r){t&&t(e||null,e?null:r)}))):this.exec((function(){t&&t(new TypeError("Git.subModule requires an array of arguments"))}))},a.prototype.listRemote=function(e,t){var r=a.trailingFunctionArgument(arguments),n=r===e||void 0===e?[]:e;return"string"==typeof n&&this._getLog("warn","Git#listRemote: args should be supplied as an array of individual arguments"),this._run(["ls-remote"].concat(n),(function(e,t){r&&r(e,t)}))},a.prototype.addRemote=function(e,t,r){return this._run(["remote","add",e,t],(function(e){r&&r(e)}))},a.prototype.removeRemote=function(e,t){return this._run(["remote","remove",e],(function(e){t&&t(e)}))},a.prototype.getRemotes=function(e,t){var r=a.trailingFunctionArgument(arguments),n=!0===e?["-v"]:[];return this.remote(n,(function(e,t){r&&r(e,!e&&t.trim().split("\n").filter(Boolean).reduce((function(e,t){var r=t.trim().split(/\s+/),n=r.shift();return e[n]||(e[n]=e[e.length]={name:n,refs:{}}),r.length&&(e[n].refs[r.pop().replace(/[^a-z]/g,"")]=r.pop()),e}),[]).slice(0))}))},a.prototype.remote=function(e,t){return Array.isArray(e)?("remote"!==e[0]&&e.unshift("remote"),this._run(e,(function(e,r){t&&t(e||null,e?null:r)}))):this.exec((function(){t&&t(new TypeError("Git.remote requires an array of arguments"))}))},a.prototype.mergeFromTo=function(e,t,r,n){var i=[e,t],s=a.trailingFunctionArgument(arguments);return Array.isArray(r)&&(i=i.concat(r)),this.merge(i,s)},a.prototype.merge=function(e,t){var r=this,n=a.trailingFunctionArgument(arguments)||s,i=function(e,t){if(!e&&t.failed)return a.fail(r,t,n);n(e,t)},o=[];return a._appendOptions(o,a.trailingOptionsArgument(arguments)),o.push.apply(o,a.trailingArrayArgument(arguments)),"merge"!==o[0]&&o.unshift("merge"),1===o.length?this.exec((function(){t&&t(new TypeError("Git.merge requires at least one option"))})):this._run(o,a._responseHandler(i,"MergeSummary"),{concatStdErr:!0})},a.prototype.tag=function(e,t){var r=[];return a._appendOptions(r,a.trailingOptionsArgument(arguments)),r.push.apply(r,a.trailingArrayArgument(arguments)),"tag"!==r[0]&&r.unshift("tag"),this._run(r,a._responseHandler(a.trailingFunctionArgument(arguments)))},a.prototype.updateServerInfo=function(e){return this._run(["update-server-info"],(function(t,r){e&&e(t,!t&&r)}))},a.prototype.push=function(e,t,r){var n=[],i=a.trailingFunctionArgument(arguments);return"string"==typeof e&&"string"==typeof t&&n.push(e,t),Array.isArray(e)&&(n=n.concat(e)),a._appendOptions(n,a.trailingOptionsArgument(arguments)),"push"!==n[0]&&n.unshift("push"),this._run(n,(function(e,t){i&&i(e,!e&&t)}))},a.prototype.pushTags=function(e,t){var r=["push"];return"string"==typeof e&&r.push(e),r.push("--tags"),t="function"==typeof arguments[arguments.length-1]?arguments[arguments.length-1]:null,this._run(r,(function(e,r){t&&t(e,!e&&r)}))},a.prototype.rm=function(e,t){return this._rm(e,"-f",t)},a.prototype.rmKeepLocal=function(e,t){return this._rm(e,"--cached",t)},a.prototype.catFile=function(e,t){return this._catFile("utf-8",arguments)},a.prototype.binaryCatFile=function(e,t){return this._catFile("buffer",arguments)},a.prototype._catFile=function(e,t){var r=a.trailingFunctionArgument(t),n=["cat-file"],i=t[0];if("string"==typeof i)throw new TypeError("Git#catFile: options must be supplied as an array of strings");return Array.isArray(i)&&n.push.apply(n,i),this._run(n,(function(e,t){r&&r(e,t)}),{format:e})},a.prototype.diff=function(e,t){var r=["diff"];return"string"==typeof e?(r[0]+=" "+e,this._getLog("warn","Git#diff: supplying options as a single string is now deprecated, switch to an array of strings")):Array.isArray(e)&&r.push.apply(r,e),"function"==typeof arguments[arguments.length-1]&&(t=arguments[arguments.length-1]),this._run(r,(function(e,r){t&&t(e,r)}))},a.prototype.diffSummary=function(e,t){var r=a.trailingFunctionArgument(arguments),n=["--stat=4096"];return e&&e!==r&&n.push.apply(n,[].concat(e)),this.diff(n,a._responseHandler(r,"DiffSummary"))},a.prototype.revparse=function(e,t){var r=["rev-parse"];return"string"==typeof e?(r=r+" "+e,this._getLog("warn","Git#revparse: supplying options as a single string is now deprecated, switch to an array of strings")):Array.isArray(e)&&r.push.apply(r,e),"function"==typeof arguments[arguments.length-1]&&(t=arguments[arguments.length-1]),this._run(r,(function(e,r){t&&t(e,e?null:String(r).trim())}))},a.prototype.show=function(e,t){var r=[].slice.call(arguments,0),n="function"==typeof r[r.length-1]?r.pop():null,i=["show"];return"string"==typeof e?(i=i+" "+e,this._getLog("warn","Git#show: supplying options as a single string is now deprecated, switch to an array of strings")):Array.isArray(e)&&i.push.apply(i,e),this._run(i,(function(e,t){n&&n(e,!e&&t)}))},a.prototype.clean=function(e,t,r){var n=a.trailingFunctionArgument(arguments);if("string"!=typeof e||!/[nf]/.test(e))return this.exec((function(){n&&n(new TypeError('Git clean mode parameter ("n" or "f") is required'))}));if(/[^dfinqxX]/.test(e))return this.exec((function(){n&&n(new TypeError("Git clean unknown option found in "+JSON.stringify(e)))}));var i=["clean","-"+e];return Array.isArray(t)&&(i=i.concat(t)),i.some(s)?this.exec((function(){n&&n(new TypeError("Git clean interactive mode is not supported"))})):this._run(i,(function(e,t){n&&n(e,!e&&t)}));function s(e){return/^-[^\-]/.test(e)?e.indexOf("i")>0:"--interactive"===e}},a.prototype.exec=function(e){return this._run([],(function(){"function"==typeof e&&e()})),this},a.prototype.then=function(e){return this._getLog("error","\nGit#then is deprecated after version 1.72 and will be removed in version 2.x\nTo use promises switch to importing 'simple-git/promise'."),this.exec(e)},a.prototype.log=function(e,t){var r=a.trailingFunctionArgument(arguments),n=(r===t?e:null)||{},i=n.splitter||c("ListLogSummary").SPLITTER,s=n.format||{hash:"%H",date:"%ai",message:"%s",refs:"%D",body:n.multiLine?"%B":"%b",author_name:"%aN",author_email:"%ae"},o=!1!==n.symmetric?"...":"..",u=Object.keys(s),h=u.map((function(e){return s[e]})).join(i),l=[],f=["log","--pretty=format:"+c("ListLogSummary").START_BOUNDARY+h+c("ListLogSummary").COMMIT_BOUNDARY];return Array.isArray(n)?(f=f.concat(n),n={}):"string"!=typeof arguments[0]&&"string"!=typeof arguments[1]||(this._getLog("warn","Git#log: supplying to or from as strings is now deprecated, switch to an options configuration object"),n={from:arguments[0],to:arguments[1]}),(n.n||n["max-count"])&&f.push("--max-count="+(n.n||n["max-count"])),n.from&&n.to&&f.push(n.from+o+n.to),n.file&&l.push("--follow",e.file),"splitter n max-count file from to --pretty format symmetric multiLine".split(" ").forEach((function(e){delete n[e]})),a._appendOptions(f,n),this._run(f.concat(l),a._responseHandler(r,"ListLogSummary",[i,u]))},a.prototype.clearQueue=function(){return this._runCache.length=0,this},a.prototype.checkIgnore=function(e,t){var r=a.trailingFunctionArgument(arguments),n=["check-ignore"];return r!==e&&(n=n.concat(e)),this._run(n,(function(e,t){r&&r(e,!e&&this._parseCheckIgnore(t))}))},a.prototype.checkIsRepo=function(e){return this._run(["rev-parse","--is-inside-work-tree"],(function(t,r){e&&e(t,"true"===String(r).trim())}),{onError:function(e,t,r,n){if(128===e&&/(Not a git repository|Kein Git-Repository)/i.test(t))return r(!1);n(t)}})},a.prototype._rm=function(e,t,r){var n=[].concat(e),i=["rm",t];return i.push.apply(i,n),this._run(i,(function(e){r&&r(e)}))},a.prototype._parseCheckout=function(e){},a.prototype._parseCheckIgnore=function(e){return e.split(/\n/g).filter(Boolean).map((function(e){return e.trim()}))},a.prototype._run=function(e,t,r){return"string"==typeof e&&(e=e.split(" ")),this._runCache.push([e,t,r||{}]),this._schedule(),this},a.prototype._schedule=function(){if(!this._childProcess&&this._runCache.length){var e=this,r=e.Buffer,i=e._runCache.shift(),s=i[0],o=i[1],c=i[2];t(s);var u=n(),h=!1,l=function e(t){(h||p.length||f.length)&&(u.resolve(t),h=!0),h||(h=!0,setTimeout(e.bind(this,t),50))},f=[],p=[],d=e.ChildProcess.spawn(e._command,s.slice(0),{cwd:e._baseDir,env:e._env,windowsHide:!0});d.stdout.on("data",(function(e){f.push(e)})),d.stderr.on("data",(function(e){p.push(e)})),d.on("error",(function(e){p.push(r.from(e.stack,"ascii"))})),d.on("close",l),d.on("exit",l),u.promise.then((function(t){function n(t){o.call(e,null,t)}function i(t){a.fail(e,t,o)}if(delete e._childProcess,t&&p.length&&c.onError)c.onError(t,r.concat(p).toString("utf-8"),n,i);else if(t&&p.length)i(r.concat(p).toString("utf-8"));else{c.concatStdErr&&[].push.apply(f,p);var s=r.concat(f);"buffer"!==c.format&&(s=s.toString(c.format||"utf-8")),n(s)}process.nextTick(e._schedule.bind(e))})),e._childProcess=d,e._outputHandler&&e._outputHandler(s[0],e._childProcess.stdout,e._childProcess.stderr)}},a.fail=function(e,t,r){e._getLog("error",t),e._runCache.length=0,"function"==typeof r&&r.call(e,t,null)},a.trailingFunctionArgument=function(e){var t=e[e.length-1];return"function"==typeof t?t:null},a.trailingOptionsArgument=function(e){var t=e[e.length-(a.trailingFunctionArgument(e)?2:1)];return"[object Object]"===Object.prototype.toString.call(t)?t:null},a.trailingArrayArgument=function(e){var t=e[e.length-(a.trailingFunctionArgument(e)?2:1)];return"[object Array]"===Object.prototype.toString.call(t)?t:[]},a._appendOptions=function(e,t){null!==t&&Object.keys(t).forEach((function(r){var n=t[r];"string"==typeof n?e.push(r+"="+n):e.push(r)}))},a._responseHandler=function(e,t,r){return function(n,i){if("function"==typeof e){if(n)return e(n,null);if(!t)return e(null,i);var s=c(t),o=s.parse.apply(s,[i].concat(void 0===r?[]:r));e(null,o)}}},a.exception=function(e,t,r){e._runCache.length=0,"function"==typeof r&&r(t instanceof Error?t:new Error(t)),e._getLog("error",t)},e.exports=a}()},function(e,t,r){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(164):e.exports=r(166)},function(e,t,r){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(70)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t){var r=1e3,n=60*r,i=60*n,s=24*i,o=7*s,a=365.25*s;function c(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var c=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*o;case"days":case"day":case"d":return c*s;case"hours":case"hour":case"hrs":case"hr":case"h":return c*i;case"minutes":case"minute":case"mins":case"min":case"m":return c*n;case"seconds":case"second":case"secs":case"sec":case"s":return c*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===u&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=s)return c(e,t,s,"day");if(t>=i)return c(e,t,i,"hour");if(t>=n)return c(e,t,n,"minute");if(t>=r)return c(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=s)return Math.round(e/s)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){const n=r(167),i=r(2);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(i.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:i}=this;if(i){const t=this.color,i="[3"+(t<8?t:"8;5;"+t),s=`  ${i};1m${n} [0m`;r[0]=s+r[0].split("\n").join("\n"+s),r.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{const e=r(168);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(70)(t);const{formatters:s}=e.exports;s.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},s.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},function(e,t){e.exports=require("tty")},function(e,t,r){"use strict";const n=r(26),i=r(169),s=process.env;let o;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(!1===o)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!e.isTTY&&!0!==o)return 0;const t=o?1:0;if("win32"===process.platform){const e=n.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in s)||"codeship"===s.CI_NAME?1:t;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){const e=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)?1:"COLORTERM"in s?1:(s.TERM,t)}(e))}i("no-color")||i("no-colors")||i("color=false")?o=!1:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(o=!0),"FORCE_COLOR"in s&&(o=0===s.FORCE_COLOR.length||0!==parseInt(s.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t,r){"use strict";e.exports=(e,t)=>{t=t||process.argv;const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return-1!==n&&(-1===i||n<i)}},function(e,t){e.exports=function(){var e={};return e.promise=new Promise((function(t,r){e.resolve=t,e.reject=r})),e}},function(e,t,r){e.exports={BranchDeleteSummary:r(172),BranchSummary:r(173),CommitSummary:r(174),DiffSummary:r(72),FetchSummary:r(175),FileStatusSummary:r(73),ListLogSummary:r(176),MergeSummary:r(177),MoveSummary:r(178),PullSummary:r(74),StatusSummary:r(179),TagList:r(180)}},function(e,t){function r(e,t){this.branch=e,this.hash=t,this.success=null!==t}e.exports=r,r.deleteSuccessRegex=/(\S+)\s+\(\S+\s([^\)]+)\)/,r.deleteErrorRegex=/^error[^']+'([^']+)'/,r.parse=function(e,t){var n,i=e.trim().split("\n").map((function(e){return(n=r.deleteSuccessRegex.exec(e))?new r(n[1],n[2]):(n=r.deleteErrorRegex.exec(e))?new r(n[1],null):void 0})).filter(Boolean);return t?i:i.pop()}},function(e,t){function r(){this.detached=!1,this.current="",this.all=[],this.branches={}}e.exports=r,r.prototype.push=function(e,t,r,n,i){e&&(this.detached=t,this.current=r),this.all.push(r),this.branches[r]={current:e,name:r,commit:n,label:i}},r.detachedRegex=/^(\*?\s+)\((?:HEAD )?detached (?:from|at) (\S+)\)\s+([a-z0-9]+)\s(.*)$/,r.branchRegex=/^(\*?\s+)(\S+)\s+([a-z0-9]+)\s(.*)$/,r.parse=function(e){var t=new r;return e.split("\n").forEach((function(e){var n=!0,i=r.detachedRegex.exec(e);i||(n=!1,i=r.branchRegex.exec(e)),i&&t.push("*"===i[1].charAt(0),n,i[2],i[3],i[4])})),t}},function(e,t){function r(){this.branch="",this.commit="",this.summary={changes:0,insertions:0,deletions:0},this.author=null}e.exports=r;var n=/\[([^\s]+) ([^\]]+)/,i=/\s*Author:\s(.+)/i;r.parse=function(e){var t=e.trim().split("\n"),s=new r;return function(e,t){t&&(e.branch=t[1],e.commit=t[2])}(s,n.exec(t.shift())),i.test(t[0])&&function(e,t){var r=t[1].split("<"),n=r.pop();n.indexOf("@")<=0||(e.author={email:n.substr(0,n.length-1),name:r.join("<").trim()})}(s,i.exec(t.shift())),function(e,t){e.branch&&t&&(e.summary.changes=t[1]||0,e.summary.insertions=t[2]||0,e.summary.deletions=t[3]||0)}(s,/(\d+)[^,]*(?:,\s*(\d+)[^,]*)?(?:,\s*(\d+))?/g.exec(t.shift())),s}},function(e,t,r){"use strict";function n(e){this.raw=e,this.remote=null,this.branches=[],this.tags=[]}n.parsers=[[/From (.+)$/,function(e,t){e.remote=t[0]}],[/\* \[new branch\]\s+(\S+)\s*\-> (.+)$/,function(e,t){e.branches.push({name:t[0],tracking:t[1]})}],[/\* \[new tag\]\s+(\S+)\s*\-> (.+)$/,function(e,t){e.tags.push({name:t[0],tracking:t[1]})}]],n.parse=function(e){var t=new n(e);return String(e).trim().split("\n").forEach((function(e){var r=e.trim();n.parsers.some((function(e){var n=e[0].exec(r);if(n)return e[1](t,n.slice(1)),!0}))})),t},e.exports=n},function(e,t,r){e.exports=i;var n=r(72);function i(e){this.all=e,this.latest=e.length&&e[0]||null,this.total=e.length}function s(e,t){for(var r=0;r<t.length;r++)this[t[r]]=e[r]||""}i.prototype.all=null,i.prototype.latest=null,i.prototype.total=0,s.prototype.diff=null,i.START_BOUNDARY="òòòòòò ",i.COMMIT_BOUNDARY=" òò",i.SPLITTER=" ò ",i.parse=function(e,t,r){return r=r||["hash","date","message","refs","author_name","author_email"],new i(e.trim().split(i.START_BOUNDARY).filter((function(e){return!!e.trim()})).map((function(e){var o=e.trim().split(i.COMMIT_BOUNDARY),a=new s(o[0].trim().split(t),r);return o.length>1&&o[1].trim()&&(a.diff=n.parse(o[1])),a})))}},function(e,t,r){e.exports=s;var n=r(74);function i(e,t){this.reason=e,this.file=t}function s(){n.call(this),this.conflicts=[],this.merges=[]}i.prototype.toString=function(){return this.file+":"+this.reason},s.prototype=Object.create(n.prototype),s.prototype.result="success",s.prototype.toString=function(){return this.conflicts.length?"CONFLICTS: "+this.conflicts.join(", "):"OK"},Object.defineProperty(s.prototype,"failed",{get:function(){return this.conflicts.length>0}}),s.parsers=[{test:/^Auto-merging\s+(.+)$/,handle:function(e,t){t.merges.push(e[1])}},{test:/^CONFLICT\s+\((.+)\).+ in (.+)$/,handle:function(e,t){t.conflicts.push(new i(e[1],e[2]))}},{test:/^Automatic merge failed;\s+(.+)$/,handle:function(e,t){t.reason=t.result=e[1]}}],s.parse=function(e){let t=new s;e.trim().split("\n").forEach((function(e){for(var r=0,n=s.parsers.length;r<n;r++){let n=s.parsers[r];var i=n.test.exec(e);if(i){n.handle(i,t);break}}}));let r=n.parse(e);return r.summary.changes&&Object.assign(t,r),t}},function(e,t){function r(){this.moves=[],this.sources={}}e.exports=r,r.SUMMARY_REGEX=/^Renaming (.+) to (.+)$/,r.parse=function(e){for(var t,n=e.split("\n"),i=new r,s=0,o=n.length;s<o;s++)(t=r.SUMMARY_REGEX.exec(n[s].trim()))&&i.moves.push({from:t[1],to:t[2]});return i}},function(e,t,r){var n=r(73);function i(){this.not_added=[],this.conflicted=[],this.created=[],this.deleted=[],this.modified=[],this.renamed=[],this.files=[],this.staged=[]}function s(e){var t=e.trim().match(/(..?)(\s+)(.*)/);if(t&&t[1].trim()||(t=e.trim().match(/(..?)\s+(.*)/)),t){var r=t[1];return t[2].length>1&&(r+=" "),1===r.length&&1===t[2].length&&(r=" "+r),{raw:r,code:r.trim(),index:r.charAt(0),workingDir:r.charAt(1),handler:i.parsers[r.trim()],path:t[3]}}}e.exports=i,i.prototype.ahead=0,i.prototype.behind=0,i.prototype.current=null,i.prototype.tracking=null,i.prototype.files=null,i.prototype.isClean=function(){return 0===Object.keys(this).filter((function(e){return Array.isArray(this[e])&&this[e].length}),this).length},i.parsers={"##":function(e,t){var r;r=/ahead (\d+)/.exec(e),t.ahead=r&&+r[1]||0,r=/behind (\d+)/.exec(e),t.behind=r&&+r[1]||0,r=/^(.+?(?=(?:\.{3}|\s|$)))/.exec(e),t.current=r&&r[1],r=/\.{3}(\S*)/.exec(e),t.tracking=r&&r[1]},"??":function(e,t){t.not_added.push(e)},A:function(e,t){t.created.push(e)},AM:function(e,t){t.created.push(e)},D:function(e,t){t.deleted.push(e)},M:function(e,t,r){t.modified.push(e),"M"===r&&t.staged.push(e)},R:function(e,t){var r=/^(.+) -> (.+)$/.exec(e)||[null,e,e];t.renamed.push({from:r[1],to:r[2]})},UU:function(e,t){t.conflicted.push(e)}},i.parsers.MM=i.parsers.M,i.parse=function(e){for(var t,r,o=e.trim().split("\n"),a=new i;r=o.shift();)(t=s(r))&&(t.handler&&t.handler(t.path,a,t.index,t.workingDir),"##"!==t.code&&a.files.push(new n(t.path,t.index,t.workingDir)));return a}},function(e,t){function r(e,t){this.latest=t,this.all=e}e.exports=r,r.parse=function(e,t){var n=function(e){return"string"==typeof e&&parseInt(e.replace(/^\D+/g,""),10)||0},i=e.trim().split("\n").map((function(e){return e.trim()})).filter(Boolean);t||i.sort((function(e,t){var r=e.split("."),i=t.split(".");if(1===r.length||1===i.length)return e-t>0?1:-1;for(var s=0,o=Math.max(r.length,i.length);s<o;s++){var a=n(r[s])-n(i[s]);if(a)return a>0?1:-1}return 0}));var s=t?i[0]:i.filter((function(e){return e.indexOf(".")>=0})).pop();return new r(i,s)}},function(e,t,r){e.exports={buffer:function(){return r(21).Buffer},childProcess:function(){return r(56)},exists:r(71)}}]);
//# sourceMappingURL=extension.js.map